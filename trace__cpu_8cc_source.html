<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gem5: cpu/trace/trace_cpu.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">gem5
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c433b04169c945a1c7f0848f853d4379.html">cpu</a></li><li class="navelem"><a class="el" href="dir_b89939c8f7e8dcfd9eaa2f2018d044c4.html">trace</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">trace_cpu.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="trace__cpu_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2013 - 2016 ARM Limited</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * All rights reserved</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * The license below extends only to copyright in the software and shall</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * not be construed as granting a license to any other intellectual</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * property including but not limited to intellectual property relating</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * to a hardware implementation of the functionality of the software</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * licensed hereunder.  You may use the software subject to the license</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * terms below provided that you ensure that this notice is replicated</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * unmodified and in its entirety in all distributions of the software,</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * modified or unmodified, in source code or in binary form.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * Redistribution and use in source and binary forms, with or without</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * modification, are permitted provided that the following conditions are</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * met: redistributions of source code must retain the above copyright</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * notice, this list of conditions and the following disclaimer;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * redistributions in binary form must reproduce the above copyright</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * notice, this list of conditions and the following disclaimer in the</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * documentation and/or other materials provided with the distribution;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * neither the name of the copyright holders nor the names of its</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * contributors may be used to endorse or promote products derived from</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * this software without specific prior written permission.</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> * Authors: Radhika Jagtap</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> *          Andreas Hansson</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> *          Thomas Grass</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="trace__cpu_8hh.html">cpu/trace/trace_cpu.hh</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sim__exit_8hh.html">sim/sim_exit.hh</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">// Declare and initialize the static counter for number of trace CPUs.</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keywordtype">int</span> <a class="code" href="classTraceCPU.html#a5a94955e05577d8864caceaea393bcca">TraceCPU::numTraceCPUs</a> = 0;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="classTraceCPU.html#a51b589b4ef1c74eae5b0ec7f6af4be98">   49</a></span>&#160;<a class="code" href="classTraceCPU.html#a51b589b4ef1c74eae5b0ec7f6af4be98">TraceCPU::TraceCPU</a>(TraceCPUParams *params)</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    :   <a class="code" href="classBaseCPU.html">BaseCPU</a>(params),</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        icachePort(this),</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        dcachePort(this),</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        instMasterID(params-&gt;<a class="code" href="namespaceX86ISA.html#a313686d10ce407058a35bddec45c211f">system</a>-&gt;getMasterId(this, <span class="stringliteral">&quot;inst&quot;</span>)),</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        dataMasterID(params-&gt;<a class="code" href="namespaceX86ISA.html#a313686d10ce407058a35bddec45c211f">system</a>-&gt;getMasterId(this, <span class="stringliteral">&quot;data&quot;</span>)),</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        instTraceFile(params-&gt;instTraceFile),</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        dataTraceFile(params-&gt;dataTraceFile),</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        icacheGen(*this, <span class="stringliteral">&quot;.iside&quot;</span>, icachePort, instMasterID, instTraceFile),</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        dcacheGen(*this, <span class="stringliteral">&quot;.dside&quot;</span>, dcachePort, dataMasterID, dataTraceFile,</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                  params),</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        icacheNextEvent([this]{ <a class="code" href="classTraceCPU.html#ae4a021fc778a17f520d6df2a440b3f30">schedIcacheNext</a>(); }, <a class="code" href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">name</a>()),</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <a class="code" href="classTraceCPU.html#af2bbab70459b0dc440ca4d23bf3ca215">dcacheNextEvent</a>([<span class="keyword">this</span>]{ <a class="code" href="classTraceCPU.html#a1a7a5652d6c50e3eadba8d2ef8f0e72f">schedDcacheNext</a>(); }, <a class="code" href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">name</a>()),</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <a class="code" href="classTraceCPU.html#a69fc9f9852d78393169cfe7ba1c451a0">oneTraceComplete</a>(<span class="keyword">false</span>),</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <a class="code" href="classTraceCPU.html#a093ad5ed1dc01729cfaee13e2ccad7d7">traceOffset</a>(0),</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="classTraceCPU.html#a57055c43d8544bbc8f32aedde2e49a59">execCompleteEvent</a>(<span class="keyword">nullptr</span>),</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <a class="code" href="classTraceCPU.html#a8cf16116d8dc1abf33d9e5a78edd4499">enableEarlyExit</a>(<a class="code" href="classBaseCPU.html#a258986ef5de8019c07bc338f1254e671">params</a>-&gt;enableEarlyExit),</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="classTraceCPU.html#a0ba3d26a3b3ff42abae3b61e13062bf7">progressMsgInterval</a>(<a class="code" href="classBaseCPU.html#a258986ef5de8019c07bc338f1254e671">params</a>-&gt;progressMsgInterval),</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <a class="code" href="classTraceCPU.html#a4c236017e06708bb37f406dbea78729f">progressMsgThreshold</a>(<a class="code" href="classBaseCPU.html#a258986ef5de8019c07bc338f1254e671">params</a>-&gt;progressMsgInterval)</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;{</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// Increment static counter for number of Trace CPUs.</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    ++<a class="code" href="classTraceCPU.html#a5a94955e05577d8864caceaea393bcca">TraceCPU::numTraceCPUs</a>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="comment">// Check that the python parameters for sizes of ROB, store buffer and</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">// load buffer do not overflow the corresponding C++ variables.</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="logging_8hh.html#a2127c4f5f05a25aea5ffc00677fc3ffe">fatal_if</a>(<a class="code" href="classBaseCPU.html#a258986ef5de8019c07bc338f1254e671">params</a>-&gt;sizeROB &gt; UINT16_MAX, <span class="stringliteral">&quot;ROB size set to %d exceeds the &quot;</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                <span class="stringliteral">&quot;max. value of %d.\n&quot;</span>, <a class="code" href="classBaseCPU.html#a258986ef5de8019c07bc338f1254e671">params</a>-&gt;sizeROB, UINT16_MAX);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="logging_8hh.html#a2127c4f5f05a25aea5ffc00677fc3ffe">fatal_if</a>(<a class="code" href="classBaseCPU.html#a258986ef5de8019c07bc338f1254e671">params</a>-&gt;sizeStoreBuffer &gt; UINT16_MAX, <span class="stringliteral">&quot;ROB size set to %d &quot;</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                <span class="stringliteral">&quot;exceeds the max. value of %d.\n&quot;</span>, <a class="code" href="classBaseCPU.html#a258986ef5de8019c07bc338f1254e671">params</a>-&gt;sizeROB,</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                UINT16_MAX);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="logging_8hh.html#a2127c4f5f05a25aea5ffc00677fc3ffe">fatal_if</a>(<a class="code" href="classBaseCPU.html#a258986ef5de8019c07bc338f1254e671">params</a>-&gt;sizeLoadBuffer &gt; UINT16_MAX, <span class="stringliteral">&quot;Load buffer size set to&quot;</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                <span class="stringliteral">&quot; %d exceeds the max. value of %d.\n&quot;</span>,</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                <a class="code" href="classBaseCPU.html#a258986ef5de8019c07bc338f1254e671">params</a>-&gt;sizeLoadBuffer, UINT16_MAX);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="classTraceCPU.html#a5ae4cf60773938c77569f3b54a3b700f">   84</a></span>&#160;<a class="code" href="classTraceCPU.html#a5ae4cf60773938c77569f3b54a3b700f">TraceCPU::~TraceCPU</a>()</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;{</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;}</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<a class="code" href="classTraceCPU.html">TraceCPU</a>*</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;TraceCPUParams::create()</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;{</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classTraceCPU.html#a51b589b4ef1c74eae5b0ec7f6af4be98">TraceCPU</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="classTraceCPU.html#a3ab4725c4080061aff64460a3d3d2a10">   96</a></span>&#160;<a class="code" href="classTraceCPU.html#a3ab4725c4080061aff64460a3d3d2a10">TraceCPU::updateNumOps</a>(uint64_t rob_num)</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;{</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="classTraceCPU.html#a92b55c66bec72165d0bc5d36d36e3399">numOps</a> = rob_num;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classTraceCPU.html#a0ba3d26a3b3ff42abae3b61e13062bf7">progressMsgInterval</a> != 0 &amp;&amp; <a class="code" href="classTraceCPU.html#a92b55c66bec72165d0bc5d36d36e3399">numOps</a>.<a class="code" href="classStats_1_1ScalarBase.html#a453ffa9a0e4f542ace4fa1778fa3485e">value</a>() &gt;= <a class="code" href="classTraceCPU.html#a4c236017e06708bb37f406dbea78729f">progressMsgThreshold</a>) {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <a class="code" href="logging_8hh.html#ae7d790080fa18103d7582effff570b9e">inform</a>(<span class="stringliteral">&quot;%s: %i insts committed\n&quot;</span>, <a class="code" href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">name</a>(), <a class="code" href="classTraceCPU.html#a4c236017e06708bb37f406dbea78729f">progressMsgThreshold</a>);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <a class="code" href="classTraceCPU.html#a4c236017e06708bb37f406dbea78729f">progressMsgThreshold</a> += <a class="code" href="classTraceCPU.html#a0ba3d26a3b3ff42abae3b61e13062bf7">progressMsgInterval</a>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="classTraceCPU.html#ac05f2267a479ba330234728a3a30d351">  106</a></span>&#160;<a class="code" href="classTraceCPU.html#ac05f2267a479ba330234728a3a30d351">TraceCPU::takeOverFrom</a>(<a class="code" href="classBaseCPU.html">BaseCPU</a> *oldCPU)</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;{</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// Unbind the ports of the old CPU and bind the ports of the TraceCPU.</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="classTraceCPU.html#a2d1ed5f8a0e483dffe74751cd1d64c43">getInstPort</a>().<a class="code" href="classPort.html#a8c94a47998c9e7d2fab75f79682ffc16">takeOverFrom</a>(&amp;oldCPU-&gt;<a class="code" href="classBaseCPU.html#ab06a1e3904dc838072e5e2b1bec6d630">getInstPort</a>());</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="classTraceCPU.html#a25b0dea161bfd3df211857d339944315">getDataPort</a>().<a class="code" href="classPort.html#a8c94a47998c9e7d2fab75f79682ffc16">takeOverFrom</a>(&amp;oldCPU-&gt;<a class="code" href="classBaseCPU.html#a72e011337eb0120512b41ed4fd23745a">getDataPort</a>());</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="classTraceCPU.html#afdd4e871934e84c328c3d01cafe40455">  114</a></span>&#160;<a class="code" href="classTraceCPU.html#afdd4e871934e84c328c3d01cafe40455">TraceCPU::init</a>()</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;{</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUInst, <span class="stringliteral">&quot;Instruction fetch request trace file is \&quot;%s\&quot;.&quot;</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="stringliteral">&quot;\n&quot;</span>, <a class="code" href="classTraceCPU.html#afbd709dba074ffc7658bd18b0318cfa9">instTraceFile</a>);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Data memory request trace file is \&quot;%s\&quot;.\n&quot;</span>,</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <a class="code" href="classTraceCPU.html#a84920e2dae3fe73cd021e0cd1f599dea">dataTraceFile</a>);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="classBaseCPU.html#a2f23fd3267b49197b46ba0aceb1e0cb8">BaseCPU::init</a>();</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// Get the send tick of the first instruction read request</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> first_icache_tick = <a class="code" href="classTraceCPU.html#a7c22b93ca3125bea00cee39c80b3c8d2">icacheGen</a>.<a class="code" href="classTraceCPU_1_1FixedRetryGen.html#a1aad3244be9ce90525e8edcdc3f1afa1">init</a>();</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">// Get the send tick of the first data read/write request</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> first_dcache_tick = <a class="code" href="classTraceCPU.html#aba2a0a9163f1f178c0e6f0ee6fd1cea4">dcacheGen</a>.<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a26aee1aa701bf9a9ce44e5a2be4e8824">init</a>();</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">// Set the trace offset as the minimum of that in both traces</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="classTraceCPU.html#a093ad5ed1dc01729cfaee13e2ccad7d7">traceOffset</a> = std::min(first_icache_tick, first_dcache_tick);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="logging_8hh.html#ae7d790080fa18103d7582effff570b9e">inform</a>(<span class="stringliteral">&quot;%s: Time offset (tick) found as min of both traces is %lli.\n&quot;</span>,</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <a class="code" href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">name</a>(), <a class="code" href="classTraceCPU.html#a093ad5ed1dc01729cfaee13e2ccad7d7">traceOffset</a>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">// Schedule next icache and dcache event by subtracting the offset</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="classEventManager.html#a749a10828b2dd5017a2582960d04e400">schedule</a>(<a class="code" href="classTraceCPU.html#a1422281f66ddb6c1cf5d33d1707bdd72">icacheNextEvent</a>, first_icache_tick - <a class="code" href="classTraceCPU.html#a093ad5ed1dc01729cfaee13e2ccad7d7">traceOffset</a>);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="classEventManager.html#a749a10828b2dd5017a2582960d04e400">schedule</a>(<a class="code" href="classTraceCPU.html#af2bbab70459b0dc440ca4d23bf3ca215">dcacheNextEvent</a>, first_dcache_tick - <a class="code" href="classTraceCPU.html#a093ad5ed1dc01729cfaee13e2ccad7d7">traceOffset</a>);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// Adjust the trace offset for the dcache generator&#39;s ready nodes</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// We don&#39;t need to do this for the icache generator as it will</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">// send its first request at the first event and schedule subsequent</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">// events using a relative tick delta</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="classTraceCPU.html#aba2a0a9163f1f178c0e6f0ee6fd1cea4">dcacheGen</a>.<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#add628b0c4f011bb34d610385dc9b70fa">adjustInitTraceOffset</a>(<a class="code" href="classTraceCPU.html#a093ad5ed1dc01729cfaee13e2ccad7d7">traceOffset</a>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">// If the Trace CPU simulation is configured to exit on any one trace</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment">// completion then we don&#39;t need a counted event to count down all Trace</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// CPUs in the system. If not then instantiate a counted event.</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTraceCPU.html#a8cf16116d8dc1abf33d9e5a78edd4499">enableEarlyExit</a>) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="comment">// The static counter for number of Trace CPUs is correctly set at</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="comment">// this point so create an event and pass it.</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <a class="code" href="classTraceCPU.html#a57055c43d8544bbc8f32aedde2e49a59">execCompleteEvent</a> = <span class="keyword">new</span> <a class="code" href="classCountedExitEvent.html">CountedExitEvent</a>(<span class="stringliteral">&quot;end of all traces reached.&quot;</span>,</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                                                 <a class="code" href="classTraceCPU.html#a5a94955e05577d8864caceaea393bcca">numTraceCPUs</a>);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="classTraceCPU.html#ae4a021fc778a17f520d6df2a440b3f30">  157</a></span>&#160;<a class="code" href="classTraceCPU.html#ae4a021fc778a17f520d6df2a440b3f30">TraceCPU::schedIcacheNext</a>()</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;{</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUInst, <span class="stringliteral">&quot;IcacheGen event.\n&quot;</span>);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">// Try to send the current packet or a retry packet if there is one</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordtype">bool</span> sched_next = <a class="code" href="classTraceCPU.html#a7c22b93ca3125bea00cee39c80b3c8d2">icacheGen</a>.<a class="code" href="classTraceCPU_1_1FixedRetryGen.html#a6272b162f23ef9811d426568c44d1fb4">tryNext</a>();</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">// If packet sent successfully, schedule next event</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span> (sched_next) {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUInst, <span class="stringliteral">&quot;Scheduling next icacheGen event &quot;</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                <span class="stringliteral">&quot;at %d.\n&quot;</span>, <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22">curTick</a>() + <a class="code" href="classTraceCPU.html#a7c22b93ca3125bea00cee39c80b3c8d2">icacheGen</a>.<a class="code" href="classTraceCPU_1_1FixedRetryGen.html#a9859cdf0a528249ca8dc0e5a5cab8c3c">tickDelta</a>());</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <a class="code" href="classEventManager.html#a749a10828b2dd5017a2582960d04e400">schedule</a>(<a class="code" href="classTraceCPU.html#a1422281f66ddb6c1cf5d33d1707bdd72">icacheNextEvent</a>, <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22">curTick</a>() + <a class="code" href="classTraceCPU.html#a7c22b93ca3125bea00cee39c80b3c8d2">icacheGen</a>.<a class="code" href="classTraceCPU_1_1FixedRetryGen.html#a9859cdf0a528249ca8dc0e5a5cab8c3c">tickDelta</a>());</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        ++<a class="code" href="classTraceCPU.html#a5f03850a914e1e4e23a9f62492863b78">numSchedIcacheEvent</a>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="comment">// check if traceComplete. If not, do nothing because sending failed</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="comment">// and next event will be scheduled via RecvRetry()</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classTraceCPU.html#a7c22b93ca3125bea00cee39c80b3c8d2">icacheGen</a>.<a class="code" href="classTraceCPU_1_1FixedRetryGen.html#a71cca3a57d6951873f32df40e86255ad">isTraceComplete</a>()) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="comment">// If this is the first trace to complete, set the variable. If it</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <span class="comment">// is already set then both traces are complete to exit sim.</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <a class="code" href="classTraceCPU.html#aac2175e3930f2a0385bb715581f55b83">checkAndSchedExitEvent</a>();</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="classTraceCPU.html#a1a7a5652d6c50e3eadba8d2ef8f0e72f">  182</a></span>&#160;<a class="code" href="classTraceCPU.html#a1a7a5652d6c50e3eadba8d2ef8f0e72f">TraceCPU::schedDcacheNext</a>()</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;{</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;DcacheGen event.\n&quot;</span>);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">// Update stat for numCycles</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="classBaseCPU.html#a205aff3cc2e726632f492ccd4f45d3ca">numCycles</a> = <a class="code" href="classClocked.html#a082ec89d11f90b11b91ba7876040e41e">clockEdge</a>() / <a class="code" href="classClocked.html#aa7fa265550d8232e766522699ca8fa38">clockPeriod</a>();</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="classTraceCPU.html#aba2a0a9163f1f178c0e6f0ee6fd1cea4">dcacheGen</a>.<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a04f8b2d7ea934270dd947b9a4a3244e7">execute</a>();</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classTraceCPU.html#aba2a0a9163f1f178c0e6f0ee6fd1cea4">dcacheGen</a>.<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a844134292f3b1023c9227bc73446f0ee">isExecComplete</a>()) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <a class="code" href="classTraceCPU.html#aac2175e3930f2a0385bb715581f55b83">checkAndSchedExitEvent</a>();</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="classTraceCPU.html#aac2175e3930f2a0385bb715581f55b83">  196</a></span>&#160;<a class="code" href="classTraceCPU.html#aac2175e3930f2a0385bb715581f55b83">TraceCPU::checkAndSchedExitEvent</a>()</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;{</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTraceCPU.html#a69fc9f9852d78393169cfe7ba1c451a0">oneTraceComplete</a>) {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <a class="code" href="classTraceCPU.html#a69fc9f9852d78393169cfe7ba1c451a0">oneTraceComplete</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="comment">// Schedule event to indicate execution is complete as both</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="comment">// instruction and data access traces have been played back.</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <a class="code" href="logging_8hh.html#ae7d790080fa18103d7582effff570b9e">inform</a>(<span class="stringliteral">&quot;%s: Execution complete.\n&quot;</span>, <a class="code" href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">name</a>());</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="comment">// If the replay is configured to exit early, that is when any one</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="comment">// execution is complete then exit immediately and return. Otherwise,</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="comment">// schedule the counted exit that counts down completion of each Trace</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="comment">// CPU.</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classTraceCPU.html#a8cf16116d8dc1abf33d9e5a78edd4499">enableEarlyExit</a>) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <a class="code" href="sim__events_8cc.html#abca976500ad365c77607ab77d87698a7">exitSimLoop</a>(<span class="stringliteral">&quot;End of trace reached&quot;</span>);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <a class="code" href="classEventManager.html#a749a10828b2dd5017a2582960d04e400">schedule</a>(*<a class="code" href="classTraceCPU.html#a57055c43d8544bbc8f32aedde2e49a59">execCompleteEvent</a>, <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22">curTick</a>());</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="classTraceCPU.html#a4199574d48c25747213258197c5491b7">  217</a></span>&#160;<a class="code" href="classTraceCPU.html#a4199574d48c25747213258197c5491b7">TraceCPU::regStats</a>()</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;{</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="classBaseCPU.html#aa2f420943abde80ac3f6d3071ee043bb">BaseCPU::regStats</a>();</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="classTraceCPU.html#ad62e23894f52233543d0ca2563c3fba9">numSchedDcacheEvent</a></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    .<a class="code" href="classStats_1_1DataWrap.html#a8f6effeadf113613c8e96c732bef7228">name</a>(<a class="code" href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">name</a>() + <span class="stringliteral">&quot;.numSchedDcacheEvent&quot;</span>)</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    .<a class="code" href="classStats_1_1DataWrap.html#a21c87112d21fd2a0caa14aaa343d8bc1">desc</a>(<span class="stringliteral">&quot;Number of events scheduled to trigger data request generator&quot;</span>)</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    ;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="classTraceCPU.html#a5f03850a914e1e4e23a9f62492863b78">numSchedIcacheEvent</a></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    .<a class="code" href="classStats_1_1DataWrap.html#a8f6effeadf113613c8e96c732bef7228">name</a>(<a class="code" href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">name</a>() + <span class="stringliteral">&quot;.numSchedIcacheEvent&quot;</span>)</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    .<a class="code" href="classStats_1_1DataWrap.html#a21c87112d21fd2a0caa14aaa343d8bc1">desc</a>(<span class="stringliteral">&quot;Number of events scheduled to trigger instruction request generator&quot;</span>)</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    ;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="classTraceCPU.html#a92b55c66bec72165d0bc5d36d36e3399">numOps</a></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    .<a class="code" href="classStats_1_1DataWrap.html#a8f6effeadf113613c8e96c732bef7228">name</a>(<a class="code" href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">name</a>() + <span class="stringliteral">&quot;.numOps&quot;</span>)</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    .<a class="code" href="classStats_1_1DataWrap.html#a21c87112d21fd2a0caa14aaa343d8bc1">desc</a>(<span class="stringliteral">&quot;Number of micro-ops simulated by the Trace CPU&quot;</span>)</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    ;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="classTraceCPU.html#a194b6900fe9565b0796d1ecdd6c81f59">cpi</a></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    .<a class="code" href="classStats_1_1DataWrap.html#a8f6effeadf113613c8e96c732bef7228">name</a>(<a class="code" href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">name</a>() + <span class="stringliteral">&quot;.cpi&quot;</span>)</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    .<a class="code" href="classStats_1_1DataWrap.html#a21c87112d21fd2a0caa14aaa343d8bc1">desc</a>(<span class="stringliteral">&quot;Cycles per micro-op used as a proxy for CPI&quot;</span>)</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    .<a class="code" href="classStats_1_1DataWrap.html#afe64a5e12da34c6c351a4de7b9c67000">precision</a>(6)</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    ;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="classTraceCPU.html#a194b6900fe9565b0796d1ecdd6c81f59">cpi</a> = <a class="code" href="classBaseCPU.html#a205aff3cc2e726632f492ccd4f45d3ca">numCycles</a>/<a class="code" href="classTraceCPU.html#a92b55c66bec72165d0bc5d36d36e3399">numOps</a>;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="classTraceCPU.html#a7c22b93ca3125bea00cee39c80b3c8d2">icacheGen</a>.<a class="code" href="classTraceCPU_1_1FixedRetryGen.html#ab5923214b77565d8643741f9f7c01d3d">regStats</a>();</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="classTraceCPU.html#aba2a0a9163f1f178c0e6f0ee6fd1cea4">dcacheGen</a>.<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#ab75bcda9115731db7beaada4036e2f60">regStats</a>();</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;}</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen.html#ab75bcda9115731db7beaada4036e2f60">  249</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#ab75bcda9115731db7beaada4036e2f60">TraceCPU::ElasticDataGen::regStats</a>()</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;{</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keyword">using namespace </span><a class="code" href="namespaceStats.html">Stats</a>;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    maxDependents</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    .name(<a class="code" href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">name</a>() + <span class="stringliteral">&quot;.maxDependents&quot;</span>)</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    .desc(<span class="stringliteral">&quot;Max number of dependents observed on a node&quot;</span>)</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    ;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    maxReadyListSize</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    .name(<a class="code" href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">name</a>() + <span class="stringliteral">&quot;.maxReadyListSize&quot;</span>)</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    .desc(<span class="stringliteral">&quot;Max size of the ready list observed&quot;</span>)</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    ;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    numSendAttempted</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    .name(<a class="code" href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">name</a>() + <span class="stringliteral">&quot;.numSendAttempted&quot;</span>)</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    .desc(<span class="stringliteral">&quot;Number of first attempts to send a request&quot;</span>)</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    ;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    numSendSucceeded</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    .name(<a class="code" href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">name</a>() + <span class="stringliteral">&quot;.numSendSucceeded&quot;</span>)</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    .desc(<span class="stringliteral">&quot;Number of successful first attempts&quot;</span>)</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    ;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    numSendFailed</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    .name(<a class="code" href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">name</a>() + <span class="stringliteral">&quot;.numSendFailed&quot;</span>)</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    .desc(<span class="stringliteral">&quot;Number of failed first attempts&quot;</span>)</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    ;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    numRetrySucceeded</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    .name(<a class="code" href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">name</a>() + <span class="stringliteral">&quot;.numRetrySucceeded&quot;</span>)</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    .desc(<span class="stringliteral">&quot;Number of successful retries&quot;</span>)</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    ;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    numSplitReqs</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    .name(<a class="code" href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">name</a>() + <span class="stringliteral">&quot;.numSplitReqs&quot;</span>)</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    .desc(<span class="stringliteral">&quot;Number of split requests&quot;</span>)</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    ;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    numSOLoads</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    .name(<a class="code" href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">name</a>() + <span class="stringliteral">&quot;.numSOLoads&quot;</span>)</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    .desc(<span class="stringliteral">&quot;Number of strictly ordered loads&quot;</span>)</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    ;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    numSOStores</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    .name(<a class="code" href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">name</a>() + <span class="stringliteral">&quot;.numSOStores&quot;</span>)</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    .desc(<span class="stringliteral">&quot;Number of strictly ordered stores&quot;</span>)</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    ;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    dataLastTick</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    .name(<a class="code" href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">name</a>() + <span class="stringliteral">&quot;.dataLastTick&quot;</span>)</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    .desc(<span class="stringliteral">&quot;Last tick simulated from the elastic data trace&quot;</span>)</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    ;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;}</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a></div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen.html#a26aee1aa701bf9a9ce44e5a2be4e8824">  305</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a26aee1aa701bf9a9ce44e5a2be4e8824">TraceCPU::ElasticDataGen::init</a>()</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;{</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Initializing data memory request generator &quot;</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <span class="stringliteral">&quot;DcacheGen: elastic issue with retry.\n&quot;</span>);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">if</span> (!readNextWindow())</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <a class="code" href="logging_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Trace has %d elements. It must have at least %d elements.\n&quot;</span>,</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;              depGraph.size(), 2 * windowSize);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;After 1st read, depGraph size:%d.\n&quot;</span>,</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            depGraph.size());</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">if</span> (!readNextWindow())</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <a class="code" href="logging_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Trace has %d elements. It must have at least %d elements.\n&quot;</span>,</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;              depGraph.size(), 2 * windowSize);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;After 2st read, depGraph size:%d.\n&quot;</span>,</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            depGraph.size());</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">// Print readyList</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="base_2trace_8hh.html#af76c9f7776aade1bf9d7dfa8a0c6b341">DTRACE</a>(TraceCPUData)) {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        printReadyList();</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keyword">auto</span> free_itr = readyList.begin();</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Execute tick of the first dependency free node %lli&quot;</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="stringliteral">&quot; is %d.\n&quot;</span>, free_itr-&gt;seqNum, free_itr-&gt;execTick);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">// Return the execute tick of the earliest ready node so that an event</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="comment">// can be scheduled to call execute()</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">return</span> (free_itr-&gt;execTick);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen.html#add628b0c4f011bb34d610385dc9b70fa">  335</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#add628b0c4f011bb34d610385dc9b70fa">TraceCPU::ElasticDataGen::adjustInitTraceOffset</a>(<a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&amp; <a class="code" href="namespaceArmISA.html#a19e4a68ca5c93c6136351d804b432b09">offset</a>) {</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; free_node : readyList) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        free_node.execTick -= <a class="code" href="namespaceArmISA.html#a19e4a68ca5c93c6136351d804b432b09">offset</a>;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;}</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen.html#a5028d0f8181369035d34ff5e0994101d">  342</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a5028d0f8181369035d34ff5e0994101d">TraceCPU::ElasticDataGen::exit</a>()</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;{</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    trace.reset();</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen.html#aa1fa778d9bab8afe92b7fb4a97a03135">  348</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#aa1fa778d9bab8afe92b7fb4a97a03135">TraceCPU::ElasticDataGen::readNextWindow</a>()</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;{</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">// Read and add next window</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Reading next window from file.\n&quot;</span>);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">if</span> (traceComplete) {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="comment">// We are at the end of the file, thus we have no more records.</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="comment">// Return false.</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    }</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Start read: Size of depGraph is %d.\n&quot;</span>,</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            depGraph.size());</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    uint32_t num_read = 0;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">while</span> (num_read != windowSize) {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="comment">// Create a new graph node</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html">GraphNode</a>* new_node = <span class="keyword">new</span> <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html">GraphNode</a>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="comment">// Read the next line to get the next record. If that fails then end of</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="comment">// trace has been reached and traceComplete needs to be set in addition</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="comment">// to returning false.</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keywordflow">if</span> (!trace.read(new_node)) {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;\tTrace complete!\n&quot;</span>);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            traceComplete = <span class="keyword">true</span>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="comment">// Annotate the ROB dependencies of the new node onto the parent nodes.</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        addDepsOnParent(new_node, new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a687041633ebba73e8102ee6bd974ec67">robDep</a>, new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#af211bc1b44b233f0e0093f1b63d81d1d">numRobDep</a>);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="comment">// Annotate the register dependencies of the new node onto the parent</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="comment">// nodes.</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        addDepsOnParent(new_node, new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#acfd24322db4c7a49403298962210acd9">regDep</a>, new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a4c5a498d593c185f86e0976d2e29bec4">numRegDep</a>);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        num_read++;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="comment">// Add to map</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        depGraph[new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f0b39a0866b0da182b37d8927bc9805">seqNum</a>] = new_node;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">if</span> (new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#af211bc1b44b233f0e0093f1b63d81d1d">numRobDep</a> == 0 &amp;&amp; new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a4c5a498d593c185f86e0976d2e29bec4">numRegDep</a> == 0) {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="comment">// Source dependencies are already complete, check if resources</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="comment">// are available and issue. The execution time is approximated</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <span class="comment">// to current time plus the computational delay.</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            checkAndIssue(new_node);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        }</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;End read: Size of depGraph is %d.\n&quot;</span>,</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            depGraph.size());</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;}</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">void</span></div><div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen.html#a009b2c3674fb453fcec103dd6ef35997">  401</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a009b2c3674fb453fcec103dd6ef35997">TraceCPU::ElasticDataGen::addDepsOnParent</a>(<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html">GraphNode</a> *new_node,</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                                            T&amp; dep_array, uint8_t&amp; num_dep)</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;{</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; a_dep : dep_array) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="comment">// The convention is to set the dependencies starting with the first</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="comment">// index in the ROB and register dependency arrays. Thus, when we reach</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="comment">// a dependency equal to the initialisation value of zero, we know have</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="comment">// iterated over all dependencies and can break.</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordflow">if</span> (a_dep == 0)</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="comment">// We look up the valid dependency, i.e. the parent of this node</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="keyword">auto</span> parent_itr = depGraph.find(a_dep);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="keywordflow">if</span> (parent_itr != depGraph.end()) {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <span class="comment">// If the parent is found, it is yet to be executed. Append a</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <span class="comment">// pointer to the new node to the dependents list of the parent</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            <span class="comment">// node.</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            parent_itr-&gt;second-&gt;dependents.push_back(new_node);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            <span class="keyword">auto</span> num_depts = parent_itr-&gt;second-&gt;dependents.size();</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            maxDependents = std::max&lt;double&gt;(num_depts, maxDependents.value());</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            <span class="comment">// The dependency is not found in the graph. So consider</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <span class="comment">// the execution of the parent is complete, i.e. remove this</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <span class="comment">// dependency.</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            a_dep = 0;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            num_dep--;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;}</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen.html#a04f8b2d7ea934270dd947b9a4a3244e7">  431</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a04f8b2d7ea934270dd947b9a4a3244e7">TraceCPU::ElasticDataGen::execute</a>()</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;{</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Execute start occupancy:\n&quot;</span>);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;\tdepGraph = %d, readyList = %d, &quot;</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="stringliteral">&quot;depFreeQueue = %d ,&quot;</span>, depGraph.size(), readyList.size(),</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            depFreeQueue.size());</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    hwResource.printOccupancy();</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="comment">// Read next window to make sure that dependents of all dep-free nodes</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="comment">// are in the depGraph</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">if</span> (nextRead) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        readNextWindow();</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        nextRead = <span class="keyword">false</span>;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="comment">// First attempt to issue the pending dependency-free nodes held</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="comment">// in depFreeQueue. If resources have become available for a node,</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="comment">// then issue it, i.e. add the node to readyList.</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">while</span> (!depFreeQueue.empty()) {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">if</span> (checkAndIssue(depFreeQueue.front(), <span class="keyword">false</span>)) {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Removing from depFreeQueue: seq. num &quot;</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                <span class="stringliteral">&quot;%lli.\n&quot;</span>, (depFreeQueue.front())-&gt;seqNum);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            depFreeQueue.pop();</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    }</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="comment">// Proceed to execute from readyList</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keyword">auto</span> graph_itr = depGraph.begin();</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keyword">auto</span> free_itr = readyList.begin();</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="comment">// Iterate through readyList until the next free node has its execute</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="comment">// tick later than curTick or the end of readyList is reached</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">while</span> (free_itr-&gt;execTick &lt;= <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22">curTick</a>() &amp;&amp; free_itr != readyList.end()) {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="comment">// Get pointer to the node to be executed</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        graph_itr = depGraph.find(free_itr-&gt;seqNum);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        assert(graph_itr != depGraph.end());</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html">GraphNode</a>* node_ptr = graph_itr-&gt;second;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="comment">// If there is a retryPkt send that else execute the load</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordflow">if</span> (retryPkt) {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <span class="comment">// The retryPkt must be the request that was created by the</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            <span class="comment">// first node in the readyList.</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <span class="keywordflow">if</span> (retryPkt-&gt;req-&gt;getReqInstSeqNum() != node_ptr-&gt;seqNum) {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                <a class="code" href="logging_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Retry packet&#39;s seqence number does not match &quot;</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                      <span class="stringliteral">&quot;the first node in the readyList.\n&quot;</span>);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            }</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            <span class="keywordflow">if</span> (port.sendTimingReq(retryPkt)) {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                ++numRetrySucceeded;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                retryPkt = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            }</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (node_ptr-&gt;isLoad() || node_ptr-&gt;isStore()) {</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <span class="comment">// If there is no retryPkt, attempt to send a memory request in</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            <span class="comment">// case of a load or store node. If the send fails, executeMemReq()</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <span class="comment">// returns a packet pointer, which we save in retryPkt. In case of</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <span class="comment">// a comp node we don&#39;t do anything and simply continue as if the</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <span class="comment">// execution of the comp node succedded.</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            retryPkt = executeMemReq(node_ptr);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="comment">// If the retryPkt or a new load/store node failed, we exit from here</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="comment">// as a retry from cache will bring the control to execute(). The</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="comment">// first node in readyList then, will be the failed node.</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keywordflow">if</span> (retryPkt) {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <span class="comment">// Proceed to remove dependencies for the successfully executed node.</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="comment">// If it is a load which is not strictly ordered and we sent a</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="comment">// request for it successfully, we do not yet mark any register</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="comment">// dependencies complete. But as per dependency modelling we need</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="comment">// to mark ROB dependencies of load and non load/store nodes which</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="comment">// are based on successful sending of the load as complete.</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">if</span> (node_ptr-&gt;isLoad() &amp;&amp; !node_ptr-&gt;isStrictlyOrdered()) {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <span class="comment">// If execute succeeded mark its dependents as complete</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Node seq. num %lli sent. Waking up &quot;</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                    <span class="stringliteral">&quot;dependents..\n&quot;</span>, node_ptr-&gt;seqNum);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            <span class="keyword">auto</span> child_itr = (node_ptr-&gt;dependents).begin();</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            <span class="keywordflow">while</span> (child_itr != (node_ptr-&gt;dependents).end()) {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                <span class="comment">// ROB dependency of a store on a load must not be removed</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                <span class="comment">// after load is sent but after response is received</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                <span class="keywordflow">if</span> (!(*child_itr)-&gt;isStore() &amp;&amp;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                    (*child_itr)-&gt;removeRobDep(node_ptr-&gt;seqNum)) {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                    <span class="comment">// Check if the child node has become dependency free</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                    <span class="keywordflow">if</span> ((*child_itr)-&gt;numRobDep == 0 &amp;&amp;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                        (*child_itr)-&gt;numRegDep == 0) {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                        <span class="comment">// Source dependencies are complete, check if</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                        <span class="comment">// resources are available and issue</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                        checkAndIssue(*child_itr);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                    }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                    <span class="comment">// Remove this child for the sent load and point to new</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                    <span class="comment">// location of the element following the erased element</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                    child_itr = node_ptr-&gt;dependents.erase(child_itr);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                    <span class="comment">// This child is not dependency-free, point to the next</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                    <span class="comment">// child</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                    child_itr++;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                }</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <span class="comment">// If it is a strictly ordered load mark its dependents as complete</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            <span class="comment">// as we do not send a request for this case. If it is a store or a</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="comment">// comp node we also mark all its dependents complete.</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Node seq. num %lli done. Waking&quot;</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                    <span class="stringliteral">&quot; up dependents..\n&quot;</span>, node_ptr-&gt;seqNum);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span> child : node_ptr-&gt;dependents) {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                <span class="comment">// If the child node is dependency free removeDepOnInst()</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                <span class="comment">// returns true.</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                <span class="keywordflow">if</span> (child-&gt;removeDepOnInst(node_ptr-&gt;seqNum)) {</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                    <span class="comment">// Source dependencies are complete, check if resources</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                    <span class="comment">// are available and issue</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                    checkAndIssue(child);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            }</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        }</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="comment">// After executing the node, remove from readyList and delete node.</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        readyList.erase(free_itr);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="comment">// If it is a cacheable load which was sent, don&#39;t delete</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="comment">// just yet.  Delete it in completeMemAccess() after the</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="comment">// response is received. If it is an strictly ordered</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="comment">// load, it was not sent and all dependencies were simply</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="comment">// marked complete. Thus it is safe to delete it. For</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="comment">// stores and non load/store nodes all dependencies were</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="comment">// marked complete so it is safe to delete it.</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">if</span> (!node_ptr-&gt;isLoad() || node_ptr-&gt;isStrictlyOrdered()) {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="comment">// Release all resources occupied by the completed node</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            hwResource.release(node_ptr);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            <span class="comment">// clear the dynamically allocated set of dependents</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            (node_ptr-&gt;dependents).clear();</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <span class="comment">// Update the stat for numOps simulated</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            owner.updateNumOps(node_ptr-&gt;robNum);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <span class="comment">// delete node</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            <span class="keyword">delete</span> node_ptr;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            <span class="comment">// remove from graph</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            depGraph.erase(graph_itr);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="comment">// Point to first node to continue to next iteration of while loop</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        free_itr = readyList.begin();</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    } <span class="comment">// end of while loop</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="comment">// Print readyList, sizes of queues and resource status after updating</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="base_2trace_8hh.html#af76c9f7776aade1bf9d7dfa8a0c6b341">DTRACE</a>(TraceCPUData)) {</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        printReadyList();</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Execute end occupancy:\n&quot;</span>);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;\tdepGraph = %d, readyList = %d, &quot;</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                <span class="stringliteral">&quot;depFreeQueue = %d ,&quot;</span>, depGraph.size(), readyList.size(),</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                depFreeQueue.size());</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        hwResource.printOccupancy();</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    }</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">if</span> (retryPkt) {</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Not scheduling an event as expecting a retry&quot;</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                <span class="stringliteral">&quot;event from the cache for seq. num %lli.\n&quot;</span>,</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                retryPkt-&gt;req-&gt;getReqInstSeqNum());</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    }</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="comment">// If the size of the dependency graph is less than the dependency window</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="comment">// then read from the trace file to populate the graph next time we are in</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="comment">// execute.</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">if</span> (depGraph.size() &lt; windowSize &amp;&amp; !traceComplete)</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        nextRead = <span class="keyword">true</span>;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="comment">// If cache is not blocked, schedule an event for the first execTick in</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="comment">// readyList else retry from cache will schedule the event. If the ready</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="comment">// list is empty then check if the next pending node has resources</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="comment">// available to issue. If yes, then schedule an event for the next cycle.</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">if</span> (!readyList.empty()) {</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> next_event_tick = std::max(readyList.begin()-&gt;execTick,</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                                        <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22">curTick</a>());</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Attempting to schedule @%lli.\n&quot;</span>,</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                next_event_tick);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        owner.schedDcacheNextEvent(next_event_tick);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (readyList.empty() &amp;&amp; !depFreeQueue.empty() &amp;&amp;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                hwResource.isAvailable(depFreeQueue.front())) {</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Attempting to schedule @%lli.\n&quot;</span>,</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                owner.clockEdge(<a class="code" href="classCycles.html">Cycles</a>(1)));</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        owner.schedDcacheNextEvent(owner.clockEdge(<a class="code" href="classCycles.html">Cycles</a>(1)));</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    }</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="comment">// If trace is completely read, readyList is empty and depGraph is empty,</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="comment">// set execComplete to true</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">if</span> (depGraph.empty() &amp;&amp; readyList.empty() &amp;&amp; traceComplete &amp;&amp;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        !hwResource.awaitingResponse()) {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;\tExecution Complete!\n&quot;</span>);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        execComplete = <span class="keyword">true</span>;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        dataLastTick = <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22">curTick</a>();</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    }</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<a class="code" href="classPacket.html">PacketPtr</a></div><div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen.html#a00c6bf914c48058b05f33e82606c5853">  625</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a00c6bf914c48058b05f33e82606c5853">TraceCPU::ElasticDataGen::executeMemReq</a>(<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html">GraphNode</a>* node_ptr)</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;{</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Executing memory request %lli (phys addr %d, &quot;</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="stringliteral">&quot;virt addr %d, pc %#x, size %d, flags %d).\n&quot;</span>,</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f0b39a0866b0da182b37d8927bc9805">seqNum</a>, node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#ab9671fcdc1bbb9027c5f1d58d176016e">physAddr</a>, node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#af46050d928110e59fa8e209a41429188">virtAddr</a>,</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1c55fbcb2bab2dd59c4face44ca3a051">pc</a>, node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f6c19121c07bd073c743fe3848b2618">size</a>, node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a8d3d9fc278a5dace657735ba7bf9da88">flags</a>);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="comment">// If the request is strictly ordered, do not send it. Just return nullptr</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="comment">// as if it was succesfully sent.</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">if</span> (node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a923688d908186957dd41d2633cddabc7">isStrictlyOrdered</a>()) {</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a67210c604a9ae4cb78cbc60ef3a43425">isLoad</a>() ? ++numSOLoads : ++numSOStores;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Skipping strictly ordered request %lli.\n&quot;</span>,</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f0b39a0866b0da182b37d8927bc9805">seqNum</a>);</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    }</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="comment">// Check if the request spans two cache lines as this condition triggers</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="comment">// an assert fail in the L1 cache. If it does then truncate the size to</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="comment">// access only until the end of that line and ignore the remainder. The</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="comment">// stat counting this is useful to keep a check on how frequently this</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="comment">// happens. If required the code could be revised to mimick splitting such</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="comment">// a request into two.</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordtype">unsigned</span> blk_size = owner.cacheLineSize();</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> blk_offset = (node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#ab9671fcdc1bbb9027c5f1d58d176016e">physAddr</a> &amp; (<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>)(blk_size - 1));</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">if</span> (!(blk_offset + node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f6c19121c07bd073c743fe3848b2618">size</a> &lt;= blk_size)) {</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f6c19121c07bd073c743fe3848b2618">size</a> = blk_size - blk_offset;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        ++numSplitReqs;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    }</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="comment">// Create a request and the packet containing request</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keyword">auto</span> req = std::make_shared&lt;Request&gt;(</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#ab9671fcdc1bbb9027c5f1d58d176016e">physAddr</a>, node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f6c19121c07bd073c743fe3848b2618">size</a>,</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a8d3d9fc278a5dace657735ba7bf9da88">flags</a>, masterID, node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f0b39a0866b0da182b37d8927bc9805">seqNum</a>,</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <a class="code" href="base_2types_8hh.html#a5ba9705b85fbf1a2720bce8914fa4a18">ContextID</a>(0));</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    req-&gt;setPC(node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1c55fbcb2bab2dd59c4face44ca3a051">pc</a>);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="comment">// If virtual address is valid, set the asid and virtual address fields</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="comment">// of the request.</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordflow">if</span> (node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#af46050d928110e59fa8e209a41429188">virtAddr</a> != 0) {</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        req-&gt;setVirt(node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#ad1579bb6652920b920793a5a54dad130">asid</a>, node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#af46050d928110e59fa8e209a41429188">virtAddr</a>, node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f6c19121c07bd073c743fe3848b2618">size</a>,</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                        node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a8d3d9fc278a5dace657735ba7bf9da88">flags</a>, masterID, node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1c55fbcb2bab2dd59c4face44ca3a051">pc</a>);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        req-&gt;setPaddr(node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#ab9671fcdc1bbb9027c5f1d58d176016e">physAddr</a>);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        req-&gt;setReqInstSeqNum(node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f0b39a0866b0da182b37d8927bc9805">seqNum</a>);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    }</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <a class="code" href="classPacket.html">PacketPtr</a> pkt;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    uint8_t* pkt_data = <span class="keyword">new</span> uint8_t[req-&gt;getSize()];</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordflow">if</span> (node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a67210c604a9ae4cb78cbc60ef3a43425">isLoad</a>()) {</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        pkt = <a class="code" href="classPacket.html#a3cdfada965fdf5c5524b7bf418a43358">Packet::createRead</a>(req);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        pkt = <a class="code" href="classPacket.html#a0114aa0ba90995a74bebd29a7aab70aa">Packet::createWrite</a>(req);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        memset(pkt_data, 0xA, req-&gt;getSize());</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    }</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    pkt-&gt;<a class="code" href="classPacket.html#aa86da42d7b9a882873deb75798e8ff8d">dataDynamic</a>(pkt_data);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="comment">// Call MasterPort method to send a timing request for this packet</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordtype">bool</span> success = port.sendTimingReq(pkt);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    ++numSendAttempted;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">if</span> (!success) {</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <span class="comment">// If it fails, return the packet to retry when a retry is signalled by</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="comment">// the cache</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        ++numSendFailed;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Send failed. Saving packet for retry.\n&quot;</span>);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <span class="keywordflow">return</span> pkt;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="comment">// It is succeeds, return nullptr</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        ++numSendSucceeded;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    }</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;}</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l00699"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen.html#ac26d1bdf26e6bf32f97827b531c8021b">  699</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#ac26d1bdf26e6bf32f97827b531c8021b">TraceCPU::ElasticDataGen::checkAndIssue</a>(<span class="keyword">const</span> <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html">GraphNode</a>* node_ptr, <span class="keywordtype">bool</span> first)</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;{</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="comment">// Assert the node is dependency-free</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    assert(node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#af211bc1b44b233f0e0093f1b63d81d1d">numRobDep</a> == 0 &amp;&amp; node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a4c5a498d593c185f86e0976d2e29bec4">numRegDep</a> == 0);</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="comment">// If this is the first attempt, print a debug message to indicate this.</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="keywordflow">if</span> (first) {</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;\t\tseq. num %lli(%s) with rob num %lli is now&quot;</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            <span class="stringliteral">&quot; dependency free.\n&quot;</span>, node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f0b39a0866b0da182b37d8927bc9805">seqNum</a>, node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a295a65a59d52372bff249ec9d1b3c9a6">typeToStr</a>(),</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#afd47f5a239f82634bb93ce2d9b09896e">robNum</a>);</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    }</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="comment">// Check if resources are available to issue the specific node</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">if</span> (hwResource.isAvailable(node_ptr)) {</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="comment">// If resources are free only then add to readyList</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;\t\tResources available for seq. num %lli. Adding&quot;</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            <span class="stringliteral">&quot; to readyList, occupying resources.\n&quot;</span>, node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f0b39a0866b0da182b37d8927bc9805">seqNum</a>);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="comment">// Compute the execute tick by adding the compute delay for the node</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <span class="comment">// and add the ready node to the ready list</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        addToSortedReadyList(node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f0b39a0866b0da182b37d8927bc9805">seqNum</a>,</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                                owner.clockEdge() + node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a0feda1917a7916aa080ea1990696ea1b">compDelay</a>);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        <span class="comment">// Account for the resources taken up by this issued node.</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        hwResource.occupy(node_ptr);</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <span class="keywordflow">if</span> (first) {</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            <span class="comment">// Although dependencies are complete, resources are not available.</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;\t\tResources unavailable for seq. num %lli.&quot;</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                <span class="stringliteral">&quot; Adding to depFreeQueue.\n&quot;</span>, node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f0b39a0866b0da182b37d8927bc9805">seqNum</a>);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            depFreeQueue.push(node_ptr);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;\t\tResources unavailable for seq. num %lli. &quot;</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                <span class="stringliteral">&quot;Still pending issue.\n&quot;</span>, node_ptr-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f0b39a0866b0da182b37d8927bc9805">seqNum</a>);</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        }</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;}</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00739"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen.html#adb342e2efa40b2d5f8ed99630dd3ec76">  739</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#adb342e2efa40b2d5f8ed99630dd3ec76">TraceCPU::ElasticDataGen::completeMemAccess</a>(<a class="code" href="classPacket.html">PacketPtr</a> pkt)</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;{</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="comment">// Release the resources for this completed node.</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">if</span> (pkt-&gt;<a class="code" href="classPacket.html#aec89f98657b94e77f4f7a3087dfe690c">isWrite</a>()) {</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <span class="comment">// Consider store complete.</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        hwResource.releaseStoreBuffer();</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <span class="comment">// If it is a store response then do nothing since we do not model</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <span class="comment">// dependencies on store completion in the trace. But if we were</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <span class="comment">// blocking execution due to store buffer fullness, we need to schedule</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        <span class="comment">// an event and attempt to progress.</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <span class="comment">// If it is a load response then release the dependents waiting on it.</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <span class="comment">// Get pointer to the completed load</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <span class="keyword">auto</span> graph_itr = depGraph.find(pkt-&gt;<a class="code" href="classPacket.html#ae348c208f0ffb3cf22f1f65a19c13c4f">req</a>-&gt;getReqInstSeqNum());</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        assert(graph_itr != depGraph.end());</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html">GraphNode</a>* node_ptr = graph_itr-&gt;second;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <span class="comment">// Release resources occupied by the load</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        hwResource.release(node_ptr);</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Load seq. num %lli response received. Waking up&quot;</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                <span class="stringliteral">&quot; dependents..\n&quot;</span>, node_ptr-&gt;seqNum);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> child : node_ptr-&gt;dependents) {</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            <span class="keywordflow">if</span> (child-&gt;removeDepOnInst(node_ptr-&gt;seqNum)) {</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                checkAndIssue(child);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;            }</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        }</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        <span class="comment">// clear the dynamically allocated set of dependents</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        (node_ptr-&gt;dependents).clear();</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <span class="comment">// Update the stat for numOps completed</span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        owner.updateNumOps(node_ptr-&gt;robNum);</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="comment">// delete node</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <span class="keyword">delete</span> node_ptr;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="comment">// remove from graph</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        depGraph.erase(graph_itr);</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    }</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="base_2trace_8hh.html#af76c9f7776aade1bf9d7dfa8a0c6b341">DTRACE</a>(TraceCPUData)) {</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        printReadyList();</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    }</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="comment">// If the size of the dependency graph is less than the dependency window</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="comment">// then read from the trace file to populate the graph next time we are in</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="comment">// execute.</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">if</span> (depGraph.size() &lt; windowSize &amp;&amp; !traceComplete)</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        nextRead = <span class="keyword">true</span>;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="comment">// If not waiting for retry, attempt to schedule next event</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordflow">if</span> (!retryPkt) {</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <span class="comment">// We might have new dep-free nodes in the list which will have execute</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <span class="comment">// tick greater than or equal to curTick. But a new dep-free node might</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <span class="comment">// have its execute tick earlier. Therefore, attempt to reschedule. It</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <span class="comment">// could happen that the readyList is empty and we got here via a</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <span class="comment">// last remaining response. So, either the trace is complete or there</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <span class="comment">// are pending nodes in the depFreeQueue. The checking is done in the</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <span class="comment">// execute() control flow, so schedule an event to go via that flow.</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> next_event_tick = readyList.empty() ? owner.clockEdge(<a class="code" href="classCycles.html">Cycles</a>(1)) :</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            std::max(readyList.begin()-&gt;execTick, owner.clockEdge(<a class="code" href="classCycles.html">Cycles</a>(1)));</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Attempting to schedule @%lli.\n&quot;</span>,</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                next_event_tick);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        owner.schedDcacheNextEvent(next_event_tick);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    }</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;}</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00806"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen.html#a9b9d6a5ede5dbec4d90af8bdc95e5f60">  806</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a9b9d6a5ede5dbec4d90af8bdc95e5f60">TraceCPU::ElasticDataGen::addToSortedReadyList</a>(<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#abad96b1108e44c45712a1bd58439be03">NodeSeqNum</a> seq_num,</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                                                    <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> exec_tick)</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;{</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <a class="code" href="structTraceCPU_1_1ElasticDataGen_1_1ReadyNode.html">ReadyNode</a> ready_node;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    ready_node.<a class="code" href="structTraceCPU_1_1ElasticDataGen_1_1ReadyNode.html#a280be0aa0058d46c8a3104d2648a0ec2">seqNum</a> = seq_num;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    ready_node.<a class="code" href="structTraceCPU_1_1ElasticDataGen_1_1ReadyNode.html#a633b6a5549145db9462268fcb21d4e56">execTick</a> = exec_tick;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="comment">// Iterator to readyList</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keyword">auto</span> itr = readyList.begin();</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="comment">// If the readyList is empty, simply insert the new node at the beginning</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="comment">// and return</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordflow">if</span> (itr == readyList.end()) {</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        readyList.insert(itr, ready_node);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        maxReadyListSize = std::max&lt;double&gt;(readyList.size(),</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                                              maxReadyListSize.value());</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    }</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="comment">// If the new node has its execution tick equal to the first node in the</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="comment">// list then go to the next node. If the first node in the list failed</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="comment">// to execute, its position as the first is thus maintained.</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">if</span> (retryPkt)</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        <span class="keywordflow">if</span> (retryPkt-&gt;req-&gt;getReqInstSeqNum() == itr-&gt;seqNum)</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            itr++;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="comment">// Increment the iterator and compare the node pointed to by it to the new</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="comment">// node till the position to insert the new node is found.</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="keywordflow">while</span> (!found &amp;&amp; itr != readyList.end()) {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        <span class="comment">// If the execution tick of the new node is less than the node then</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <span class="comment">// this is the position to insert</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <span class="keywordflow">if</span> (exec_tick &lt; itr-&gt;execTick)</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            found = <span class="keyword">true</span>;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="comment">// If the execution tick of the new node is equal to the node then</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <span class="comment">// sort in ascending order of sequence numbers</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (exec_tick == itr-&gt;execTick) {</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;            <span class="comment">// If the sequence number of the new node is less than the node</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;            <span class="comment">// then this is the position to insert</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            <span class="keywordflow">if</span> (seq_num &lt; itr-&gt;seqNum)</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                found = <span class="keyword">true</span>;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            <span class="comment">// Else go to next node</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                itr++;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        }</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        <span class="comment">// If the execution tick of the new node is greater than the node then</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <span class="comment">// go to the next node</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            itr++;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    }</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    readyList.insert(itr, ready_node);</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="comment">// Update the stat for max size reached of the readyList</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    maxReadyListSize = std::max&lt;double&gt;(readyList.size(),</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                                          maxReadyListSize.value());</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;}</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00863"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen.html#a1e03e96a0589eb801a97bb32772894fb">  863</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a1e03e96a0589eb801a97bb32772894fb">TraceCPU::ElasticDataGen::printReadyList</a>() {</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keyword">auto</span> itr = readyList.begin();</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">if</span> (itr == readyList.end()) {</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;readyList is empty.\n&quot;</span>);</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    }</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Printing readyList:\n&quot;</span>);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">while</span> (itr != readyList.end()) {</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <span class="keyword">auto</span> graph_itr = depGraph.find(itr-&gt;seqNum);</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html">GraphNode</a>* node_ptr <a class="code" href="arch_2x86_2process_8cc.html#a4a522b8848c4afad8c6404708a44a05f">M5_VAR_USED</a> = graph_itr-&gt;second;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;\t%lld(%s), %lld\n&quot;</span>, itr-&gt;seqNum,</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;            node_ptr-&gt;typeToStr(), itr-&gt;execTick);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        itr++;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    }</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;}</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div><div class="line"><a name="l00880"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a03f28e9f02fa2ca92a8b11d8a317430a">  880</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a03f28e9f02fa2ca92a8b11d8a317430a">TraceCPU::ElasticDataGen::HardwareResource::HardwareResource</a>(</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    uint16_t max_rob, uint16_t max_stores, uint16_t max_loads)</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  : sizeROB(max_rob),</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    sizeStoreBuffer(max_stores),</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    sizeLoadBuffer(max_loads),</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    oldestInFlightRobNum(UINT64_MAX),</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    numInFlightLoads(0),</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    numInFlightStores(0)</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;{}</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00891"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a38eb6721dfd9a363224e3d134c5a5ff0">  891</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a38eb6721dfd9a363224e3d134c5a5ff0">TraceCPU::ElasticDataGen::HardwareResource::occupy</a>(<span class="keyword">const</span> <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html">GraphNode</a>* new_node)</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;{</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="comment">// Occupy ROB entry for the issued node</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="comment">// Merely maintain the oldest node, i.e. numerically least robNum by saving</span></div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="comment">// it in the variable oldestInFLightRobNum.</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#ac78c10c06f1f8acc12d52e95fd8da1e7">inFlightNodes</a>[new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f0b39a0866b0da182b37d8927bc9805">seqNum</a>] = new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#afd47f5a239f82634bb93ce2d9b09896e">robNum</a>;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a78c711708ead2b5ca5fdfe9edfb58b88">oldestInFlightRobNum</a> = <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#ac78c10c06f1f8acc12d52e95fd8da1e7">inFlightNodes</a>.begin()-&gt;second;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="comment">// Occupy Load/Store Buffer entry for the issued node if applicable</span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">if</span> (new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a67210c604a9ae4cb78cbc60ef3a43425">isLoad</a>()) {</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        ++<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a5835a2934c42408ff6e23f8c88539362">numInFlightLoads</a>;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a612371d959f253e38b28e7030509bfa1">isStore</a>()) {</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        ++<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a4c0ad76e8f93b8633a3615ac670059fd">numInFlightStores</a>;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    } <span class="comment">// else if it is a non load/store node, no buffer entry is occupied</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a5e29c8fed50b3490bc29d352ab0de85a">printOccupancy</a>();</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;}</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00910"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a5dc9f8d6958ad06fa5087fb632e735e2">  910</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a5dc9f8d6958ad06fa5087fb632e735e2">TraceCPU::ElasticDataGen::HardwareResource::release</a>(<span class="keyword">const</span> <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html">GraphNode</a>* done_node)</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;{</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    assert(!<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#ac78c10c06f1f8acc12d52e95fd8da1e7">inFlightNodes</a>.empty());</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;\tClearing done seq. num %d from inFlightNodes..\n&quot;</span>,</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        done_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f0b39a0866b0da182b37d8927bc9805">seqNum</a>);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    assert(<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#ac78c10c06f1f8acc12d52e95fd8da1e7">inFlightNodes</a>.find(done_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f0b39a0866b0da182b37d8927bc9805">seqNum</a>) != <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#ac78c10c06f1f8acc12d52e95fd8da1e7">inFlightNodes</a>.end());</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#ac78c10c06f1f8acc12d52e95fd8da1e7">inFlightNodes</a>.erase(done_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f0b39a0866b0da182b37d8927bc9805">seqNum</a>);</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#ac78c10c06f1f8acc12d52e95fd8da1e7">inFlightNodes</a>.empty()) {</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <span class="comment">// If we delete the only in-flight node and then the</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <span class="comment">// oldestInFlightRobNum is set to it&#39;s initialized (max) value.</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a78c711708ead2b5ca5fdfe9edfb58b88">oldestInFlightRobNum</a> = UINT64_MAX;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <span class="comment">// Set the oldest in-flight node rob number equal to the first node in</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        <span class="comment">// the inFlightNodes since that will have the numerically least value.</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a78c711708ead2b5ca5fdfe9edfb58b88">oldestInFlightRobNum</a> = <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#ac78c10c06f1f8acc12d52e95fd8da1e7">inFlightNodes</a>.begin()-&gt;second;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    }</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;\tCleared. inFlightNodes.size() = %d, &quot;</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        <span class="stringliteral">&quot;oldestInFlightRobNum = %d\n&quot;</span>, <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#ac78c10c06f1f8acc12d52e95fd8da1e7">inFlightNodes</a>.size(),</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a78c711708ead2b5ca5fdfe9edfb58b88">oldestInFlightRobNum</a>);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="comment">// A store is considered complete when a request is sent, thus ROB entry is</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="comment">// freed. But it occupies an entry in the Store Buffer until its response</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="comment">// is received. A load is considered complete when a response is received,</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="comment">// thus both ROB and Load Buffer entries can be released.</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordflow">if</span> (done_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a67210c604a9ae4cb78cbc60ef3a43425">isLoad</a>()) {</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        assert(<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a5835a2934c42408ff6e23f8c88539362">numInFlightLoads</a> != 0);</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        --<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a5835a2934c42408ff6e23f8c88539362">numInFlightLoads</a>;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    }</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="comment">// For normal writes, we send the requests out and clear a store buffer</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="comment">// entry on response. For writes which are strictly ordered, for e.g.</span></div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="comment">// writes to device registers, we do that within release() which is called</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="comment">// when node is executed and taken off from readyList.</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keywordflow">if</span> (done_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a612371d959f253e38b28e7030509bfa1">isStore</a>() &amp;&amp; done_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a923688d908186957dd41d2633cddabc7">isStrictlyOrdered</a>()) {</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a7f3d0662582a877c00f0ece9abba844f">releaseStoreBuffer</a>();</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    }</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;}</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00951"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a7f3d0662582a877c00f0ece9abba844f">  951</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a7f3d0662582a877c00f0ece9abba844f">TraceCPU::ElasticDataGen::HardwareResource::releaseStoreBuffer</a>()</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;{</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    assert(<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a4c0ad76e8f93b8633a3615ac670059fd">numInFlightStores</a> != 0);</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    --<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a4c0ad76e8f93b8633a3615ac670059fd">numInFlightStores</a>;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;}</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l00958"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a7f63bd00955465dcf171f6dcdd6608ce">  958</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a7f63bd00955465dcf171f6dcdd6608ce">TraceCPU::ElasticDataGen::HardwareResource::isAvailable</a>(</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keyword">const</span> <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html">GraphNode</a>* new_node)<span class="keyword"> const</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    uint16_t num_in_flight_nodes;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#ac78c10c06f1f8acc12d52e95fd8da1e7">inFlightNodes</a>.empty()) {</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        num_in_flight_nodes = 0;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;\t\tChecking resources to issue seq. num %lli:&quot;</span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;            <span class="stringliteral">&quot; #in-flight nodes = 0&quot;</span>, new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f0b39a0866b0da182b37d8927bc9805">seqNum</a>);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#afd47f5a239f82634bb93ce2d9b09896e">robNum</a> &gt; <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a78c711708ead2b5ca5fdfe9edfb58b88">oldestInFlightRobNum</a>) {</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="comment">// This is the intuitive case where new dep-free node is younger</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <span class="comment">// instruction than the oldest instruction in-flight. Thus we make sure</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <span class="comment">// in_flight_nodes does not overflow.</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        num_in_flight_nodes = new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#afd47f5a239f82634bb93ce2d9b09896e">robNum</a> - <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a78c711708ead2b5ca5fdfe9edfb58b88">oldestInFlightRobNum</a>;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;\t\tChecking resources to issue seq. num %lli:&quot;</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            <span class="stringliteral">&quot; #in-flight nodes = %d - %d =  %d&quot;</span>, new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f0b39a0866b0da182b37d8927bc9805">seqNum</a>,</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;             new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#afd47f5a239f82634bb93ce2d9b09896e">robNum</a>, <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a78c711708ead2b5ca5fdfe9edfb58b88">oldestInFlightRobNum</a>, num_in_flight_nodes);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <span class="comment">// This is the case where an instruction older than the oldest in-</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <span class="comment">// flight instruction becomes dep-free. Thus we must have already</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="comment">// accounted for the entry in ROB for this new dep-free node.</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <span class="comment">// Immediately after this check returns true, oldestInFlightRobNum will</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        <span class="comment">// be updated in occupy(). We simply let this node issue now.</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        num_in_flight_nodes = 0;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;\t\tChecking resources to issue seq. num %lli:&quot;</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;            <span class="stringliteral">&quot; new oldestInFlightRobNum = %d, #in-flight nodes ignored&quot;</span>,</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;            new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f0b39a0866b0da182b37d8927bc9805">seqNum</a>, new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#afd47f5a239f82634bb93ce2d9b09896e">robNum</a>);</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    }</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;, LQ = %d/%d, SQ  = %d/%d.\n&quot;</span>,</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a5835a2934c42408ff6e23f8c88539362">numInFlightLoads</a>, <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a37524bfea829bf69c41893affdf6381a">sizeLoadBuffer</a>,</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a4c0ad76e8f93b8633a3615ac670059fd">numInFlightStores</a>, <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a150f5a7c76b0e1e314b2699fca37c1dd">sizeStoreBuffer</a>);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="comment">// Check if resources are available to issue the specific node</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="keywordflow">if</span> (num_in_flight_nodes &gt;= <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#ae27080a61241abfbee0a6fa77bdf5084">sizeROB</a>) {</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    }</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="keywordflow">if</span> (new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a67210c604a9ae4cb78cbc60ef3a43425">isLoad</a>() &amp;&amp; <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a5835a2934c42408ff6e23f8c88539362">numInFlightLoads</a> &gt;= <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a37524bfea829bf69c41893affdf6381a">sizeLoadBuffer</a>) {</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    }</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keywordflow">if</span> (new_node-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a612371d959f253e38b28e7030509bfa1">isStore</a>() &amp;&amp; <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a4c0ad76e8f93b8633a3615ac670059fd">numInFlightStores</a> &gt;= <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a150f5a7c76b0e1e314b2699fca37c1dd">sizeStoreBuffer</a>) {</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    }</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;}</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l01002"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#aa50aa814630bf279c2523caf9ae1d209"> 1002</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#aa50aa814630bf279c2523caf9ae1d209">TraceCPU::ElasticDataGen::HardwareResource::awaitingResponse</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="comment">// Return true if there is at least one read or write request in flight</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a4c0ad76e8f93b8633a3615ac670059fd">numInFlightStores</a> != 0 || <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a5835a2934c42408ff6e23f8c88539362">numInFlightLoads</a> != 0);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;}</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01008"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a5e29c8fed50b3490bc29d352ab0de85a"> 1008</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a5e29c8fed50b3490bc29d352ab0de85a">TraceCPU::ElasticDataGen::HardwareResource::printOccupancy</a>() {</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;oldestInFlightRobNum = %d, &quot;</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            <span class="stringliteral">&quot;LQ = %d/%d, SQ  = %d/%d.\n&quot;</span>,</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a78c711708ead2b5ca5fdfe9edfb58b88">oldestInFlightRobNum</a>,</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a5835a2934c42408ff6e23f8c88539362">numInFlightLoads</a>, <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a37524bfea829bf69c41893affdf6381a">sizeLoadBuffer</a>,</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a4c0ad76e8f93b8633a3615ac670059fd">numInFlightStores</a>, <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a150f5a7c76b0e1e314b2699fca37c1dd">sizeStoreBuffer</a>);</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;}</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01017"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1FixedRetryGen.html#ab5923214b77565d8643741f9f7c01d3d"> 1017</a></span>&#160;<a class="code" href="classTraceCPU_1_1FixedRetryGen.html#ab5923214b77565d8643741f9f7c01d3d">TraceCPU::FixedRetryGen::regStats</a>()</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;{</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="keyword">using namespace </span><a class="code" href="namespaceStats.html">Stats</a>;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <a class="code" href="classTraceCPU_1_1ElasticDataGen.html#ae925e811d914711f5d1bd9a5c45bc802">numSendAttempted</a></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    .<a class="code" href="classStats_1_1DataWrap.html#a8f6effeadf113613c8e96c732bef7228">name</a>(<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a966ac86637d20663d69da4f725d6f496">name</a>() + <span class="stringliteral">&quot;.numSendAttempted&quot;</span>)</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    .<a class="code" href="classStats_1_1DataWrap.html#a21c87112d21fd2a0caa14aaa343d8bc1">desc</a>(<span class="stringliteral">&quot;Number of first attempts to send a request&quot;</span>)</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    ;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <a class="code" href="classTraceCPU_1_1ElasticDataGen.html#aa7441bee82d8f6813c7edf0a5211b8aa">numSendSucceeded</a></div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    .<a class="code" href="classStats_1_1DataWrap.html#a8f6effeadf113613c8e96c732bef7228">name</a>(<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a966ac86637d20663d69da4f725d6f496">name</a>() + <span class="stringliteral">&quot;.numSendSucceeded&quot;</span>)</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    .<a class="code" href="classStats_1_1DataWrap.html#a21c87112d21fd2a0caa14aaa343d8bc1">desc</a>(<span class="stringliteral">&quot;Number of successful first attempts&quot;</span>)</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    ;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a0c208daeae57e03ce1e41d78971c2677">numSendFailed</a></div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    .<a class="code" href="classStats_1_1DataWrap.html#a8f6effeadf113613c8e96c732bef7228">name</a>(<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a966ac86637d20663d69da4f725d6f496">name</a>() + <span class="stringliteral">&quot;.numSendFailed&quot;</span>)</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    .<a class="code" href="classStats_1_1DataWrap.html#a21c87112d21fd2a0caa14aaa343d8bc1">desc</a>(<span class="stringliteral">&quot;Number of failed first attempts&quot;</span>)</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    ;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a547929bfa406c5a939abdc155d4c6949">numRetrySucceeded</a></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    .<a class="code" href="classStats_1_1DataWrap.html#a8f6effeadf113613c8e96c732bef7228">name</a>(<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a966ac86637d20663d69da4f725d6f496">name</a>() + <span class="stringliteral">&quot;.numRetrySucceeded&quot;</span>)</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    .<a class="code" href="classStats_1_1DataWrap.html#a21c87112d21fd2a0caa14aaa343d8bc1">desc</a>(<span class="stringliteral">&quot;Number of successful retries&quot;</span>)</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    ;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    instLastTick</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    .<a class="code" href="classStats_1_1DataWrap.html#a8f6effeadf113613c8e96c732bef7228">name</a>(<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a966ac86637d20663d69da4f725d6f496">name</a>() + <span class="stringliteral">&quot;.instLastTick&quot;</span>)</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    .<a class="code" href="classStats_1_1DataWrap.html#a21c87112d21fd2a0caa14aaa343d8bc1">desc</a>(<span class="stringliteral">&quot;Last tick simulated from the fixed inst trace&quot;</span>)</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    ;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;}</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a></div><div class="line"><a name="l01048"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1FixedRetryGen.html#a1aad3244be9ce90525e8edcdc3f1afa1"> 1048</a></span>&#160;<a class="code" href="classTraceCPU_1_1FixedRetryGen.html#a1aad3244be9ce90525e8edcdc3f1afa1">TraceCPU::FixedRetryGen::init</a>()</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;{</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUInst, <span class="stringliteral">&quot;Initializing instruction fetch request generator&quot;</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;            <span class="stringliteral">&quot; IcacheGen: fixed issue with retry.\n&quot;</span>);</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordflow">if</span> (nextExecute()) {</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUInst, <span class="stringliteral">&quot;\tFirst tick = %d.\n&quot;</span>, currElement.tick);</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <span class="keywordflow">return</span> currElement.tick;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        <a class="code" href="logging_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Read of first message in the trace failed.\n&quot;</span>);</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="base_2types_8hh.html#abe940b1b328825e234da719447e15ca5">MaxTick</a>;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    }</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;}</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l01063"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1FixedRetryGen.html#a6272b162f23ef9811d426568c44d1fb4"> 1063</a></span>&#160;<a class="code" href="classTraceCPU_1_1FixedRetryGen.html#a6272b162f23ef9811d426568c44d1fb4">TraceCPU::FixedRetryGen::tryNext</a>()</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;{</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="comment">// If there is a retry packet, try to send it</span></div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#af4b239ba3976f0c5c7bca7bb05cfe272">retryPkt</a>) {</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUInst, <span class="stringliteral">&quot;Trying to send retry packet.\n&quot;</span>);</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#ab4f9ad1085da0ed6ef6faa4025a444f6">port</a>.<a class="code" href="classMasterPort.html#acba350c337376f074a37507d6018bec3">sendTimingReq</a>(<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#af4b239ba3976f0c5c7bca7bb05cfe272">retryPkt</a>)) {</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            <span class="comment">// Still blocked! This should never occur.</span></div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUInst, <span class="stringliteral">&quot;Retry packet sending failed.\n&quot;</span>);</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        }</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        ++<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a547929bfa406c5a939abdc155d4c6949">numRetrySucceeded</a>;</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUInst, <span class="stringliteral">&quot;Trying to send packet for currElement.\n&quot;</span>);</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <span class="comment">// try sending current element</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        assert(currElement.isValid());</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        ++<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#ae925e811d914711f5d1bd9a5c45bc802">numSendAttempted</a>;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        <span class="keywordflow">if</span> (!send(currElement.addr, currElement.blocksize,</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                    currElement.cmd, currElement.flags, currElement.pc)) {</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;            <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUInst, <span class="stringliteral">&quot;currElement sending failed.\n&quot;</span>);</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            ++<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a0c208daeae57e03ce1e41d78971c2677">numSendFailed</a>;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;            <span class="comment">// return false to indicate not to schedule next event</span></div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;            ++<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#aa7441bee82d8f6813c7edf0a5211b8aa">numSendSucceeded</a>;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        }</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    }</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="comment">// If packet was sent successfully, either retryPkt or currElement, return</span></div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="comment">// true to indicate to schedule event at current Tick plus delta. If packet</span></div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="comment">// was sent successfully and there is no next packet to send, return false.</span></div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUInst, <span class="stringliteral">&quot;Packet sent successfully, trying to read next &quot;</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        <span class="stringliteral">&quot;element.\n&quot;</span>);</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <a class="code" href="classTraceCPU_1_1ElasticDataGen.html#af4b239ba3976f0c5c7bca7bb05cfe272">retryPkt</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="comment">// Read next element into currElement, currElement gets cleared so save the</span></div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="comment">// tick to calculate delta</span></div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> last_tick = currElement.tick;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">if</span> (nextExecute()) {</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        assert(currElement.tick &gt;= last_tick);</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        delta = currElement.tick - last_tick;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    }</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a85d202ac5220c856f7ed1336c2cd3777">traceComplete</a>;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;}</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01112"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1FixedRetryGen.html#a86a1ea224a4b6473616d53a23557aa20"> 1112</a></span>&#160;<a class="code" href="classTraceCPU_1_1FixedRetryGen.html#a86a1ea224a4b6473616d53a23557aa20">TraceCPU::FixedRetryGen::exit</a>()</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;{</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a9ae29dd5eb4e8415bed2c9c7d0bcb33a">trace</a>.<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#acbdbe4327b227df0bf391304a9944c39">reset</a>();</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;}</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l01118"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1FixedRetryGen.html#a6dcaf6ca22f76e43a966897e9a676a38"> 1118</a></span>&#160;<a class="code" href="classTraceCPU_1_1FixedRetryGen.html#a6dcaf6ca22f76e43a966897e9a676a38">TraceCPU::FixedRetryGen::nextExecute</a>()</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;{</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a85d202ac5220c856f7ed1336c2cd3777">traceComplete</a>)</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        <span class="comment">// We are at the end of the file, thus we have no more messages.</span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        <span class="comment">// Return false.</span></div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="comment">//Reset the currElement to the default values</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    currElement.clear();</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="comment">// Read the next line to get the next message. If that fails then end of</span></div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="comment">// trace has been reached and traceComplete needs to be set in addition</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="comment">// to returning false. If successful then next message is in currElement.</span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a9ae29dd5eb4e8415bed2c9c7d0bcb33a">trace</a>.<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#a1618ed2efd06b1ada277957a1c6b8fad">read</a>(&amp;currElement)) {</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        <a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a85d202ac5220c856f7ed1336c2cd3777">traceComplete</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        instLastTick = <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22">curTick</a>();</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    }</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUInst, <span class="stringliteral">&quot;inst fetch: %c addr %d pc %#x size %d tick %d\n&quot;</span>,</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;            currElement.cmd.isRead() ? <span class="charliteral">&#39;r&#39;</span> : <span class="charliteral">&#39;w&#39;</span>,</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;            currElement.addr,</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;            currElement.pc,</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;            currElement.blocksize,</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;            currElement.tick);</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;}</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l01149"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1FixedRetryGen.html#a10dcc9bdcf463caf9cd44beff57a33f8"> 1149</a></span>&#160;<a class="code" href="classTraceCPU_1_1FixedRetryGen.html#a10dcc9bdcf463caf9cd44beff57a33f8">TraceCPU::FixedRetryGen::send</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="inet_8hh.html#ae32b25ff633168fbdecd8d24293034cd">addr</a>, <span class="keywordtype">unsigned</span> size, <span class="keyword">const</span> <a class="code" href="classMemCmd.html">MemCmd</a>&amp; cmd,</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;              <a class="code" href="classRequest.html#a5c7f6916167bf0827be5356095e091ba">Request::FlagsType</a> flags, <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="namespaceMipsISA.html#a4f7ed975e7137b5c369214789649451f">pc</a>)</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;{</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="comment">// Create new request</span></div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keyword">auto</span> req = std::make_shared&lt;Request&gt;(<a class="code" href="inet_8hh.html#ae32b25ff633168fbdecd8d24293034cd">addr</a>, size, flags, <a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a659dd5557538b941085b8aa05d0485d7">masterID</a>);</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    req-&gt;setPC(pc);</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="comment">// If this is not done it triggers assert in L1 cache for invalid contextId</span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    req-&gt;setContext(<a class="code" href="base_2types_8hh.html#a5ba9705b85fbf1a2720bce8914fa4a18">ContextID</a>(0));</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="comment">// Embed it in a packet</span></div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <a class="code" href="classPacket.html">PacketPtr</a> pkt = <span class="keyword">new</span> <a class="code" href="namespaceProbePoints.html#ad737652905dacb8536adf3c5c4051bc4">Packet</a>(req, cmd);</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    uint8_t* pkt_data = <span class="keyword">new</span> uint8_t[req-&gt;getSize()];</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    pkt-&gt;<a class="code" href="classPacket.html#aa86da42d7b9a882873deb75798e8ff8d">dataDynamic</a>(pkt_data);</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="keywordflow">if</span> (cmd.<a class="code" href="classMemCmd.html#a1d67008bcf747dadbb70f5a0136b6b9c">isWrite</a>()) {</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        memset(pkt_data, 0xA, req-&gt;getSize());</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    }</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <span class="comment">// Call MasterPort method to send a timing request for this packet</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <span class="keywordtype">bool</span> success = <a class="code" href="classTraceCPU_1_1ElasticDataGen.html#ab4f9ad1085da0ed6ef6faa4025a444f6">port</a>.<a class="code" href="classMasterPort.html#acba350c337376f074a37507d6018bec3">sendTimingReq</a>(pkt);</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="keywordflow">if</span> (!success) {</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        <span class="comment">// If it fails, save the packet to retry when a retry is signalled by</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        <span class="comment">// the cache</span></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        <a class="code" href="classTraceCPU_1_1ElasticDataGen.html#af4b239ba3976f0c5c7bca7bb05cfe272">retryPkt</a> = pkt;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    }</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keywordflow">return</span> success;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;}</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01181"></a><span class="lineno"><a class="line" href="classTraceCPU.html#ab27802ef3ea38961965bbad53d67df02"> 1181</a></span>&#160;<a class="code" href="classTraceCPU.html#ab27802ef3ea38961965bbad53d67df02">TraceCPU::icacheRetryRecvd</a>()</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;{</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="comment">// Schedule an event to go through the control flow in the same tick as</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="comment">// retry is received</span></div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUInst, <span class="stringliteral">&quot;Icache retry received. Scheduling next IcacheGen&quot;</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;            <span class="stringliteral">&quot; event @%lli.\n&quot;</span>, <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22">curTick</a>());</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <a class="code" href="classEventManager.html#a749a10828b2dd5017a2582960d04e400">schedule</a>(<a class="code" href="classTraceCPU.html#a1422281f66ddb6c1cf5d33d1707bdd72">icacheNextEvent</a>, <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22">curTick</a>());</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;}</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01191"></a><span class="lineno"><a class="line" href="classTraceCPU.html#aaaa47226934b984e2449791f9c73e247"> 1191</a></span>&#160;<a class="code" href="classTraceCPU.html#aaaa47226934b984e2449791f9c73e247">TraceCPU::dcacheRetryRecvd</a>()</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;{</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="comment">// Schedule an event to go through the execute flow in the same tick as</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="comment">// retry is received</span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Dcache retry received. Scheduling next DcacheGen&quot;</span></div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;            <span class="stringliteral">&quot; event @%lli.\n&quot;</span>, <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22">curTick</a>());</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <a class="code" href="classEventManager.html#a749a10828b2dd5017a2582960d04e400">schedule</a>(<a class="code" href="classTraceCPU.html#af2bbab70459b0dc440ca4d23bf3ca215">dcacheNextEvent</a>, <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22">curTick</a>());</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;}</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01201"></a><span class="lineno"><a class="line" href="classTraceCPU.html#a1ca679fb685a3b62d0cd4a44097c823b"> 1201</a></span>&#160;<a class="code" href="classTraceCPU.html#a1ca679fb685a3b62d0cd4a44097c823b">TraceCPU::schedDcacheNextEvent</a>(<a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> when)</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;{</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTraceCPU.html#af2bbab70459b0dc440ca4d23bf3ca215">dcacheNextEvent</a>.<a class="code" href="classEvent.html#a354f9f5eecdc5667d8112fa1307bcc82">scheduled</a>()) {</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Scheduling next DcacheGen event at %lli.\n&quot;</span>,</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                when);</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        <a class="code" href="classEventManager.html#a749a10828b2dd5017a2582960d04e400">schedule</a>(<a class="code" href="classTraceCPU.html#af2bbab70459b0dc440ca4d23bf3ca215">dcacheNextEvent</a>, when);</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        ++<a class="code" href="classTraceCPU.html#ad62e23894f52233543d0ca2563c3fba9">numSchedDcacheEvent</a>;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (when &lt; <a class="code" href="classTraceCPU.html#af2bbab70459b0dc440ca4d23bf3ca215">dcacheNextEvent</a>.<a class="code" href="classEvent.html#ad39cc53b3ea947492a69bac094d874b3">when</a>()) {</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Re-scheduling next dcache event from %lli&quot;</span></div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                <span class="stringliteral">&quot; to %lli.\n&quot;</span>, <a class="code" href="classTraceCPU.html#af2bbab70459b0dc440ca4d23bf3ca215">dcacheNextEvent</a>.<a class="code" href="classEvent.html#ad39cc53b3ea947492a69bac094d874b3">when</a>(), when);</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <a class="code" href="classEventManager.html#a766c5f955dfa1609696955f075492687">reschedule</a>(<a class="code" href="classTraceCPU.html#af2bbab70459b0dc440ca4d23bf3ca215">dcacheNextEvent</a>, when);</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    }</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;}</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l01217"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1IcachePort.html#ac2d1a35de6e3149f74ffe73b7d67cdca"> 1217</a></span>&#160;<a class="code" href="classTraceCPU_1_1IcachePort.html#ac2d1a35de6e3149f74ffe73b7d67cdca">TraceCPU::IcachePort::recvTimingResp</a>(<a class="code" href="classPacket.html">PacketPtr</a> pkt)</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;{</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="comment">// All responses on the instruction fetch side are ignored. Simply delete</span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <span class="comment">// the packet to free allocated memory</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="keyword">delete</span> pkt;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;}</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01227"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1IcachePort.html#ae527df1686215e3995d7a43c13b35abb"> 1227</a></span>&#160;<a class="code" href="classTraceCPU_1_1IcachePort.html#ae527df1686215e3995d7a43c13b35abb">TraceCPU::IcachePort::recvReqRetry</a>()</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;{</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a7832e8f001b2c5a9f0925323042c3807">owner</a>-&gt;<a class="code" href="classTraceCPU.html#ab27802ef3ea38961965bbad53d67df02">icacheRetryRecvd</a>();</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;}</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01233"></a><span class="lineno"><a class="line" href="classTraceCPU.html#a70bdfd3d2503608e853e673885ed21ab"> 1233</a></span>&#160;<a class="code" href="classTraceCPU.html#a70bdfd3d2503608e853e673885ed21ab">TraceCPU::dcacheRecvTimingResp</a>(<a class="code" href="classPacket.html">PacketPtr</a> pkt)</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;{</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <a class="code" href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(TraceCPUData, <span class="stringliteral">&quot;Received timing response from Dcache.\n&quot;</span>);</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <a class="code" href="classTraceCPU.html#aba2a0a9163f1f178c0e6f0ee6fd1cea4">dcacheGen</a>.<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#adb342e2efa40b2d5f8ed99630dd3ec76">completeMemAccess</a>(pkt);</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;}</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l01240"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1DcachePort.html#a0243ae35e82bca88a79558c99146a296"> 1240</a></span>&#160;<a class="code" href="classTraceCPU_1_1DcachePort.html#a0243ae35e82bca88a79558c99146a296">TraceCPU::DcachePort::recvTimingResp</a>(<a class="code" href="classPacket.html">PacketPtr</a> pkt)</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;{</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="comment">// Handle the responses for data memory requests which is done inside the</span></div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="comment">// elastic data generator</span></div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a7832e8f001b2c5a9f0925323042c3807">owner</a>-&gt;<a class="code" href="classTraceCPU.html#a70bdfd3d2503608e853e673885ed21ab">dcacheRecvTimingResp</a>(pkt);</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="comment">// After processing the response delete the packet to free</span></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="comment">// memory</span></div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="keyword">delete</span> pkt;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;}</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01253"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1DcachePort.html#ac121a02fc0dd957961afe4341a0b215d"> 1253</a></span>&#160;<a class="code" href="classTraceCPU_1_1DcachePort.html#ac121a02fc0dd957961afe4341a0b215d">TraceCPU::DcachePort::recvReqRetry</a>()</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;{</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a7832e8f001b2c5a9f0925323042c3807">owner</a>-&gt;<a class="code" href="classTraceCPU.html#aaaa47226934b984e2449791f9c73e247">dcacheRetryRecvd</a>();</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;}</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;</div><div class="line"><a name="l01258"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#a6f0cc798cedc1418d8acb36874e5e696"> 1258</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#a6f0cc798cedc1418d8acb36874e5e696">TraceCPU::ElasticDataGen::InputStream::InputStream</a>(</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="keyword">const</span> std::string&amp; filename,</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> time_multiplier)</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    : <a class="code" href="classTraceCPU_1_1ElasticDataGen.html#a9ae29dd5eb4e8415bed2c9c7d0bcb33a">trace</a>(filename),</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      timeMultiplier(time_multiplier),</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      microOpCount(0)</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;{</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="comment">// Create a protobuf message for the header and read it from the stream</span></div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    ProtoMessage::InstDepRecordHeader header_msg;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#af6723e74bad4026d1329f52b84a12e37">trace</a>.<a class="code" href="classProtoInputStream.html#a6b14484a1eb802dc217651e80c605989">read</a>(header_msg)) {</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        <a class="code" href="logging_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Failed to read packet header from %s\n&quot;</span>, filename);</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        <span class="keywordflow">if</span> (header_msg.tick_freq() != <a class="code" href="namespaceSimClock.html#a3e914c4cb1e00a7287962713e374d17a">SimClock::Frequency</a>) {</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;            <a class="code" href="logging_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Trace %s was recorded with a different tick frequency %d\n&quot;</span>,</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                  header_msg.tick_freq());</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;        }</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;        <span class="comment">// Assign window size equal to the field in the trace that was recorded</span></div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        <span class="comment">// when the data dependency trace was captured in the o3cpu model</span></div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#a910744557965a6a3036ab92d9dca0951">windowSize</a> = header_msg.window_size();</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    }</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;}</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01282"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#acbdbe4327b227df0bf391304a9944c39"> 1282</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#acbdbe4327b227df0bf391304a9944c39">TraceCPU::ElasticDataGen::InputStream::reset</a>()</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;{</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#af6723e74bad4026d1329f52b84a12e37">trace</a>.<a class="code" href="classProtoInputStream.html#a792041da7e6b9cfc33cf388fe2ed04a1">reset</a>();</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;}</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l01288"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#a1618ed2efd06b1ada277957a1c6b8fad"> 1288</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#a1618ed2efd06b1ada277957a1c6b8fad">TraceCPU::ElasticDataGen::InputStream::read</a>(<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html">GraphNode</a>* element)</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;{</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    ProtoMessage::InstDepRecord pkt_msg;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#af6723e74bad4026d1329f52b84a12e37">trace</a>.<a class="code" href="classProtoInputStream.html#a6b14484a1eb802dc217651e80c605989">read</a>(pkt_msg)) {</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        <span class="comment">// Required fields</span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f0b39a0866b0da182b37d8927bc9805">seqNum</a> = pkt_msg.seq_num();</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a62ab87c0506e9764defda305ee591a97">type</a> = pkt_msg.type();</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        <span class="comment">// Scale the compute delay to effectively scale the Trace CPU frequency</span></div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a0feda1917a7916aa080ea1990696ea1b">compDelay</a> = pkt_msg.comp_delay() * <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#ad32367ecc1c68bfd52d4580c1662b2cf">timeMultiplier</a>;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        <span class="comment">// Repeated field robDepList</span></div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a23323ea722f3716083c07e78ca03ce33">clearRobDep</a>();</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        assert((pkt_msg.rob_dep()).size() &lt;= element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a47dc12e12e37348a7eeccce4fd9a0f31">maxRobDep</a>);</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a> = 0; <a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a> &lt; (pkt_msg.rob_dep()).size(); <a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a>++) {</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;            element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a687041633ebba73e8102ee6bd974ec67">robDep</a>[element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#af211bc1b44b233f0e0093f1b63d81d1d">numRobDep</a>] = pkt_msg.rob_dep(<a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a>);</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;            element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#af211bc1b44b233f0e0093f1b63d81d1d">numRobDep</a> += 1;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        }</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        <span class="comment">// Repeated field</span></div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a6279e2311cb0f61f75f7ed91f6489fc2">clearRegDep</a>();</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        assert((pkt_msg.reg_dep()).size() &lt;= <a class="code" href="namespaceArmISA.html#abdd8d87f45e3e642b35d255fbb142607">TheISA::MaxInstSrcRegs</a>);</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a> = 0; <a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a> &lt; (pkt_msg.reg_dep()).size(); <a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a>++) {</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;            <span class="comment">// There is a possibility that an instruction has both, a register</span></div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;            <span class="comment">// and order dependency on an instruction. In such a case, the</span></div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;            <span class="comment">// register dependency is omitted</span></div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            <span class="keywordtype">bool</span> duplicate = <span class="keyword">false</span>;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#ac843bf7761bca8cf5315375942a0c25b">j</a> = 0; <a class="code" href="namespaceArmISA.html#ac843bf7761bca8cf5315375942a0c25b">j</a> &lt; element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#af211bc1b44b233f0e0093f1b63d81d1d">numRobDep</a>; <a class="code" href="namespaceArmISA.html#ac843bf7761bca8cf5315375942a0c25b">j</a>++) {</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                duplicate |= (pkt_msg.reg_dep(<a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a>) == element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a687041633ebba73e8102ee6bd974ec67">robDep</a>[<a class="code" href="namespaceArmISA.html#ac843bf7761bca8cf5315375942a0c25b">j</a>]);</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            }</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;            <span class="keywordflow">if</span> (!duplicate) {</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#acfd24322db4c7a49403298962210acd9">regDep</a>[element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a4c5a498d593c185f86e0976d2e29bec4">numRegDep</a>] = pkt_msg.reg_dep(<a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a>);</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a4c5a498d593c185f86e0976d2e29bec4">numRegDep</a> += 1;</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;            }</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        }</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <span class="comment">// Optional fields</span></div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        <span class="keywordflow">if</span> (pkt_msg.has_p_addr())</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;            element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#ab9671fcdc1bbb9027c5f1d58d176016e">physAddr</a> = pkt_msg.p_addr();</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;            element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#ab9671fcdc1bbb9027c5f1d58d176016e">physAddr</a> = 0;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        <span class="keywordflow">if</span> (pkt_msg.has_v_addr())</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;            element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#af46050d928110e59fa8e209a41429188">virtAddr</a> = pkt_msg.v_addr();</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;            element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#af46050d928110e59fa8e209a41429188">virtAddr</a> = 0;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        <span class="keywordflow">if</span> (pkt_msg.has_asid())</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#ad1579bb6652920b920793a5a54dad130">asid</a> = pkt_msg.asid();</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;            element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#ad1579bb6652920b920793a5a54dad130">asid</a> = 0;</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        <span class="keywordflow">if</span> (pkt_msg.has_size())</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f6c19121c07bd073c743fe3848b2618">size</a> = pkt_msg.size();</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f6c19121c07bd073c743fe3848b2618">size</a> = 0;</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;        <span class="keywordflow">if</span> (pkt_msg.has_flags())</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;            element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a8d3d9fc278a5dace657735ba7bf9da88">flags</a> = pkt_msg.flags();</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;            element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a8d3d9fc278a5dace657735ba7bf9da88">flags</a> = 0;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        <span class="keywordflow">if</span> (pkt_msg.has_pc())</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1c55fbcb2bab2dd59c4face44ca3a051">pc</a> = pkt_msg.pc();</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;            element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1c55fbcb2bab2dd59c4face44ca3a051">pc</a> = 0;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        <span class="comment">// ROB occupancy number</span></div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        ++<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#ae6848ba5e8c8a5c8ef0248d3d9bda323">microOpCount</a>;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        <span class="keywordflow">if</span> (pkt_msg.has_weight()) {</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;            <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#ae6848ba5e8c8a5c8ef0248d3d9bda323">microOpCount</a> += pkt_msg.weight();</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        }</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        element-&gt;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#afd47f5a239f82634bb93ce2d9b09896e">robNum</a> = <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#ae6848ba5e8c8a5c8ef0248d3d9bda323">microOpCount</a>;</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    }</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="comment">// We have reached the end of the file</span></div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;}</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l01368"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a4f1504636f8894286bc3c6e654aafd2d"> 1368</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a4f1504636f8894286bc3c6e654aafd2d">TraceCPU::ElasticDataGen::GraphNode::removeRegDep</a>(<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#abad96b1108e44c45712a1bd58439be03">NodeSeqNum</a> reg_dep)</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;{</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; own_reg_dep : regDep) {</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        <span class="keywordflow">if</span> (own_reg_dep == reg_dep) {</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            <span class="comment">// If register dependency is found, make it zero and return true</span></div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;            own_reg_dep = 0;</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;            assert(numRegDep &gt; 0);</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;            --numRegDep;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;            <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;\tFor %lli: Marking register dependency %lli &quot;</span></div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                    <span class="stringliteral">&quot;done.\n&quot;</span>, seqNum, reg_dep);</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        }</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    }</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="comment">// Return false if the dependency is not found</span></div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;}</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l01387"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1aa34526bc77fe925b327be306c1b355"> 1387</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1aa34526bc77fe925b327be306c1b355">TraceCPU::ElasticDataGen::GraphNode::removeRobDep</a>(<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#abad96b1108e44c45712a1bd58439be03">NodeSeqNum</a> rob_dep)</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;{</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; own_rob_dep : robDep) {</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        <span class="keywordflow">if</span> (own_rob_dep == rob_dep) {</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;            <span class="comment">// If the rob dependency is found, make it zero and return true</span></div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;            own_rob_dep = 0;</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;            assert(numRobDep &gt; 0);</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;            --numRobDep;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;            <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;\tFor %lli: Marking ROB dependency %lli &quot;</span></div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                <span class="stringliteral">&quot;done.\n&quot;</span>, seqNum, rob_dep);</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        }</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    }</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;}</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01404"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a6279e2311cb0f61f75f7ed91f6489fc2"> 1404</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a6279e2311cb0f61f75f7ed91f6489fc2">TraceCPU::ElasticDataGen::GraphNode::clearRegDep</a>() {</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; own_reg_dep : regDep) {</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        own_reg_dep = 0;</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    }</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    numRegDep = 0;</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;}</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01412"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a23323ea722f3716083c07e78ca03ce33"> 1412</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a23323ea722f3716083c07e78ca03ce33">TraceCPU::ElasticDataGen::GraphNode::clearRobDep</a>() {</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; own_rob_dep : robDep) {</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        own_rob_dep = 0;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    }</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    numRobDep = 0;</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;}</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l01420"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a3228fae4d66568727ef35ec014e4889d"> 1420</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a3228fae4d66568727ef35ec014e4889d">TraceCPU::ElasticDataGen::GraphNode::removeDepOnInst</a>(<a class="code" href="classTraceCPU_1_1ElasticDataGen.html#abad96b1108e44c45712a1bd58439be03">NodeSeqNum</a> done_seq_num)</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;{</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <span class="comment">// If it is an rob dependency then remove it</span></div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    <span class="keywordflow">if</span> (!removeRobDep(done_seq_num)) {</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <span class="comment">// If it is not an rob dependency then it must be a register dependency</span></div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        <span class="comment">// If the register dependency is not found, it violates an assumption</span></div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        <span class="comment">// and must be caught by assert.</span></div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        <span class="keywordtype">bool</span> regdep_found <a class="code" href="arch_2x86_2process_8cc.html#a4a522b8848c4afad8c6404708a44a05f">M5_VAR_USED</a> = removeRegDep(done_seq_num);</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        assert(regdep_found);</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    }</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="comment">// Return true if the node is dependency free</span></div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordflow">return</span> (numRobDep == 0 &amp;&amp; numRegDep == 0);</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;}</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01435"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a8afb8a28b6f2f5cab11689dc02f2872f"> 1435</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a8afb8a28b6f2f5cab11689dc02f2872f">TraceCPU::ElasticDataGen::GraphNode::writeElementAsTrace</a>()<span class="keyword"> const</span></div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;%lli&quot;</span>, seqNum);</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;,%s&quot;</span>, typeToStr());</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="keywordflow">if</span> (isLoad() || isStore()) {</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;,%i&quot;</span>, <a class="code" href="namespaceX86ISA.html#a4924cb7ed87bcb9e076467ea1d4553cf">physAddr</a>);</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;,%i&quot;</span>, size);</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;,%i&quot;</span>, flags);</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    }</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;,%lli&quot;</span>, compDelay);</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a> = 0;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;robDep:&quot;</span>);</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="keywordflow">while</span> (robDep[i] != 0) {</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;,%lli&quot;</span>, robDep[i]);</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        i++;</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    }</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    i = 0;</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;regDep:&quot;</span>);</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <span class="keywordflow">while</span> (regDep[i] != 0) {</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;,%lli&quot;</span>, regDep[i]);</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        i++;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    }</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="keyword">auto</span> child_itr = dependents.begin();</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;dependents:&quot;</span>);</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <span class="keywordflow">while</span> (child_itr != dependents.end()) {</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;:%lli&quot;</span>, (*child_itr)-&gt;seqNum);</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        child_itr++;</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    }</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <a class="code" href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a>(TraceCPUData, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;}</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;std::string</div><div class="line"><a name="l01468"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a295a65a59d52372bff249ec9d1b3c9a6"> 1468</a></span>&#160;<a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a295a65a59d52372bff249ec9d1b3c9a6">TraceCPU::ElasticDataGen::GraphNode::typeToStr</a>()<span class="keyword"> const</span></div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="keywordflow">return</span> Record::RecordType_Name(<a class="code" href="inet_8hh.html#a1d127017fb298b889f4ba24752d08b8e">type</a>);</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;}</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;</div><div class="line"><a name="l01473"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1FixedRetryGen_1_1InputStream.html#af60321132ee58f740eb54a25a05043b3"> 1473</a></span>&#160;<a class="code" href="classTraceCPU_1_1FixedRetryGen_1_1InputStream.html#af60321132ee58f740eb54a25a05043b3">TraceCPU::FixedRetryGen::InputStream::InputStream</a>(<span class="keyword">const</span> std::string&amp; filename)</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    : <a class="code" href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#af6723e74bad4026d1329f52b84a12e37">trace</a>(filename)</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;{</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="comment">// Create a protobuf message for the header and read it from the stream</span></div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    ProtoMessage::PacketHeader header_msg;</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTraceCPU_1_1FixedRetryGen_1_1InputStream.html#a6b7be165831396972574ae2882f2b02c">trace</a>.<a class="code" href="classProtoInputStream.html#a6b14484a1eb802dc217651e80c605989">read</a>(header_msg)) {</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        <a class="code" href="logging_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Failed to read packet header from %s\n&quot;</span>, filename);</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        <span class="keywordflow">if</span> (header_msg.tick_freq() != <a class="code" href="namespaceSimClock.html#a3e914c4cb1e00a7287962713e374d17a">SimClock::Frequency</a>) {</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;            <a class="code" href="logging_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Trace %s was recorded with a different tick frequency %d\n&quot;</span>,</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                  header_msg.tick_freq());</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        }</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    }</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;}</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01489"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1FixedRetryGen_1_1InputStream.html#ac3622dc35a6b812985f5b66a353decaf"> 1489</a></span>&#160;<a class="code" href="classTraceCPU_1_1FixedRetryGen_1_1InputStream.html#ac3622dc35a6b812985f5b66a353decaf">TraceCPU::FixedRetryGen::InputStream::reset</a>()</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;{</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <a class="code" href="classTraceCPU_1_1FixedRetryGen_1_1InputStream.html#a6b7be165831396972574ae2882f2b02c">trace</a>.<a class="code" href="classProtoInputStream.html#a792041da7e6b9cfc33cf388fe2ed04a1">reset</a>();</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;}</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l01495"></a><span class="lineno"><a class="line" href="classTraceCPU_1_1FixedRetryGen_1_1InputStream.html#a7542772ccf719ceecccc5f5c99bf6819"> 1495</a></span>&#160;<a class="code" href="classTraceCPU_1_1FixedRetryGen_1_1InputStream.html#a7542772ccf719ceecccc5f5c99bf6819">TraceCPU::FixedRetryGen::InputStream::read</a>(<a class="code" href="structTraceCPU_1_1FixedRetryGen_1_1TraceElement.html">TraceElement</a>* element)</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;{</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <a class="code" href="namespaceProbePoints.html#ad737652905dacb8536adf3c5c4051bc4">ProtoMessage::Packet</a> pkt_msg;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classTraceCPU_1_1FixedRetryGen_1_1InputStream.html#a6b7be165831396972574ae2882f2b02c">trace</a>.<a class="code" href="classProtoInputStream.html#a6b14484a1eb802dc217651e80c605989">read</a>(pkt_msg)) {</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;        element-&gt;<a class="code" href="structTraceCPU_1_1FixedRetryGen_1_1TraceElement.html#a93f6bc115ef68cd7bacf923fb74a271c">cmd</a> = pkt_msg.<a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>();</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        element-&gt;<a class="code" href="structTraceCPU_1_1FixedRetryGen_1_1TraceElement.html#a64ddb7176ee634e77cf31b8206ae9dd8">addr</a> = pkt_msg.addr();</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;        element-&gt;<a class="code" href="structTraceCPU_1_1FixedRetryGen_1_1TraceElement.html#ad05e07b058d42d13df10d381b9971278">blocksize</a> = pkt_msg.size();</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;        element-&gt;<a class="code" href="structTraceCPU_1_1FixedRetryGen_1_1TraceElement.html#a19d6692252edaac11f797936d8e7efb6">tick</a> = pkt_msg.tick();</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        element-&gt;<a class="code" href="structTraceCPU_1_1FixedRetryGen_1_1TraceElement.html#aaa984657695dae6dbf9ec0b6cedb21a6">flags</a> = pkt_msg.has_flags() ? pkt_msg.flags() : 0;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        element-&gt;<a class="code" href="structTraceCPU_1_1FixedRetryGen_1_1TraceElement.html#a5b40df6f9fa9065c2b4cd2aee4a2873b">pc</a> = pkt_msg.has_pc() ? pkt_msg.pc() : 0;</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    }</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="comment">// We have reached the end of the file</span></div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;}</div><div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_a9ae29dd5eb4e8415bed2c9c7d0bcb33a"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#a9ae29dd5eb4e8415bed2c9c7d0bcb33a">TraceCPU::ElasticDataGen::trace</a></div><div class="ttdeci">InputStream trace</div><div class="ttdoc">Input stream used for reading the input trace file. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01000">trace_cpu.hh:1000</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_a04f8b2d7ea934270dd947b9a4a3244e7"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#a04f8b2d7ea934270dd947b9a4a3244e7">TraceCPU::ElasticDataGen::execute</a></div><div class="ttdeci">void execute()</div><div class="ttdoc">This is the main execute function which consumes nodes from the sorted readyList. ...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00431">trace_cpu.cc:431</a></div></div>
<div class="ttc" id="logging_8hh_html_a1445e207e36c97ff84c54b47288cea19"><div class="ttname"><a href="logging_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a></div><div class="ttdeci">#define panic(...)</div><div class="ttdoc">This implements a cprintf based panic() function. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8hh_source.html#l00167">logging.hh:167</a></div></div>
<div class="ttc" id="structTraceCPU_1_1ElasticDataGen_1_1ReadyNode_html"><div class="ttname"><a href="structTraceCPU_1_1ElasticDataGen_1_1ReadyNode.html">TraceCPU::ElasticDataGen::ReadyNode</a></div><div class="ttdoc">Struct to store a ready-to-execute node and its execution tick. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00685">trace_cpu.hh:685</a></div></div>
<div class="ttc" id="classTraceCPU_html_a1a7a5652d6c50e3eadba8d2ef8f0e72f"><div class="ttname"><a href="classTraceCPU.html#a1a7a5652d6c50e3eadba8d2ef8f0e72f">TraceCPU::schedDcacheNext</a></div><div class="ttdeci">void schedDcacheNext()</div><div class="ttdoc">This is the control flow that uses the functionality of the dcacheGen to replay the trace...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00182">trace_cpu.cc:182</a></div></div>
<div class="ttc" id="base_2trace_8hh_html_aefe58fddf89e41edd783bf4c3e31d2c3"><div class="ttname"><a href="base_2trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a></div><div class="ttdeci">#define DPRINTF(x,...)</div><div class="ttdef"><b>Definition:</b> <a href="base_2trace_8hh_source.html#l00215">trace.hh:215</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource_html_a150f5a7c76b0e1e314b2699fca37c1dd"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a150f5a7c76b0e1e314b2699fca37c1dd">TraceCPU::ElasticDataGen::HardwareResource::sizeStoreBuffer</a></div><div class="ttdeci">const uint16_t sizeStoreBuffer</div><div class="ttdoc">The size of store buffer. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00760">trace_cpu.hh:760</a></div></div>
<div class="ttc" id="classTraceCPU_html_a0ba3d26a3b3ff42abae3b61e13062bf7"><div class="ttname"><a href="classTraceCPU.html#a0ba3d26a3b3ff42abae3b61e13062bf7">TraceCPU::progressMsgInterval</a></div><div class="ttdeci">const uint64_t progressMsgInterval</div><div class="ttdoc">Interval of committed instructions specified by the user at which a progress info message is printed...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01129">trace_cpu.hh:1129</a></div></div>
<div class="ttc" id="classTraceCPU_1_1FixedRetryGen_html_a10dcc9bdcf463caf9cd44beff57a33f8"><div class="ttname"><a href="classTraceCPU_1_1FixedRetryGen.html#a10dcc9bdcf463caf9cd44beff57a33f8">TraceCPU::FixedRetryGen::send</a></div><div class="ttdeci">bool send(Addr addr, unsigned size, const MemCmd &amp;cmd, Request::FlagsType flags, Addr pc)</div><div class="ttdoc">Creates a new request assigning the request parameters passed by the arguments. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01149">trace_cpu.cc:1149</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_a612371d959f253e38b28e7030509bfa1"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a612371d959f253e38b28e7030509bfa1">TraceCPU::ElasticDataGen::GraphNode::isStore</a></div><div class="ttdeci">bool isStore() const</div><div class="ttdoc">Is the node a store. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00650">trace_cpu.hh:650</a></div></div>
<div class="ttc" id="structTraceCPU_1_1FixedRetryGen_1_1TraceElement_html_ad05e07b058d42d13df10d381b9971278"><div class="ttname"><a href="structTraceCPU_1_1FixedRetryGen_1_1TraceElement.html#ad05e07b058d42d13df10d381b9971278">TraceCPU::FixedRetryGen::TraceElement::blocksize</a></div><div class="ttdeci">Addr blocksize</div><div class="ttdoc">The size of the access for the request. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00360">trace_cpu.hh:360</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_a7832e8f001b2c5a9f0925323042c3807"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#a7832e8f001b2c5a9f0925323042c3807">TraceCPU::ElasticDataGen::owner</a></div><div class="ttdeci">TraceCPU &amp; owner</div><div class="ttdoc">Reference of the TraceCPU. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00991">trace_cpu.hh:991</a></div></div>
<div class="ttc" id="classCycles_html"><div class="ttname"><a href="classCycles.html">Cycles</a></div><div class="ttdoc">Cycles is a wrapper class for representing cycle counts, i.e. </div><div class="ttdef"><b>Definition:</b> <a href="base_2types_8hh_source.html#l00083">types.hh:83</a></div></div>
<div class="ttc" id="structTraceCPU_1_1ElasticDataGen_1_1ReadyNode_html_a280be0aa0058d46c8a3104d2648a0ec2"><div class="ttname"><a href="structTraceCPU_1_1ElasticDataGen_1_1ReadyNode.html#a280be0aa0058d46c8a3104d2648a0ec2">TraceCPU::ElasticDataGen::ReadyNode::seqNum</a></div><div class="ttdeci">NodeSeqNum seqNum</div><div class="ttdoc">The sequence number of the ready node. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00688">trace_cpu.hh:688</a></div></div>
<div class="ttc" id="classTraceCPU_1_1FixedRetryGen_html_a86a1ea224a4b6473616d53a23557aa20"><div class="ttname"><a href="classTraceCPU_1_1FixedRetryGen.html#a86a1ea224a4b6473616d53a23557aa20">TraceCPU::FixedRetryGen::exit</a></div><div class="ttdeci">void exit()</div><div class="ttdoc">Exit the FixedRetryGen. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01112">trace_cpu.cc:1112</a></div></div>
<div class="ttc" id="classMemCmd_html"><div class="ttname"><a href="classMemCmd.html">MemCmd</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8hh_source.html#l00076">packet.hh:76</a></div></div>
<div class="ttc" id="classTraceCPU_1_1DcachePort_html_ac121a02fc0dd957961afe4341a0b215d"><div class="ttname"><a href="classTraceCPU_1_1DcachePort.html#ac121a02fc0dd957961afe4341a0b215d">TraceCPU::DcachePort::recvReqRetry</a></div><div class="ttdeci">void recvReqRetry()</div><div class="ttdoc">Handle a retry signalled by the cache if data access failed in the first attempt. ...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01253">trace_cpu.cc:1253</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1InputStream_html_a910744557965a6a3036ab92d9dca0951"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#a910744557965a6a3036ab92d9dca0951">TraceCPU::ElasticDataGen::InputStream::windowSize</a></div><div class="ttdeci">uint32_t windowSize</div><div class="ttdoc">The window size that is read from the header of the protobuf trace and used to process the dependency...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00818">trace_cpu.hh:818</a></div></div>
<div class="ttc" id="classTraceCPU_1_1FixedRetryGen_html_a71cca3a57d6951873f32df40e86255ad"><div class="ttname"><a href="classTraceCPU_1_1FixedRetryGen.html#a71cca3a57d6951873f32df40e86255ad">TraceCPU::FixedRetryGen::isTraceComplete</a></div><div class="ttdeci">bool isTraceComplete()</div><div class="ttdoc">Returns the traceComplete variable which is set when end of the input trace file is reached...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00496">trace_cpu.hh:496</a></div></div>
<div class="ttc" id="classTraceCPU_html_af2bbab70459b0dc440ca4d23bf3ca215"><div class="ttname"><a href="classTraceCPU.html#af2bbab70459b0dc440ca4d23bf3ca215">TraceCPU::dcacheNextEvent</a></div><div class="ttdeci">EventFunctionWrapper dcacheNextEvent</div><div class="ttdoc">Event for the control flow method schedDcacheNext() </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01088">trace_cpu.hh:1088</a></div></div>
<div class="ttc" id="namespaceArmISA_html_a07402644ed55c19e1a116116c548c2ac"><div class="ttname"><a href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">ArmISA::i</a></div><div class="ttdeci">Bitfield&lt; 7 &gt; i</div><div class="ttdef"><b>Definition:</b> <a href="miscregs__types_8hh_source.html#l00066">miscregs_types.hh:66</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_a4f1504636f8894286bc3c6e654aafd2d"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a4f1504636f8894286bc3c6e654aafd2d">TraceCPU::ElasticDataGen::GraphNode::removeRegDep</a></div><div class="ttdeci">bool removeRegDep(NodeSeqNum reg_dep)</div><div class="ttdoc">Remove completed instruction from register dependency array. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01368">trace_cpu.cc:1368</a></div></div>
<div class="ttc" id="classEvent_html_ad39cc53b3ea947492a69bac094d874b3"><div class="ttname"><a href="classEvent.html#ad39cc53b3ea947492a69bac094d874b3">Event::when</a></div><div class="ttdeci">Tick when() const</div><div class="ttdoc">Get the time that the event is scheduled. </div><div class="ttdef"><b>Definition:</b> <a href="eventq_8hh_source.html#l00401">eventq.hh:401</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource_html_a4c0ad76e8f93b8633a3615ac670059fd"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a4c0ad76e8f93b8633a3615ac670059fd">TraceCPU::ElasticDataGen::HardwareResource::numInFlightStores</a></div><div class="ttdeci">uint16_t numInFlightStores</div><div class="ttdoc">Number of ready stores for which request may or may not be sent. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00787">trace_cpu.hh:787</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_a8d3d9fc278a5dace657735ba7bf9da88"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a8d3d9fc278a5dace657735ba7bf9da88">TraceCPU::ElasticDataGen::GraphNode::flags</a></div><div class="ttdeci">Request::Flags flags</div><div class="ttdoc">Request flags if any. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00616">trace_cpu.hh:616</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_a62ab87c0506e9764defda305ee591a97"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a62ab87c0506e9764defda305ee591a97">TraceCPU::ElasticDataGen::GraphNode::type</a></div><div class="ttdeci">RecordType type</div><div class="ttdoc">Type of the node corresponding to the instruction modelled by it. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00601">trace_cpu.hh:601</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_af4b239ba3976f0c5c7bca7bb05cfe272"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#af4b239ba3976f0c5c7bca7bb05cfe272">TraceCPU::ElasticDataGen::retryPkt</a></div><div class="ttdeci">PacketPtr retryPkt</div><div class="ttdoc">PacketPtr used to store the packet to retry. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01006">trace_cpu.hh:1006</a></div></div>
<div class="ttc" id="classTraceCPU_html_a5f03850a914e1e4e23a9f62492863b78"><div class="ttname"><a href="classTraceCPU.html#a5f03850a914e1e4e23a9f62492863b78">TraceCPU::numSchedIcacheEvent</a></div><div class="ttdeci">Stats::Scalar numSchedIcacheEvent</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01139">trace_cpu.hh:1139</a></div></div>
<div class="ttc" id="classTraceCPU_1_1FixedRetryGen_html_a6dcaf6ca22f76e43a966897e9a676a38"><div class="ttname"><a href="classTraceCPU_1_1FixedRetryGen.html#a6dcaf6ca22f76e43a966897e9a676a38">TraceCPU::FixedRetryGen::nextExecute</a></div><div class="ttdeci">bool nextExecute()</div><div class="ttdoc">Reads a line of the trace file. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01118">trace_cpu.cc:1118</a></div></div>
<div class="ttc" id="classTraceCPU_html_a3ab4725c4080061aff64460a3d3d2a10"><div class="ttname"><a href="classTraceCPU.html#a3ab4725c4080061aff64460a3d3d2a10">TraceCPU::updateNumOps</a></div><div class="ttdeci">void updateNumOps(uint64_t rob_num)</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00096">trace_cpu.cc:96</a></div></div>
<div class="ttc" id="classTraceCPU_html_a5ae4cf60773938c77569f3b54a3b700f"><div class="ttname"><a href="classTraceCPU.html#a5ae4cf60773938c77569f3b54a3b700f">TraceCPU::~TraceCPU</a></div><div class="ttdeci">~TraceCPU()</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00084">trace_cpu.cc:84</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource_html_a03f28e9f02fa2ca92a8b11d8a317430a"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a03f28e9f02fa2ca92a8b11d8a317430a">TraceCPU::ElasticDataGen::HardwareResource::HardwareResource</a></div><div class="ttdeci">HardwareResource(uint16_t max_rob, uint16_t max_stores, uint16_t max_loads)</div><div class="ttdoc">Constructor that initializes the sizes of the structures. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00880">trace_cpu.cc:880</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_a00c6bf914c48058b05f33e82606c5853"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#a00c6bf914c48058b05f33e82606c5853">TraceCPU::ElasticDataGen::executeMemReq</a></div><div class="ttdeci">PacketPtr executeMemReq(GraphNode *node_ptr)</div><div class="ttdoc">Creates a new request for a load or store assigning the request parameters. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00625">trace_cpu.cc:625</a></div></div>
<div class="ttc" id="structTraceCPU_1_1FixedRetryGen_1_1TraceElement_html_aaa984657695dae6dbf9ec0b6cedb21a6"><div class="ttname"><a href="structTraceCPU_1_1FixedRetryGen_1_1TraceElement.html#aaa984657695dae6dbf9ec0b6cedb21a6">TraceCPU::FixedRetryGen::TraceElement::flags</a></div><div class="ttdeci">Request::FlagsType flags</div><div class="ttdoc">Potential request flags to use. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00366">trace_cpu.hh:366</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_adb342e2efa40b2d5f8ed99630dd3ec76"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#adb342e2efa40b2d5f8ed99630dd3ec76">TraceCPU::ElasticDataGen::completeMemAccess</a></div><div class="ttdeci">void completeMemAccess(PacketPtr pkt)</div><div class="ttdoc">When a load writeback is received, that is when the load completes, release the dependents on it...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00739">trace_cpu.cc:739</a></div></div>
<div class="ttc" id="namespaceX86ISA_html_a4924cb7ed87bcb9e076467ea1d4553cf"><div class="ttname"><a href="namespaceX86ISA.html#a4924cb7ed87bcb9e076467ea1d4553cf">X86ISA::physAddr</a></div><div class="ttdeci">physAddr</div><div class="ttdef"><b>Definition:</b> <a href="arch_2x86_2regs_2misc_8hh_source.html#l00833">misc.hh:833</a></div></div>
<div class="ttc" id="inet_8hh_html_ae32b25ff633168fbdecd8d24293034cd"><div class="ttname"><a href="inet_8hh.html#ae32b25ff633168fbdecd8d24293034cd">addr</a></div><div class="ttdeci">ip6_addr_t addr</div><div class="ttdef"><b>Definition:</b> <a href="inet_8hh_source.html#l00335">inet.hh:335</a></div></div>
<div class="ttc" id="classPacket_html_a0114aa0ba90995a74bebd29a7aab70aa"><div class="ttname"><a href="classPacket.html#a0114aa0ba90995a74bebd29a7aab70aa">Packet::createWrite</a></div><div class="ttdeci">static PacketPtr createWrite(const RequestPtr &amp;req)</div><div class="ttdef"><b>Definition:</b> <a href="packet_8hh_source.html#l00919">packet.hh:919</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource_html_ac78c10c06f1f8acc12d52e95fd8da1e7"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#ac78c10c06f1f8acc12d52e95fd8da1e7">TraceCPU::ElasticDataGen::HardwareResource::inFlightNodes</a></div><div class="ttdeci">std::map&lt; NodeSeqNum, NodeRobNum &gt; inFlightNodes</div><div class="ttdoc">A map from the sequence number to the ROB number of the in- flight nodes. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00778">trace_cpu.hh:778</a></div></div>
<div class="ttc" id="classTraceCPU_html_afdd4e871934e84c328c3d01cafe40455"><div class="ttname"><a href="classTraceCPU.html#afdd4e871934e84c328c3d01cafe40455">TraceCPU::init</a></div><div class="ttdeci">void init()</div><div class="ttdoc">init() is called after all C++ SimObjects have been created and all ports are connected. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00114">trace_cpu.cc:114</a></div></div>
<div class="ttc" id="classTraceCPU_html_a093ad5ed1dc01729cfaee13e2ccad7d7"><div class="ttname"><a href="classTraceCPU.html#a093ad5ed1dc01729cfaee13e2ccad7d7">TraceCPU::traceOffset</a></div><div class="ttdeci">Tick traceOffset</div><div class="ttdoc">This stores the time offset in the trace, which is taken away from the ready times of requests...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01102">trace_cpu.hh:1102</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_a844134292f3b1023c9227bc73446f0ee"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#a844134292f3b1023c9227bc73446f0ee">TraceCPU::ElasticDataGen::isExecComplete</a></div><div class="ttdeci">bool isExecComplete() const</div><div class="ttdoc">Returns the execComplete variable which is set when the last node is executed. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00969">trace_cpu.hh:969</a></div></div>
<div class="ttc" id="classTraceCPU_html_a2d1ed5f8a0e483dffe74751cd1d64c43"><div class="ttname"><a href="classTraceCPU.html#a2d1ed5f8a0e483dffe74751cd1d64c43">TraceCPU::getInstPort</a></div><div class="ttdeci">Port &amp; getInstPort()</div><div class="ttdoc">Used to get a reference to the icache port. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01149">trace_cpu.hh:1149</a></div></div>
<div class="ttc" id="classTraceCPU_html_afbd709dba074ffc7658bd18b0318cfa9"><div class="ttname"><a href="classTraceCPU.html#afbd709dba074ffc7658bd18b0318cfa9">TraceCPU::instTraceFile</a></div><div class="ttdeci">std::string instTraceFile</div><div class="ttdoc">File names for input instruction and data traces. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00335">trace_cpu.hh:335</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_a5028d0f8181369035d34ff5e0994101d"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#a5028d0f8181369035d34ff5e0994101d">TraceCPU::ElasticDataGen::exit</a></div><div class="ttdeci">void exit()</div><div class="ttdoc">Exit the ElasticDataGen. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00342">trace_cpu.cc:342</a></div></div>
<div class="ttc" id="classTraceCPU_html_a4199574d48c25747213258197c5491b7"><div class="ttname"><a href="classTraceCPU.html#a4199574d48c25747213258197c5491b7">TraceCPU::regStats</a></div><div class="ttdeci">void regStats()</div><div class="ttdoc">Callback to set stat parameters. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00217">trace_cpu.cc:217</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_ad1579bb6652920b920793a5a54dad130"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#ad1579bb6652920b920793a5a54dad130">TraceCPU::ElasticDataGen::GraphNode::asid</a></div><div class="ttdeci">uint32_t asid</div><div class="ttdoc">The address space id which is set if the virtual address is set. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00610">trace_cpu.hh:610</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_a47dc12e12e37348a7eeccce4fd9a0f31"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a47dc12e12e37348a7eeccce4fd9a0f31">TraceCPU::ElasticDataGen::GraphNode::maxRobDep</a></div><div class="ttdeci">static const uint8_t maxRobDep</div><div class="ttdoc">The maximum no. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00586">trace_cpu.hh:586</a></div></div>
<div class="ttc" id="classTraceCPU_1_1IcachePort_html_ac2d1a35de6e3149f74ffe73b7d67cdca"><div class="ttname"><a href="classTraceCPU_1_1IcachePort.html#ac2d1a35de6e3149f74ffe73b7d67cdca">TraceCPU::IcachePort::recvTimingResp</a></div><div class="ttdeci">bool recvTimingResp(PacketPtr pkt)</div><div class="ttdoc">Receive the timing reponse and simply delete the packet since instruction fetch requests are issued a...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01217">trace_cpu.cc:1217</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource_html_ae27080a61241abfbee0a6fa77bdf5084"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#ae27080a61241abfbee0a6fa77bdf5084">TraceCPU::ElasticDataGen::HardwareResource::sizeROB</a></div><div class="ttdeci">const uint16_t sizeROB</div><div class="ttdoc">The size of the ROB used to throttle the max. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00754">trace_cpu.hh:754</a></div></div>
<div class="ttc" id="classTraceCPU_html_aac2175e3930f2a0385bb715581f55b83"><div class="ttname"><a href="classTraceCPU.html#aac2175e3930f2a0385bb715581f55b83">TraceCPU::checkAndSchedExitEvent</a></div><div class="ttdeci">void checkAndSchedExitEvent()</div><div class="ttdoc">This is called when either generator finishes executing from the trace. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00196">trace_cpu.cc:196</a></div></div>
<div class="ttc" id="classProtoInputStream_html_a6b14484a1eb802dc217651e80c605989"><div class="ttname"><a href="classProtoInputStream.html#a6b14484a1eb802dc217651e80c605989">ProtoInputStream::read</a></div><div class="ttdeci">bool read(google::protobuf::Message &amp;msg)</div><div class="ttdoc">Read a message from the stream. </div><div class="ttdef"><b>Definition:</b> <a href="protoio_8cc_source.html#l00177">protoio.cc:177</a></div></div>
<div class="ttc" id="classTraceCPU_html_a69fc9f9852d78393169cfe7ba1c451a0"><div class="ttname"><a href="classTraceCPU.html#a69fc9f9852d78393169cfe7ba1c451a0">TraceCPU::oneTraceComplete</a></div><div class="ttdeci">bool oneTraceComplete</div><div class="ttdoc">Set to true when one of the generators finishes replaying its trace. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01094">trace_cpu.hh:1094</a></div></div>
<div class="ttc" id="classTraceCPU_html_ae4a021fc778a17f520d6df2a440b3f30"><div class="ttname"><a href="classTraceCPU.html#ae4a021fc778a17f520d6df2a440b3f30">TraceCPU::schedIcacheNext</a></div><div class="ttdeci">void schedIcacheNext()</div><div class="ttdoc">This is the control flow that uses the functionality of the icacheGen to replay the trace...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00157">trace_cpu.cc:157</a></div></div>
<div class="ttc" id="classTraceCPU_html_ad62e23894f52233543d0ca2563c3fba9"><div class="ttname"><a href="classTraceCPU.html#ad62e23894f52233543d0ca2563c3fba9">TraceCPU::numSchedDcacheEvent</a></div><div class="ttdeci">Stats::Scalar numSchedDcacheEvent</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01138">trace_cpu.hh:1138</a></div></div>
<div class="ttc" id="structTraceCPU_1_1FixedRetryGen_1_1TraceElement_html_a93f6bc115ef68cd7bacf923fb74a271c"><div class="ttname"><a href="structTraceCPU_1_1FixedRetryGen_1_1TraceElement.html#a93f6bc115ef68cd7bacf923fb74a271c">TraceCPU::FixedRetryGen::TraceElement::cmd</a></div><div class="ttdeci">MemCmd cmd</div><div class="ttdoc">Specifies if the request is to be a read or a write. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00354">trace_cpu.hh:354</a></div></div>
<div class="ttc" id="namespaceArmISA_html_a19e4a68ca5c93c6136351d804b432b09"><div class="ttname"><a href="namespaceArmISA.html#a19e4a68ca5c93c6136351d804b432b09">ArmISA::offset</a></div><div class="ttdeci">Bitfield&lt; 23, 0 &gt; offset</div><div class="ttdef"><b>Definition:</b> <a href="arch_2arm_2types_8hh_source.html#l00154">types.hh:154</a></div></div>
<div class="ttc" id="classTraceCPU_1_1FixedRetryGen_html_ab5923214b77565d8643741f9f7c01d3d"><div class="ttname"><a href="classTraceCPU_1_1FixedRetryGen.html#ab5923214b77565d8643741f9f7c01d3d">TraceCPU::FixedRetryGen::regStats</a></div><div class="ttdeci">void regStats()</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01017">trace_cpu.cc:1017</a></div></div>
<div class="ttc" id="classMasterPort_html_acba350c337376f074a37507d6018bec3"><div class="ttname"><a href="classMasterPort.html#acba350c337376f074a37507d6018bec3">MasterPort::sendTimingReq</a></div><div class="ttdeci">bool sendTimingReq(PacketPtr pkt)</div><div class="ttdoc">Attempt to send a timing request to the slave port by calling its corresponding receive function...</div><div class="ttdef"><b>Definition:</b> <a href="mem_2port_8hh_source.html#l00445">port.hh:445</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_a23323ea722f3716083c07e78ca03ce33"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a23323ea722f3716083c07e78ca03ce33">TraceCPU::ElasticDataGen::GraphNode::clearRobDep</a></div><div class="ttdeci">void clearRobDep()</div><div class="ttdoc">Initialize register dependency array to all zeroes. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01412">trace_cpu.cc:1412</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_abad96b1108e44c45712a1bd58439be03"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#abad96b1108e44c45712a1bd58439be03">TraceCPU::ElasticDataGen::NodeSeqNum</a></div><div class="ttdeci">uint64_t NodeSeqNum</div><div class="ttdoc">Node sequence number type. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00564">trace_cpu.hh:564</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_aa1fa778d9bab8afe92b7fb4a97a03135"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#aa1fa778d9bab8afe92b7fb4a97a03135">TraceCPU::ElasticDataGen::readNextWindow</a></div><div class="ttdeci">bool readNextWindow()</div><div class="ttdoc">Reads a line of the trace file. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00348">trace_cpu.cc:348</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1InputStream_html_acbdbe4327b227df0bf391304a9944c39"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#acbdbe4327b227df0bf391304a9944c39">TraceCPU::ElasticDataGen::InputStream::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Reset the stream such that it can be played once again. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01282">trace_cpu.cc:1282</a></div></div>
<div class="ttc" id="namespaceArmISA_html_abdd8d87f45e3e642b35d255fbb142607"><div class="ttname"><a href="namespaceArmISA.html#abdd8d87f45e3e642b35d255fbb142607">ArmISA::MaxInstSrcRegs</a></div><div class="ttdeci">const int MaxInstSrcRegs</div><div class="ttdef"><b>Definition:</b> <a href="arm_2registers_8hh_source.html#l00059">registers.hh:59</a></div></div>
<div class="ttc" id="classClocked_html_aa7fa265550d8232e766522699ca8fa38"><div class="ttname"><a href="classClocked.html#aa7fa265550d8232e766522699ca8fa38">Clocked::clockPeriod</a></div><div class="ttdeci">Tick clockPeriod() const</div><div class="ttdef"><b>Definition:</b> <a href="clocked__object_8hh_source.html#l00220">clocked_object.hh:220</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_a4c5a498d593c185f86e0976d2e29bec4"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a4c5a498d593c185f86e0976d2e29bec4">TraceCPU::ElasticDataGen::GraphNode::numRegDep</a></div><div class="ttdeci">uint8_t numRegDep</div><div class="ttdoc">Number of register dependencies. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00637">trace_cpu.hh:637</a></div></div>
<div class="ttc" id="classPacket_html_aec89f98657b94e77f4f7a3087dfe690c"><div class="ttname"><a href="classPacket.html#aec89f98657b94e77f4f7a3087dfe690c">Packet::isWrite</a></div><div class="ttdeci">bool isWrite() const</div><div class="ttdef"><b>Definition:</b> <a href="packet_8hh_source.html#l00529">packet.hh:529</a></div></div>
<div class="ttc" id="namespaceSimClock_html_a3e914c4cb1e00a7287962713e374d17a"><div class="ttname"><a href="namespaceSimClock.html#a3e914c4cb1e00a7287962713e374d17a">SimClock::Frequency</a></div><div class="ttdeci">Tick Frequency</div><div class="ttdoc">The simulated frequency of curTick(). (In ticks per second) </div><div class="ttdef"><b>Definition:</b> <a href="sim_2core_8cc_source.html#l00049">core.cc:49</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_a009b2c3674fb453fcec103dd6ef35997"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#a009b2c3674fb453fcec103dd6ef35997">TraceCPU::ElasticDataGen::addDepsOnParent</a></div><div class="ttdeci">void addDepsOnParent(GraphNode *new_node, T &amp;dep_array, uint8_t &amp;num_dep)</div><div class="ttdoc">Iterate over the dependencies of a new node and add the new node to the list of dependents of the par...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00401">trace_cpu.cc:401</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_aa7441bee82d8f6813c7edf0a5211b8aa"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#aa7441bee82d8f6813c7edf0a5211b8aa">TraceCPU::ElasticDataGen::numSendSucceeded</a></div><div class="ttdeci">Stats::Scalar numSendSucceeded</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01053">trace_cpu.hh:1053</a></div></div>
<div class="ttc" id="classTraceCPU_1_1FixedRetryGen_1_1InputStream_html_ac3622dc35a6b812985f5b66a353decaf"><div class="ttname"><a href="classTraceCPU_1_1FixedRetryGen_1_1InputStream.html#ac3622dc35a6b812985f5b66a353decaf">TraceCPU::FixedRetryGen::InputStream::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Reset the stream such that it can be played once again. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01489">trace_cpu.cc:1489</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_a85d202ac5220c856f7ed1336c2cd3777"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#a85d202ac5220c856f7ed1336c2cd3777">TraceCPU::ElasticDataGen::traceComplete</a></div><div class="ttdeci">bool traceComplete</div><div class="ttdoc">Set to true when end of trace is reached. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01009">trace_cpu.hh:1009</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_a26aee1aa701bf9a9ce44e5a2be4e8824"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#a26aee1aa701bf9a9ce44e5a2be4e8824">TraceCPU::ElasticDataGen::init</a></div><div class="ttdeci">Tick init()</div><div class="ttdoc">Called from TraceCPU init(). </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00305">trace_cpu.cc:305</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_a6279e2311cb0f61f75f7ed91f6489fc2"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a6279e2311cb0f61f75f7ed91f6489fc2">TraceCPU::ElasticDataGen::GraphNode::clearRegDep</a></div><div class="ttdeci">void clearRegDep()</div><div class="ttdoc">Initialize register dependency array to all zeroes. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01404">trace_cpu.cc:1404</a></div></div>
<div class="ttc" id="classTraceCPU_1_1FixedRetryGen_1_1InputStream_html_a6b7be165831396972574ae2882f2b02c"><div class="ttname"><a href="classTraceCPU_1_1FixedRetryGen_1_1InputStream.html#a6b7be165831396972574ae2882f2b02c">TraceCPU::FixedRetryGen::InputStream::trace</a></div><div class="ttdeci">ProtoInputStream trace</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00399">trace_cpu.hh:399</a></div></div>
<div class="ttc" id="classPacket_html_ae348c208f0ffb3cf22f1f65a19c13c4f"><div class="ttname"><a href="classPacket.html#ae348c208f0ffb3cf22f1f65a19c13c4f">Packet::req</a></div><div class="ttdeci">RequestPtr req</div><div class="ttdoc">A pointer to the original request. </div><div class="ttdef"><b>Definition:</b> <a href="packet_8hh_source.html#l00327">packet.hh:327</a></div></div>
<div class="ttc" id="classBaseCPU_html_aa2f420943abde80ac3f6d3071ee043bb"><div class="ttname"><a href="classBaseCPU.html#aa2f420943abde80ac3f6d3071ee043bb">BaseCPU::regStats</a></div><div class="ttdeci">void regStats() override</div><div class="ttdoc">Callback to set stat parameters. </div><div class="ttdef"><b>Definition:</b> <a href="cpu_2base_8cc_source.html#l00388">base.cc:388</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1InputStream_html_af6723e74bad4026d1329f52b84a12e37"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#af6723e74bad4026d1329f52b84a12e37">TraceCPU::ElasticDataGen::InputStream::trace</a></div><div class="ttdeci">ProtoInputStream trace</div><div class="ttdoc">Input file stream for the protobuf trace. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00801">trace_cpu.hh:801</a></div></div>
<div class="ttc" id="classTraceCPU_html_a57055c43d8544bbc8f32aedde2e49a59"><div class="ttname"><a href="classTraceCPU.html#a57055c43d8544bbc8f32aedde2e49a59">TraceCPU::execCompleteEvent</a></div><div class="ttdeci">CountedExitEvent * execCompleteEvent</div><div class="ttdoc">A CountedExitEvent which when serviced decrements the counter. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01117">trace_cpu.hh:1117</a></div></div>
<div class="ttc" id="inet_8hh_html_a1d127017fb298b889f4ba24752d08b8e"><div class="ttname"><a href="inet_8hh.html#a1d127017fb298b889f4ba24752d08b8e">type</a></div><div class="ttdeci">uint8_t type</div><div class="ttdef"><b>Definition:</b> <a href="inet_8hh_source.html#l00333">inet.hh:333</a></div></div>
<div class="ttc" id="logging_8hh_html_ae7d790080fa18103d7582effff570b9e"><div class="ttname"><a href="logging_8hh.html#ae7d790080fa18103d7582effff570b9e">inform</a></div><div class="ttdeci">#define inform(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8hh_source.html#l00213">logging.hh:213</a></div></div>
<div class="ttc" id="base_2types_8hh_html_abe940b1b328825e234da719447e15ca5"><div class="ttname"><a href="base_2types_8hh.html#abe940b1b328825e234da719447e15ca5">MaxTick</a></div><div class="ttdeci">const Tick MaxTick</div><div class="ttdef"><b>Definition:</b> <a href="base_2types_8hh_source.html#l00065">types.hh:65</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1InputStream_html_ad32367ecc1c68bfd52d4580c1662b2cf"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#ad32367ecc1c68bfd52d4580c1662b2cf">TraceCPU::ElasticDataGen::InputStream::timeMultiplier</a></div><div class="ttdeci">const double timeMultiplier</div><div class="ttdoc">A multiplier for the compute delays in the trace to modulate the Trace CPU frequency either up or dow...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00809">trace_cpu.hh:809</a></div></div>
<div class="ttc" id="statistics_8hh_html_a7acdccbf0d35ce0c159c0cdd36371b22"><div class="ttname"><a href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22">curTick</a></div><div class="ttdeci">Tick curTick()</div><div class="ttdoc">The current simulated tick. </div><div class="ttdef"><b>Definition:</b> <a href="sim_2core_8hh_source.html#l00047">core.hh:47</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource_html_aa50aa814630bf279c2523caf9ae1d209"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#aa50aa814630bf279c2523caf9ae1d209">TraceCPU::ElasticDataGen::HardwareResource::awaitingResponse</a></div><div class="ttdeci">bool awaitingResponse() const</div><div class="ttdoc">Check if there are any outstanding requests, i.e. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01002">trace_cpu.cc:1002</a></div></div>
<div class="ttc" id="namespaceMipsISA_html_a4f7ed975e7137b5c369214789649451f"><div class="ttname"><a href="namespaceMipsISA.html#a4f7ed975e7137b5c369214789649451f">MipsISA::pc</a></div><div class="ttdeci">Bitfield&lt; 4 &gt; pc</div><div class="ttdef"><b>Definition:</b> <a href="mips_2pra__constants_8hh_source.html#l00242">pra_constants.hh:242</a></div></div>
<div class="ttc" id="classBaseCPU_html_ab06a1e3904dc838072e5e2b1bec6d630"><div class="ttname"><a href="classBaseCPU.html#ab06a1e3904dc838072e5e2b1bec6d630">BaseCPU::getInstPort</a></div><div class="ttdeci">virtual Port &amp; getInstPort()=0</div><div class="ttdoc">Purely virtual method that returns a reference to the instruction port. </div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_a923688d908186957dd41d2633cddabc7"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a923688d908186957dd41d2633cddabc7">TraceCPU::ElasticDataGen::GraphNode::isStrictlyOrdered</a></div><div class="ttdeci">bool isStrictlyOrdered() const</div><div class="ttdoc">Return true if node has a request which is strictly ordered. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00671">trace_cpu.hh:671</a></div></div>
<div class="ttc" id="base_2trace_8hh_html_af76c9f7776aade1bf9d7dfa8a0c6b341"><div class="ttname"><a href="base_2trace_8hh.html#af76c9f7776aade1bf9d7dfa8a0c6b341">DTRACE</a></div><div class="ttdeci">#define DTRACE(x)</div><div class="ttdef"><b>Definition:</b> <a href="base_2trace_8hh_source.html#l00213">trace.hh:213</a></div></div>
<div class="ttc" id="classEvent_html_a354f9f5eecdc5667d8112fa1307bcc82"><div class="ttname"><a href="classEvent.html#a354f9f5eecdc5667d8112fa1307bcc82">Event::scheduled</a></div><div class="ttdeci">bool scheduled() const</div><div class="ttdoc">Determine if the current event is scheduled. </div><div class="ttdef"><b>Definition:</b> <a href="eventq_8hh_source.html#l00385">eventq.hh:385</a></div></div>
<div class="ttc" id="classTraceCPU_html"><div class="ttname"><a href="classTraceCPU.html">TraceCPU</a></div><div class="ttdoc">The trace cpu replays traces generated using the elastic trace probe attached to the O3 CPU model...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00144">trace_cpu.hh:144</a></div></div>
<div class="ttc" id="classTraceCPU_html_a4c236017e06708bb37f406dbea78729f"><div class="ttname"><a href="classTraceCPU.html#a4c236017e06708bb37f406dbea78729f">TraceCPU::progressMsgThreshold</a></div><div class="ttdeci">uint64_t progressMsgThreshold</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01136">trace_cpu.hh:1136</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_afd47f5a239f82634bb93ce2d9b09896e"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#afd47f5a239f82634bb93ce2d9b09896e">TraceCPU::ElasticDataGen::GraphNode::robNum</a></div><div class="ttdeci">NodeRobNum robNum</div><div class="ttdoc">ROB occupancy number. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00598">trace_cpu.hh:598</a></div></div>
<div class="ttc" id="classTraceCPU_html_a51b589b4ef1c74eae5b0ec7f6af4be98"><div class="ttname"><a href="classTraceCPU.html#a51b589b4ef1c74eae5b0ec7f6af4be98">TraceCPU::TraceCPU</a></div><div class="ttdeci">TraceCPU(TraceCPUParams *params)</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00049">trace_cpu.cc:49</a></div></div>
<div class="ttc" id="classCountedExitEvent_html"><div class="ttname"><a href="classCountedExitEvent.html">CountedExitEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="sim__events_8hh_source.html#l00103">sim_events.hh:103</a></div></div>
<div class="ttc" id="base_2types_8hh_html_a5c8ed81b7d238c9083e1037ba6d61643"><div class="ttname"><a href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a></div><div class="ttdeci">uint64_t Tick</div><div class="ttdoc">Tick count type. </div><div class="ttdef"><b>Definition:</b> <a href="base_2types_8hh_source.html#l00063">types.hh:63</a></div></div>
<div class="ttc" id="classTraceCPU_html_a8cf16116d8dc1abf33d9e5a78edd4499"><div class="ttname"><a href="classTraceCPU.html#a8cf16116d8dc1abf33d9e5a78edd4499">TraceCPU::enableEarlyExit</a></div><div class="ttdeci">const bool enableEarlyExit</div><div class="ttdoc">Exit when any one Trace CPU completes its execution. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01123">trace_cpu.hh:1123</a></div></div>
<div class="ttc" id="classTraceCPU_html_a1422281f66ddb6c1cf5d33d1707bdd72"><div class="ttname"><a href="classTraceCPU.html#a1422281f66ddb6c1cf5d33d1707bdd72">TraceCPU::icacheNextEvent</a></div><div class="ttdeci">EventFunctionWrapper icacheNextEvent</div><div class="ttdoc">Event for the control flow method schedIcacheNext() </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01085">trace_cpu.hh:1085</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html">TraceCPU::ElasticDataGen::GraphNode</a></div><div class="ttdoc">The struct GraphNode stores an instruction in the trace file. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00578">trace_cpu.hh:578</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_a1c55fbcb2bab2dd59c4face44ca3a051"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1c55fbcb2bab2dd59c4face44ca3a051">TraceCPU::ElasticDataGen::GraphNode::pc</a></div><div class="ttdeci">Addr pc</div><div class="ttdoc">Instruction PC. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00619">trace_cpu.hh:619</a></div></div>
<div class="ttc" id="structTraceCPU_1_1FixedRetryGen_1_1TraceElement_html"><div class="ttname"><a href="structTraceCPU_1_1FixedRetryGen_1_1TraceElement.html">TraceCPU::FixedRetryGen::TraceElement</a></div><div class="ttdoc">This struct stores a line in the trace file. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00351">trace_cpu.hh:351</a></div></div>
<div class="ttc" id="classTraceCPU_html_aaaa47226934b984e2449791f9c73e247"><div class="ttname"><a href="classTraceCPU.html#aaaa47226934b984e2449791f9c73e247">TraceCPU::dcacheRetryRecvd</a></div><div class="ttdeci">void dcacheRetryRecvd()</div><div class="ttdoc">When data cache port receives a retry, schedule event dcacheNextEvent. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01191">trace_cpu.cc:1191</a></div></div>
<div class="ttc" id="classProtoInputStream_html_a792041da7e6b9cfc33cf388fe2ed04a1"><div class="ttname"><a href="classProtoInputStream.html#a792041da7e6b9cfc33cf388fe2ed04a1">ProtoInputStream::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Reset the input stream and seek to the beginning of the file. </div><div class="ttdef"><b>Definition:</b> <a href="protoio_8cc_source.html#l00167">protoio.cc:167</a></div></div>
<div class="ttc" id="classTraceCPU_html_a7c22b93ca3125bea00cee39c80b3c8d2"><div class="ttname"><a href="classTraceCPU.html#a7c22b93ca3125bea00cee39c80b3c8d2">TraceCPU::icacheGen</a></div><div class="ttdeci">FixedRetryGen icacheGen</div><div class="ttdoc">Instance of FixedRetryGen to replay instruction read requests. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01064">trace_cpu.hh:1064</a></div></div>
<div class="ttc" id="logging_8hh_html_a2127c4f5f05a25aea5ffc00677fc3ffe"><div class="ttname"><a href="logging_8hh.html#a2127c4f5f05a25aea5ffc00677fc3ffe">fatal_if</a></div><div class="ttdeci">#define fatal_if(cond,...)</div><div class="ttdoc">Conditional fatal macro that checks the supplied condition and only causes a fatal error if the condi...</div><div class="ttdef"><b>Definition:</b> <a href="logging_8hh_source.html#l00203">logging.hh:203</a></div></div>
<div class="ttc" id="classTraceCPU_1_1IcachePort_html_ae527df1686215e3995d7a43c13b35abb"><div class="ttname"><a href="classTraceCPU_1_1IcachePort.html#ae527df1686215e3995d7a43c13b35abb">TraceCPU::IcachePort::recvReqRetry</a></div><div class="ttdeci">void recvReqRetry()</div><div class="ttdoc">Handle a retry signalled by the cache if instruction read failed in the first attempt. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01227">trace_cpu.cc:1227</a></div></div>
<div class="ttc" id="sim__exit_8hh_html"><div class="ttname"><a href="sim__exit_8hh.html">sim_exit.hh</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource_html_a7f63bd00955465dcf171f6dcdd6608ce"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a7f63bd00955465dcf171f6dcdd6608ce">TraceCPU::ElasticDataGen::HardwareResource::isAvailable</a></div><div class="ttdeci">bool isAvailable(const GraphNode *new_node) const</div><div class="ttdoc">Check if structures required to issue a node are free. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00958">trace_cpu.cc:958</a></div></div>
<div class="ttc" id="base_2types_8hh_html_af1bb03d6a4ee096394a6749f0a169232"><div class="ttname"><a href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a></div><div class="ttdeci">uint64_t Addr</div><div class="ttdoc">Address type This will probably be moved somewhere else in the near future. </div><div class="ttdef"><b>Definition:</b> <a href="base_2types_8hh_source.html#l00142">types.hh:142</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource_html_a5dc9f8d6958ad06fa5087fb632e735e2"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a5dc9f8d6958ad06fa5087fb632e735e2">TraceCPU::ElasticDataGen::HardwareResource::release</a></div><div class="ttdeci">void release(const GraphNode *done_node)</div><div class="ttdoc">Release appropriate structures for a completed node. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00910">trace_cpu.cc:910</a></div></div>
<div class="ttc" id="classStats_1_1DataWrap_html_afe64a5e12da34c6c351a4de7b9c67000"><div class="ttname"><a href="classStats_1_1DataWrap.html#afe64a5e12da34c6c351a4de7b9c67000">Stats::DataWrap::precision</a></div><div class="ttdeci">Derived &amp; precision(int _precision)</div><div class="ttdoc">Set the precision and marks this stat to print at the end of simulation. </div><div class="ttdef"><b>Definition:</b> <a href="statistics_8hh_source.html#l00324">statistics.hh:324</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource_html_a5835a2934c42408ff6e23f8c88539362"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a5835a2934c42408ff6e23f8c88539362">TraceCPU::ElasticDataGen::HardwareResource::numInFlightLoads</a></div><div class="ttdeci">uint16_t numInFlightLoads</div><div class="ttdoc">Number of ready loads for which request may or may not be sent. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00784">trace_cpu.hh:784</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_a0feda1917a7916aa080ea1990696ea1b"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a0feda1917a7916aa080ea1990696ea1b">TraceCPU::ElasticDataGen::GraphNode::compDelay</a></div><div class="ttdeci">uint64_t compDelay</div><div class="ttdoc">Computational delay. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00628">trace_cpu.hh:628</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_ab4f9ad1085da0ed6ef6faa4025a444f6"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#ab4f9ad1085da0ed6ef6faa4025a444f6">TraceCPU::ElasticDataGen::port</a></div><div class="ttdeci">MasterPort &amp; port</div><div class="ttdoc">Reference of the port to be used to issue memory requests. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00994">trace_cpu.hh:994</a></div></div>
<div class="ttc" id="classSimObject_html_ac6bf42a0c7d51f21477fc064f75178c1"><div class="ttname"><a href="classSimObject.html#ac6bf42a0c7d51f21477fc064f75178c1">SimObject::name</a></div><div class="ttdeci">virtual const std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="sim__object_8hh_source.html#l00120">sim_object.hh:120</a></div></div>
<div class="ttc" id="classPacket_html_a3cdfada965fdf5c5524b7bf418a43358"><div class="ttname"><a href="classPacket.html#a3cdfada965fdf5c5524b7bf418a43358">Packet::createRead</a></div><div class="ttdeci">static PacketPtr createRead(const RequestPtr &amp;req)</div><div class="ttdoc">Constructor-like methods that return Packets based on Request objects. </div><div class="ttdef"><b>Definition:</b> <a href="packet_8hh_source.html#l00913">packet.hh:913</a></div></div>
<div class="ttc" id="classTraceCPU_html_a5a94955e05577d8864caceaea393bcca"><div class="ttname"><a href="classTraceCPU.html#a5a94955e05577d8864caceaea393bcca">TraceCPU::numTraceCPUs</a></div><div class="ttdeci">static int numTraceCPUs</div><div class="ttdoc">Number of Trace CPUs in the system used as a shared variable and passed to the CountedExitEvent event...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01110">trace_cpu.hh:1110</a></div></div>
<div class="ttc" id="classTraceCPU_html_a194b6900fe9565b0796d1ecdd6c81f59"><div class="ttname"><a href="classTraceCPU.html#a194b6900fe9565b0796d1ecdd6c81f59">TraceCPU::cpi</a></div><div class="ttdeci">Stats::Formula cpi</div><div class="ttdoc">Stat for the CPI. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01144">trace_cpu.hh:1144</a></div></div>
<div class="ttc" id="classTraceCPU_html_a70bdfd3d2503608e853e673885ed21ab"><div class="ttname"><a href="classTraceCPU.html#a70bdfd3d2503608e853e673885ed21ab">TraceCPU::dcacheRecvTimingResp</a></div><div class="ttdeci">void dcacheRecvTimingResp(PacketPtr pkt)</div><div class="ttdoc">When data cache port receives a response, this calls the dcache generator method handle to complete t...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01233">trace_cpu.cc:1233</a></div></div>
<div class="ttc" id="classPacket_html"><div class="ttname"><a href="classPacket.html">Packet</a></div><div class="ttdoc">A Packet is used to encapsulate a transfer between two objects in the memory system (e...</div><div class="ttdef"><b>Definition:</b> <a href="packet_8hh_source.html#l00255">packet.hh:255</a></div></div>
<div class="ttc" id="classClocked_html_a082ec89d11f90b11b91ba7876040e41e"><div class="ttname"><a href="classClocked.html#a082ec89d11f90b11b91ba7876040e41e">Clocked::clockEdge</a></div><div class="ttdeci">Tick clockEdge(Cycles cycles=Cycles(0)) const</div><div class="ttdoc">Determine the tick when a cycle begins, by default the current one, but the argument also enables the...</div><div class="ttdef"><b>Definition:</b> <a href="clocked__object_8hh_source.html#l00180">clocked_object.hh:180</a></div></div>
<div class="ttc" id="structTraceCPU_1_1ElasticDataGen_1_1ReadyNode_html_a633b6a5549145db9462268fcb21d4e56"><div class="ttname"><a href="structTraceCPU_1_1ElasticDataGen_1_1ReadyNode.html#a633b6a5549145db9462268fcb21d4e56">TraceCPU::ElasticDataGen::ReadyNode::execTick</a></div><div class="ttdeci">Tick execTick</div><div class="ttdoc">The tick at which the ready node must be executed. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00691">trace_cpu.hh:691</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource_html_a78c711708ead2b5ca5fdfe9edfb58b88"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a78c711708ead2b5ca5fdfe9edfb58b88">TraceCPU::ElasticDataGen::HardwareResource::oldestInFlightRobNum</a></div><div class="ttdeci">NodeRobNum oldestInFlightRobNum</div><div class="ttdoc">The ROB number of the oldest in-flight node. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00781">trace_cpu.hh:781</a></div></div>
<div class="ttc" id="namespaceX86ISA_html_a313686d10ce407058a35bddec45c211f"><div class="ttname"><a href="namespaceX86ISA.html#a313686d10ce407058a35bddec45c211f">X86ISA::system</a></div><div class="ttdeci">Bitfield&lt; 15 &gt; system</div><div class="ttdef"><b>Definition:</b> <a href="arch_2x86_2regs_2misc_8hh_source.html#l00999">misc.hh:999</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource_html_a37524bfea829bf69c41893affdf6381a"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a37524bfea829bf69c41893affdf6381a">TraceCPU::ElasticDataGen::HardwareResource::sizeLoadBuffer</a></div><div class="ttdeci">const uint16_t sizeLoadBuffer</div><div class="ttdoc">The size of load buffer. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00766">trace_cpu.hh:766</a></div></div>
<div class="ttc" id="namespaceArmISA_html_ac843bf7761bca8cf5315375942a0c25b"><div class="ttname"><a href="namespaceArmISA.html#ac843bf7761bca8cf5315375942a0c25b">ArmISA::j</a></div><div class="ttdeci">Bitfield&lt; 24 &gt; j</div><div class="ttdef"><b>Definition:</b> <a href="miscregs__types_8hh_source.html#l00057">miscregs_types.hh:57</a></div></div>
<div class="ttc" id="structTraceCPU_1_1FixedRetryGen_1_1TraceElement_html_a5b40df6f9fa9065c2b4cd2aee4a2873b"><div class="ttname"><a href="structTraceCPU_1_1FixedRetryGen_1_1TraceElement.html#a5b40df6f9fa9065c2b4cd2aee4a2873b">TraceCPU::FixedRetryGen::TraceElement::pc</a></div><div class="ttdeci">Addr pc</div><div class="ttdoc">Instruction PC. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00369">trace_cpu.hh:369</a></div></div>
<div class="ttc" id="classStats_1_1DataWrap_html_a8f6effeadf113613c8e96c732bef7228"><div class="ttname"><a href="classStats_1_1DataWrap.html#a8f6effeadf113613c8e96c732bef7228">Stats::DataWrap::name</a></div><div class="ttdeci">Derived &amp; name(const std::string &amp;name)</div><div class="ttdoc">Set the name and marks this stat to print at the end of simulation. </div><div class="ttdef"><b>Definition:</b> <a href="statistics_8hh_source.html#l00279">statistics.hh:279</a></div></div>
<div class="ttc" id="classTraceCPU_html_a92b55c66bec72165d0bc5d36d36e3399"><div class="ttname"><a href="classTraceCPU.html#a92b55c66bec72165d0bc5d36d36e3399">TraceCPU::numOps</a></div><div class="ttdeci">Stats::Scalar numOps</div><div class="ttdoc">Stat for number of simulated micro-ops. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01142">trace_cpu.hh:1142</a></div></div>
<div class="ttc" id="classEventManager_html_a766c5f955dfa1609696955f075492687"><div class="ttname"><a href="classEventManager.html#a766c5f955dfa1609696955f075492687">EventManager::reschedule</a></div><div class="ttdeci">void reschedule(Event &amp;event, Tick when, bool always=false)</div><div class="ttdef"><b>Definition:</b> <a href="eventq_8hh_source.html#l00756">eventq.hh:756</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_ac26d1bdf26e6bf32f97827b531c8021b"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#ac26d1bdf26e6bf32f97827b531c8021b">TraceCPU::ElasticDataGen::checkAndIssue</a></div><div class="ttdeci">bool checkAndIssue(const GraphNode *node_ptr, bool first=true)</div><div class="ttdoc">Attempts to issue a node once the node&amp;#39;s source dependencies are complete. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00699">trace_cpu.cc:699</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_a659dd5557538b941085b8aa05d0485d7"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#a659dd5557538b941085b8aa05d0485d7">TraceCPU::ElasticDataGen::masterID</a></div><div class="ttdeci">const MasterID masterID</div><div class="ttdoc">MasterID used for the requests being sent. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00997">trace_cpu.hh:997</a></div></div>
<div class="ttc" id="structTraceCPU_1_1FixedRetryGen_1_1TraceElement_html_a19d6692252edaac11f797936d8e7efb6"><div class="ttname"><a href="structTraceCPU_1_1FixedRetryGen_1_1TraceElement.html#a19d6692252edaac11f797936d8e7efb6">TraceCPU::FixedRetryGen::TraceElement::tick</a></div><div class="ttdeci">Tick tick</div><div class="ttdoc">The time at which the request should be sent. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00363">trace_cpu.hh:363</a></div></div>
<div class="ttc" id="sim__events_8cc_html_abca976500ad365c77607ab77d87698a7"><div class="ttname"><a href="sim__events_8cc.html#abca976500ad365c77607ab77d87698a7">exitSimLoop</a></div><div class="ttdeci">void exitSimLoop(const std::string &amp;message, int exit_code, Tick when, Tick repeat, bool serialize)</div><div class="ttdoc">Schedule an event to exit the simulation loop (returning to Python) at the end of the current cycle (...</div><div class="ttdef"><b>Definition:</b> <a href="sim__events_8cc_source.html#l00090">sim_events.cc:90</a></div></div>
<div class="ttc" id="classTraceCPU_1_1DcachePort_html_a0243ae35e82bca88a79558c99146a296"><div class="ttname"><a href="classTraceCPU_1_1DcachePort.html#a0243ae35e82bca88a79558c99146a296">TraceCPU::DcachePort::recvTimingResp</a></div><div class="ttdeci">bool recvTimingResp(PacketPtr pkt)</div><div class="ttdoc">Receive the timing reponse and call dcacheRecvTimingResp() method of the dcacheGen to handle completi...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01240">trace_cpu.cc:1240</a></div></div>
<div class="ttc" id="classTraceCPU_1_1FixedRetryGen_html_a9859cdf0a528249ca8dc0e5a5cab8c3c"><div class="ttname"><a href="classTraceCPU_1_1FixedRetryGen.html#a9859cdf0a528249ca8dc0e5a5cab8c3c">TraceCPU::FixedRetryGen::tickDelta</a></div><div class="ttdeci">int64_t tickDelta()</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00498">trace_cpu.hh:498</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_af211bc1b44b233f0e0093f1b63d81d1d"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#af211bc1b44b233f0e0093f1b63d81d1d">TraceCPU::ElasticDataGen::GraphNode::numRobDep</a></div><div class="ttdeci">uint8_t numRobDep</div><div class="ttdoc">Number of order dependencies. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00625">trace_cpu.hh:625</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_a0c208daeae57e03ce1e41d78971c2677"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#a0c208daeae57e03ce1e41d78971c2677">TraceCPU::ElasticDataGen::numSendFailed</a></div><div class="ttdeci">Stats::Scalar numSendFailed</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01054">trace_cpu.hh:1054</a></div></div>
<div class="ttc" id="classMemCmd_html_a1d67008bcf747dadbb70f5a0136b6b9c"><div class="ttname"><a href="classMemCmd.html#a1d67008bcf747dadbb70f5a0136b6b9c">MemCmd::isWrite</a></div><div class="ttdeci">bool isWrite() const</div><div class="ttdef"><b>Definition:</b> <a href="packet_8hh_source.html#l00198">packet.hh:198</a></div></div>
<div class="ttc" id="classTraceCPU_html_a1ca679fb685a3b62d0cd4a44097c823b"><div class="ttname"><a href="classTraceCPU.html#a1ca679fb685a3b62d0cd4a44097c823b">TraceCPU::schedDcacheNextEvent</a></div><div class="ttdeci">void schedDcacheNextEvent(Tick when)</div><div class="ttdoc">Schedule event dcacheNextEvent at the given tick. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01201">trace_cpu.cc:1201</a></div></div>
<div class="ttc" id="classTraceCPU_html_a84920e2dae3fe73cd021e0cd1f599dea"><div class="ttname"><a href="classTraceCPU.html#a84920e2dae3fe73cd021e0cd1f599dea">TraceCPU::dataTraceFile</a></div><div class="ttdeci">std::string dataTraceFile</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00335">trace_cpu.hh:335</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_ae925e811d914711f5d1bd9a5c45bc802"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#ae925e811d914711f5d1bd9a5c45bc802">TraceCPU::ElasticDataGen::numSendAttempted</a></div><div class="ttdeci">Stats::Scalar numSendAttempted</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01052">trace_cpu.hh:1052</a></div></div>
<div class="ttc" id="classTraceCPU_html_aba2a0a9163f1f178c0e6f0ee6fd1cea4"><div class="ttname"><a href="classTraceCPU.html#aba2a0a9163f1f178c0e6f0ee6fd1cea4">TraceCPU::dcacheGen</a></div><div class="ttdeci">ElasticDataGen dcacheGen</div><div class="ttdoc">Instance of ElasticDataGen to replay data read and write requests. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01067">trace_cpu.hh:1067</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_af46050d928110e59fa8e209a41429188"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#af46050d928110e59fa8e209a41429188">TraceCPU::ElasticDataGen::GraphNode::virtAddr</a></div><div class="ttdeci">Addr virtAddr</div><div class="ttdoc">The virtual address for the request if any. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00607">trace_cpu.hh:607</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_a1f6c19121c07bd073c743fe3848b2618"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f6c19121c07bd073c743fe3848b2618">TraceCPU::ElasticDataGen::GraphNode::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdoc">Size of request if any. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00613">trace_cpu.hh:613</a></div></div>
<div class="ttc" id="classPort_html_a8c94a47998c9e7d2fab75f79682ffc16"><div class="ttname"><a href="classPort.html#a8c94a47998c9e7d2fab75f79682ffc16">Port::takeOverFrom</a></div><div class="ttdeci">void takeOverFrom(Port *old)</div><div class="ttdoc">A utility function to make it easier to swap out ports. </div><div class="ttdef"><b>Definition:</b> <a href="sim_2port_8hh_source.html#l00132">port.hh:132</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_a1e03e96a0589eb801a97bb32772894fb"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#a1e03e96a0589eb801a97bb32772894fb">TraceCPU::ElasticDataGen::printReadyList</a></div><div class="ttdeci">void printReadyList()</div><div class="ttdoc">Print readyList for debugging using debug flag TraceCPUData. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00863">trace_cpu.cc:863</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1InputStream_html_a6f0cc798cedc1418d8acb36874e5e696"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#a6f0cc798cedc1418d8acb36874e5e696">TraceCPU::ElasticDataGen::InputStream::InputStream</a></div><div class="ttdeci">InputStream(const std::string &amp;filename, const double time_multiplier)</div><div class="ttdoc">Create a trace input stream for a given file name. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01258">trace_cpu.cc:1258</a></div></div>
<div class="ttc" id="classBaseCPU_html_a205aff3cc2e726632f492ccd4f45d3ca"><div class="ttname"><a href="classBaseCPU.html#a205aff3cc2e726632f492ccd4f45d3ca">BaseCPU::numCycles</a></div><div class="ttdeci">Stats::Scalar numCycles</div><div class="ttdef"><b>Definition:</b> <a href="cpu_2base_8hh_source.html#l00603">base.hh:603</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_a67210c604a9ae4cb78cbc60ef3a43425"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a67210c604a9ae4cb78cbc60ef3a43425">TraceCPU::ElasticDataGen::GraphNode::isLoad</a></div><div class="ttdeci">bool isLoad() const</div><div class="ttdoc">Is the node a load. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00647">trace_cpu.hh:647</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource_html_a7f3d0662582a877c00f0ece9abba844f"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a7f3d0662582a877c00f0ece9abba844f">TraceCPU::ElasticDataGen::HardwareResource::releaseStoreBuffer</a></div><div class="ttdeci">void releaseStoreBuffer()</div><div class="ttdoc">Release store buffer entry for a completed store. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00951">trace_cpu.cc:951</a></div></div>
<div class="ttc" id="classBaseCPU_html_a2f23fd3267b49197b46ba0aceb1e0cb8"><div class="ttname"><a href="classBaseCPU.html#a2f23fd3267b49197b46ba0aceb1e0cb8">BaseCPU::init</a></div><div class="ttdeci">void init() override</div><div class="ttdoc">init() is called after all C++ SimObjects have been created and all ports are connected. </div><div class="ttdef"><b>Definition:</b> <a href="cpu_2base_8cc_source.html#l00281">base.cc:281</a></div></div>
<div class="ttc" id="namespaceStats_html"><div class="ttname"><a href="namespaceStats.html">Stats</a></div><div class="ttdef"><b>Definition:</b> <a href="statistics_8cc_source.html#l00062">statistics.cc:62</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_add628b0c4f011bb34d610385dc9b70fa"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#add628b0c4f011bb34d610385dc9b70fa">TraceCPU::ElasticDataGen::adjustInitTraceOffset</a></div><div class="ttdeci">void adjustInitTraceOffset(Tick &amp;offset)</div><div class="ttdoc">Adjust traceOffset based on what TraceCPU init() determines on comparing the offsets in the fetch req...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00335">trace_cpu.cc:335</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource_html_a38eb6721dfd9a363224e3d134c5a5ff0"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a38eb6721dfd9a363224e3d134c5a5ff0">TraceCPU::ElasticDataGen::HardwareResource::occupy</a></div><div class="ttdeci">void occupy(const GraphNode *new_node)</div><div class="ttdoc">Occupy appropriate structures for an issued node. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00891">trace_cpu.cc:891</a></div></div>
<div class="ttc" id="classBaseCPU_html_a72e011337eb0120512b41ed4fd23745a"><div class="ttname"><a href="classBaseCPU.html#a72e011337eb0120512b41ed4fd23745a">BaseCPU::getDataPort</a></div><div class="ttdeci">virtual Port &amp; getDataPort()=0</div><div class="ttdoc">Purely virtual method that returns a reference to the data port. </div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_acfd24322db4c7a49403298962210acd9"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#acfd24322db4c7a49403298962210acd9">TraceCPU::ElasticDataGen::GraphNode::regDep</a></div><div class="ttdeci">RegDepArray regDep</div><div class="ttdoc">Array of register dependencies (incoming) if any. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00634">trace_cpu.hh:634</a></div></div>
<div class="ttc" id="classBaseCPU_html"><div class="ttname"><a href="classBaseCPU.html">BaseCPU</a></div><div class="ttdef"><b>Definition:</b> <a href="cpu__dummy_8hh_source.html#l00045">cpu_dummy.hh:45</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_a547929bfa406c5a939abdc155d4c6949"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#a547929bfa406c5a939abdc155d4c6949">TraceCPU::ElasticDataGen::numRetrySucceeded</a></div><div class="ttdeci">Stats::Scalar numRetrySucceeded</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01055">trace_cpu.hh:1055</a></div></div>
<div class="ttc" id="classEventManager_html_a749a10828b2dd5017a2582960d04e400"><div class="ttname"><a href="classEventManager.html#a749a10828b2dd5017a2582960d04e400">EventManager::schedule</a></div><div class="ttdeci">void schedule(Event &amp;event, Tick when)</div><div class="ttdef"><b>Definition:</b> <a href="eventq_8hh_source.html#l00744">eventq.hh:744</a></div></div>
<div class="ttc" id="classPacket_html_aa86da42d7b9a882873deb75798e8ff8d"><div class="ttname"><a href="classPacket.html#aa86da42d7b9a882873deb75798e8ff8d">Packet::dataDynamic</a></div><div class="ttdeci">void dataDynamic(T *p)</div><div class="ttdoc">Set the data pointer to a value that should have delete [] called on it. </div><div class="ttdef"><b>Definition:</b> <a href="packet_8hh_source.html#l01078">packet.hh:1078</a></div></div>
<div class="ttc" id="structTraceCPU_1_1FixedRetryGen_1_1TraceElement_html_a64ddb7176ee634e77cf31b8206ae9dd8"><div class="ttname"><a href="structTraceCPU_1_1FixedRetryGen_1_1TraceElement.html#a64ddb7176ee634e77cf31b8206ae9dd8">TraceCPU::FixedRetryGen::TraceElement::addr</a></div><div class="ttdeci">Addr addr</div><div class="ttdoc">The address for the request. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00357">trace_cpu.hh:357</a></div></div>
<div class="ttc" id="classTraceCPU_1_1FixedRetryGen_html_a1aad3244be9ce90525e8edcdc3f1afa1"><div class="ttname"><a href="classTraceCPU_1_1FixedRetryGen.html#a1aad3244be9ce90525e8edcdc3f1afa1">TraceCPU::FixedRetryGen::init</a></div><div class="ttdeci">Tick init()</div><div class="ttdoc">Called from TraceCPU init(). </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01048">trace_cpu.cc:1048</a></div></div>
<div class="ttc" id="classTraceCPU_html_a25b0dea161bfd3df211857d339944315"><div class="ttname"><a href="classTraceCPU.html#a25b0dea161bfd3df211857d339944315">TraceCPU::getDataPort</a></div><div class="ttdeci">Port &amp; getDataPort()</div><div class="ttdoc">Used to get a reference to the dcache port. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l01152">trace_cpu.hh:1152</a></div></div>
<div class="ttc" id="classTraceCPU_html_ab27802ef3ea38961965bbad53d67df02"><div class="ttname"><a href="classTraceCPU.html#ab27802ef3ea38961965bbad53d67df02">TraceCPU::icacheRetryRecvd</a></div><div class="ttdeci">void icacheRetryRecvd()</div><div class="ttdoc">When instruction cache port receives a retry, schedule event icacheNextEvent. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01181">trace_cpu.cc:1181</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_ab9671fcdc1bbb9027c5f1d58d176016e"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#ab9671fcdc1bbb9027c5f1d58d176016e">TraceCPU::ElasticDataGen::GraphNode::physAddr</a></div><div class="ttdeci">Addr physAddr</div><div class="ttdoc">The address for the request if any. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00604">trace_cpu.hh:604</a></div></div>
<div class="ttc" id="classStats_1_1DataWrap_html_a21c87112d21fd2a0caa14aaa343d8bc1"><div class="ttname"><a href="classStats_1_1DataWrap.html#a21c87112d21fd2a0caa14aaa343d8bc1">Stats::DataWrap::desc</a></div><div class="ttdeci">Derived &amp; desc(const std::string &amp;_desc)</div><div class="ttdoc">Set the description and marks this stat to print at the end of simulation. </div><div class="ttdef"><b>Definition:</b> <a href="statistics_8hh_source.html#l00312">statistics.hh:312</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource_html_a5e29c8fed50b3490bc29d352ab0de85a"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1HardwareResource.html#a5e29c8fed50b3490bc29d352ab0de85a">TraceCPU::ElasticDataGen::HardwareResource::printOccupancy</a></div><div class="ttdeci">void printOccupancy()</div><div class="ttdoc">Print resource occupancy for debugging. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01008">trace_cpu.cc:1008</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_a9b9d6a5ede5dbec4d90af8bdc95e5f60"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#a9b9d6a5ede5dbec4d90af8bdc95e5f60">TraceCPU::ElasticDataGen::addToSortedReadyList</a></div><div class="ttdeci">void addToSortedReadyList(NodeSeqNum seq_num, Tick exec_tick)</div><div class="ttdoc">Add a ready node to the readyList. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00806">trace_cpu.cc:806</a></div></div>
<div class="ttc" id="classRequest_html_a5c7f6916167bf0827be5356095e091ba"><div class="ttname"><a href="classRequest.html#a5c7f6916167bf0827be5356095e091ba">Request::FlagsType</a></div><div class="ttdeci">uint64_t FlagsType</div><div class="ttdef"><b>Definition:</b> <a href="request_8hh_source.html#l00090">request.hh:90</a></div></div>
<div class="ttc" id="arch_2x86_2process_8cc_html_a4a522b8848c4afad8c6404708a44a05f"><div class="ttname"><a href="arch_2x86_2process_8cc.html#a4a522b8848c4afad8c6404708a44a05f">M5_VAR_USED</a></div><div class="ttdeci">static const int NumArgumentRegs M5_VAR_USED</div><div class="ttdef"><b>Definition:</b> <a href="arch_2x86_2process_8cc_source.html#l00084">process.cc:84</a></div></div>
<div class="ttc" id="classTraceCPU_1_1FixedRetryGen_1_1InputStream_html_a7542772ccf719ceecccc5f5c99bf6819"><div class="ttname"><a href="classTraceCPU_1_1FixedRetryGen_1_1InputStream.html#a7542772ccf719ceecccc5f5c99bf6819">TraceCPU::FixedRetryGen::InputStream::read</a></div><div class="ttdeci">bool read(TraceElement *element)</div><div class="ttdoc">Attempt to read a trace element from the stream, and also notify the caller if the end of the file wa...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01495">trace_cpu.cc:1495</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_a8afb8a28b6f2f5cab11689dc02f2872f"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a8afb8a28b6f2f5cab11689dc02f2872f">TraceCPU::ElasticDataGen::GraphNode::writeElementAsTrace</a></div><div class="ttdeci">void writeElementAsTrace() const</div><div class="ttdoc">Write out element in trace-compatible format using debug flag TraceCPUData. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01435">trace_cpu.cc:1435</a></div></div>
<div class="ttc" id="trace__cpu_8hh_html"><div class="ttname"><a href="trace__cpu_8hh.html">trace_cpu.hh</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_a687041633ebba73e8102ee6bd974ec67"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a687041633ebba73e8102ee6bd974ec67">TraceCPU::ElasticDataGen::GraphNode::robDep</a></div><div class="ttdeci">RobDepArray robDep</div><div class="ttdoc">Array of order dependencies. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00622">trace_cpu.hh:622</a></div></div>
<div class="ttc" id="classBaseCPU_html_a258986ef5de8019c07bc338f1254e671"><div class="ttname"><a href="classBaseCPU.html#a258986ef5de8019c07bc338f1254e671">BaseCPU::params</a></div><div class="ttdeci">const Params * params() const</div><div class="ttdef"><b>Definition:</b> <a href="cpu_2base_8hh_source.html#l00311">base.hh:311</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_a295a65a59d52372bff249ec9d1b3c9a6"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a295a65a59d52372bff249ec9d1b3c9a6">TraceCPU::ElasticDataGen::GraphNode::typeToStr</a></div><div class="ttdeci">std::string typeToStr() const</div><div class="ttdoc">Return string specifying the type of the node. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01468">trace_cpu.cc:1468</a></div></div>
<div class="ttc" id="classTraceCPU_html_ac05f2267a479ba330234728a3a30d351"><div class="ttname"><a href="classTraceCPU.html#ac05f2267a479ba330234728a3a30d351">TraceCPU::takeOverFrom</a></div><div class="ttdeci">void takeOverFrom(BaseCPU *oldCPU)</div><div class="ttdoc">Load the state of a CPU from the previous CPU object, invoked on all new CPUs that are about to be sw...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00106">trace_cpu.cc:106</a></div></div>
<div class="ttc" id="classStats_1_1ScalarBase_html_a453ffa9a0e4f542ace4fa1778fa3485e"><div class="ttname"><a href="classStats_1_1ScalarBase.html#a453ffa9a0e4f542ace4fa1778fa3485e">Stats::ScalarBase::value</a></div><div class="ttdeci">Counter value() const</div><div class="ttdoc">Return the current value of this stat as its base type. </div><div class="ttdef"><b>Definition:</b> <a href="statistics_8hh_source.html#l00703">statistics.hh:703</a></div></div>
<div class="ttc" id="base_2types_8hh_html_a5ba9705b85fbf1a2720bce8914fa4a18"><div class="ttname"><a href="base_2types_8hh.html#a5ba9705b85fbf1a2720bce8914fa4a18">ContextID</a></div><div class="ttdeci">int ContextID</div><div class="ttdoc">Globally unique thread context ID. </div><div class="ttdef"><b>Definition:</b> <a href="base_2types_8hh_source.html#l00231">types.hh:231</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_a966ac86637d20663d69da4f725d6f496"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#a966ac86637d20663d69da4f725d6f496">TraceCPU::ElasticDataGen::name</a></div><div class="ttdeci">const std::string &amp; name() const</div><div class="ttdoc">Returns name of the ElasticDataGen instance. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00893">trace_cpu.hh:893</a></div></div>
<div class="ttc" id="classMemCmd_html_a8ffc7b378224a0b9c1957e9e386bd156"><div class="ttname"><a href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">MemCmd::cmd</a></div><div class="ttdeci">Command cmd</div><div class="ttdef"><b>Definition:</b> <a href="packet_8hh_source.html#l00187">packet.hh:187</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1InputStream_html_a1618ed2efd06b1ada277957a1c6b8fad"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#a1618ed2efd06b1ada277957a1c6b8fad">TraceCPU::ElasticDataGen::InputStream::read</a></div><div class="ttdeci">bool read(GraphNode *element)</div><div class="ttdoc">Attempt to read a trace element from the stream, and also notify the caller if the end of the file wa...</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01288">trace_cpu.cc:1288</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1InputStream_html_ae6848ba5e8c8a5c8ef0248d3d9bda323"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1InputStream.html#ae6848ba5e8c8a5c8ef0248d3d9bda323">TraceCPU::ElasticDataGen::InputStream::microOpCount</a></div><div class="ttdeci">uint64_t microOpCount</div><div class="ttdoc">Count of committed ops read from trace plus the filtered ops. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00812">trace_cpu.hh:812</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_a1f0b39a0866b0da182b37d8927bc9805"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1f0b39a0866b0da182b37d8927bc9805">TraceCPU::ElasticDataGen::GraphNode::seqNum</a></div><div class="ttdeci">NodeSeqNum seqNum</div><div class="ttdoc">Instruction sequence number. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8hh_source.html#l00595">trace_cpu.hh:595</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_a1aa34526bc77fe925b327be306c1b355"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a1aa34526bc77fe925b327be306c1b355">TraceCPU::ElasticDataGen::GraphNode::removeRobDep</a></div><div class="ttdeci">bool removeRobDep(NodeSeqNum rob_dep)</div><div class="ttdoc">Remove completed instruction from order dependency array. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01387">trace_cpu.cc:1387</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_1_1GraphNode_html_a3228fae4d66568727ef35ec014e4889d"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen_1_1GraphNode.html#a3228fae4d66568727ef35ec014e4889d">TraceCPU::ElasticDataGen::GraphNode::removeDepOnInst</a></div><div class="ttdeci">bool removeDepOnInst(NodeSeqNum done_seq_num)</div><div class="ttdoc">Check for all dependencies on completed inst. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01420">trace_cpu.cc:1420</a></div></div>
<div class="ttc" id="namespaceProbePoints_html_ad737652905dacb8536adf3c5c4051bc4"><div class="ttname"><a href="namespaceProbePoints.html#ad737652905dacb8536adf3c5c4051bc4">ProbePoints::Packet</a></div><div class="ttdeci">ProbePointArg&lt; PacketInfo &gt; Packet</div><div class="ttdoc">Packet probe point. </div><div class="ttdef"><b>Definition:</b> <a href="sim_2probe_2mem_8hh_source.html#l00104">mem.hh:104</a></div></div>
<div class="ttc" id="classTraceCPU_1_1FixedRetryGen_1_1InputStream_html_af60321132ee58f740eb54a25a05043b3"><div class="ttname"><a href="classTraceCPU_1_1FixedRetryGen_1_1InputStream.html#af60321132ee58f740eb54a25a05043b3">TraceCPU::FixedRetryGen::InputStream::InputStream</a></div><div class="ttdeci">InputStream(const std::string &amp;filename)</div><div class="ttdoc">Create a trace input stream for a given file name. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01473">trace_cpu.cc:1473</a></div></div>
<div class="ttc" id="classTraceCPU_1_1FixedRetryGen_html_a6272b162f23ef9811d426568c44d1fb4"><div class="ttname"><a href="classTraceCPU_1_1FixedRetryGen.html#a6272b162f23ef9811d426568c44d1fb4">TraceCPU::FixedRetryGen::tryNext</a></div><div class="ttdeci">bool tryNext()</div><div class="ttdoc">This tries to send current or retry packet and returns true if successfull. </div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l01063">trace_cpu.cc:1063</a></div></div>
<div class="ttc" id="base_2trace_8hh_html_ab50e5d70719a2562fe32d994959ad324"><div class="ttname"><a href="base_2trace_8hh.html#ab50e5d70719a2562fe32d994959ad324">DPRINTFR</a></div><div class="ttdeci">#define DPRINTFR(...)</div><div class="ttdef"><b>Definition:</b> <a href="base_2trace_8hh_source.html#l00217">trace.hh:217</a></div></div>
<div class="ttc" id="classTraceCPU_1_1ElasticDataGen_html_ab75bcda9115731db7beaada4036e2f60"><div class="ttname"><a href="classTraceCPU_1_1ElasticDataGen.html#ab75bcda9115731db7beaada4036e2f60">TraceCPU::ElasticDataGen::regStats</a></div><div class="ttdeci">void regStats()</div><div class="ttdef"><b>Definition:</b> <a href="trace__cpu_8cc_source.html#l00249">trace_cpu.cc:249</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<hr size="1"><address style="align: right;"><small>
Generated on Mon Nov 25 2019 12:52:08 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.8.13</small></address>
</body>
</html>
