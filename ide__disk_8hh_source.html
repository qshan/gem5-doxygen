<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gem5: dev/storage/ide_disk.hh Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">gem5
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5fc0168d11760b9445bd29fa15d9290f.html">dev</a></li><li class="navelem"><a class="el" href="dir_480ef506d122e6bbda0931b55edca16f.html">storage</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ide_disk.hh</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ide__disk_8hh.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2013 ARM Limited</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * All rights reserved</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * The license below extends only to copyright in the software and shall</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * not be construed as granting a license to any other intellectual</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * property including but not limited to intellectual property relating</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * to a hardware implementation of the functionality of the software</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * licensed hereunder.  You may use the software subject to the license</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * terms below provided that you ensure that this notice is replicated</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * unmodified and in its entirety in all distributions of the software,</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * modified or unmodified, in source code or in binary form.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * Copyright (c) 2004-2005 The Regents of The University of Michigan</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * All rights reserved.</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * Redistribution and use in source and binary forms, with or without</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * modification, are permitted provided that the following conditions are</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * met: redistributions of source code must retain the above copyright</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * notice, this list of conditions and the following disclaimer;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * redistributions in binary form must reproduce the above copyright</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * notice, this list of conditions and the following disclaimer in the</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * documentation and/or other materials provided with the distribution;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> * neither the name of the copyright holders nor the names of its</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * contributors may be used to endorse or promote products derived from</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * this software without specific prior written permission.</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> * Authors: Andrew Schultz</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#ifndef __DEV_STORAGE_IDE_DISK_HH__</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#define __DEV_STORAGE_IDE_DISK_HH__</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="statistics_8hh.html">base/statistics.hh</a>&quot;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="io__device_8hh.html">dev/io_device.hh</a>&quot;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="disk__image_8hh.html">dev/storage/disk_image.hh</a>&quot;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ide__atareg_8h.html">dev/storage/ide_atareg.h</a>&quot;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ide__ctrl_8hh.html">dev/storage/ide_ctrl.hh</a>&quot;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ide__wdcreg_8h.html">dev/storage/ide_wdcreg.h</a>&quot;</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;params/IdeDisk.hh&quot;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="eventq_8hh.html">sim/eventq.hh</a>&quot;</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">class </span><a class="code" href="classChunkGenerator.html">ChunkGenerator</a>;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a64bcea63cca60e512b1094c19fc4c587">   61</a></span>&#160;<span class="preprocessor">#define DMA_BACKOFF_PERIOD      200</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a941d6074126345e6acdf3d91ee305b11">   63</a></span>&#160;<span class="preprocessor">#define MAX_DMA_SIZE            0x20000  // 128K</span></div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#ad950b58f27507f6e618a3ef8352ae796">   64</a></span>&#160;<span class="preprocessor">#define MAX_SINGLE_DMA_SIZE     0x10000</span></div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a78590681c8717cc04539b5c406dda023">   65</a></span>&#160;<span class="preprocessor">#define MAX_MULTSECT            (128)</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a0bcee6e9fd01e441176bd95db85fb66f">   67</a></span>&#160;<span class="preprocessor">#define PRD_BASE_MASK  0xfffffffe</span></div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#add4e538b71947470f10c2c63183b63d3">   68</a></span>&#160;<span class="preprocessor">#define PRD_COUNT_MASK 0xfffe</span></div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a7284616a4b3048d94f87562a8a38b751">   69</a></span>&#160;<span class="preprocessor">#define PRD_EOT_MASK   0x8000</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="structPrdEntry.html">   71</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structPrdEntry.html">PrdEntry</a> {</div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="structPrdEntry.html#aea7c639c57dd9d840dcf623fcab660f1">   72</a></span>&#160;    uint32_t <a class="code" href="structPrdEntry.html#aea7c639c57dd9d840dcf623fcab660f1">baseAddr</a>;</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="structPrdEntry.html#ab71bce2177cb6832ea9e474ef7b8a768">   73</a></span>&#160;    uint16_t <a class="code" href="structPrdEntry.html#ab71bce2177cb6832ea9e474ef7b8a768">byteCount</a>;</div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structPrdEntry.html#a9db8ec556ce465820978aeb0fad3b07f">   74</a></span>&#160;    uint16_t <a class="code" href="structPrdEntry.html#a9db8ec556ce465820978aeb0fad3b07f">endOfTable</a>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;} <a class="code" href="ide__disk_8hh.html#a9f5eed7ed127258b053477a283b2e469">PrdEntry_t</a>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="classPrdTableEntry.html">   77</a></span>&#160;<span class="keyword">class </span><a class="code" href="classPrdTableEntry.html">PrdTableEntry</a> {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="classPrdTableEntry.html#a7d98cad33df93927dbb89d31e255b48d">   79</a></span>&#160;    <a class="code" href="structPrdEntry.html">PrdEntry_t</a> <a class="code" href="classPrdTableEntry.html#a7d98cad33df93927dbb89d31e255b48d">entry</a>;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classPrdTableEntry.html#a95eaacf27ebdfd6cae60fc3411c0b509">   81</a></span>&#160;    uint32_t <a class="code" href="classPrdTableEntry.html#a95eaacf27ebdfd6cae60fc3411c0b509">getBaseAddr</a>()</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">return</span> (entry.<a class="code" href="structPrdEntry.html#aea7c639c57dd9d840dcf623fcab660f1">baseAddr</a> &amp; <a class="code" href="ide__disk_8hh.html#a0bcee6e9fd01e441176bd95db85fb66f">PRD_BASE_MASK</a>);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="classPrdTableEntry.html#a60e7db49940d1ee39cf78c9c2e229324">   86</a></span>&#160;    uint32_t <a class="code" href="classPrdTableEntry.html#a60e7db49940d1ee39cf78c9c2e229324">getByteCount</a>()</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">return</span> ((entry.<a class="code" href="structPrdEntry.html#ab71bce2177cb6832ea9e474ef7b8a768">byteCount</a> == 0) ? <a class="code" href="ide__disk_8hh.html#ad950b58f27507f6e618a3ef8352ae796">MAX_SINGLE_DMA_SIZE</a> :</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                (entry.<a class="code" href="structPrdEntry.html#ab71bce2177cb6832ea9e474ef7b8a768">byteCount</a> &amp; <a class="code" href="ide__disk_8hh.html#add4e538b71947470f10c2c63183b63d3">PRD_COUNT_MASK</a>));</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="classPrdTableEntry.html#a1258cc5e72e901e3c0c487502eb9bb48">   92</a></span>&#160;    uint16_t <a class="code" href="classPrdTableEntry.html#a1258cc5e72e901e3c0c487502eb9bb48">getEOT</a>()</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordflow">return</span> (entry.<a class="code" href="structPrdEntry.html#a9db8ec556ce465820978aeb0fad3b07f">endOfTable</a> &amp; <a class="code" href="ide__disk_8hh.html#a7284616a4b3048d94f87562a8a38b751">PRD_EOT_MASK</a>);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    }</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;};</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a11faa4c105a137b8edaa096de5063835">   98</a></span>&#160;<span class="preprocessor">#define DATA_OFFSET     (0)</span></div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a34da2490156c0fde3a3a9e8b658e6639">   99</a></span>&#160;<span class="preprocessor">#define ERROR_OFFSET    (1)</span></div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#aa9c9d2fc107ac643f0a4b591955beaa9">  100</a></span>&#160;<span class="preprocessor">#define FEATURES_OFFSET (1)</span></div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a3c028923d4dbc280c75f2d05a07af561">  101</a></span>&#160;<span class="preprocessor">#define NSECTOR_OFFSET  (2)</span></div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#afe1c25cd3dcc7137056f351bb4bae70a">  102</a></span>&#160;<span class="preprocessor">#define SECTOR_OFFSET   (3)</span></div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a3c15c23524c451211d9eb469b602bb80">  103</a></span>&#160;<span class="preprocessor">#define LCYL_OFFSET     (4)</span></div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#af4211242794af5adce364ae3025bbd58">  104</a></span>&#160;<span class="preprocessor">#define HCYL_OFFSET     (5)</span></div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#adce132abdb19a249ce2627563386d64d">  105</a></span>&#160;<span class="preprocessor">#define SELECT_OFFSET   (6)</span></div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#ab15fd72af5d7f9b9cb8c06f0d2e40b45">  106</a></span>&#160;<span class="preprocessor">#define DRIVE_OFFSET    (6)</span></div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#ac3959778b8b4ee593c16fa33a06d844c">  107</a></span>&#160;<span class="preprocessor">#define STATUS_OFFSET   (7)</span></div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#adb83c033ee492824badb77fa8ebd5c5d">  108</a></span>&#160;<span class="preprocessor">#define COMMAND_OFFSET  (7)</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#ae15f861f15f995e6655f24ababa373b0">  110</a></span>&#160;<span class="preprocessor">#define CONTROL_OFFSET  (2)</span></div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#ae0878ccca45f58e9438fd4b05593042b">  111</a></span>&#160;<span class="preprocessor">#define ALTSTAT_OFFSET  (2)</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a05842c3a1c122fb3d8cf867fdfda63ab">  113</a></span>&#160;<span class="preprocessor">#define SELECT_DEV_BIT  0x10</span></div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a8156819b43430caea117fda9179f6b92">  114</a></span>&#160;<span class="preprocessor">#define CONTROL_RST_BIT 0x04</span></div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#ae9920e68c1f940e29dee8f47c5b0da54">  115</a></span>&#160;<span class="preprocessor">#define CONTROL_IEN_BIT 0x02</span></div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a3d03a0c27c2a175009ae7cb5f1a5b5e1">  116</a></span>&#160;<span class="preprocessor">#define STATUS_BSY_BIT  0x80</span></div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#ab8255d1245e66901dbf984fcb88b39b2">  117</a></span>&#160;<span class="preprocessor">#define STATUS_DRDY_BIT 0x40</span></div><div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a6dc9ea6abc0948e38e3716456d711267">  118</a></span>&#160;<span class="preprocessor">#define STATUS_DRQ_BIT  0x08</span></div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a6d24123c25308f8d0b135602dca13b8d">  119</a></span>&#160;<span class="preprocessor">#define STATUS_SEEK_BIT 0x10</span></div><div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a723478546687fa887ff111c2aa99983b">  120</a></span>&#160;<span class="preprocessor">#define STATUS_DF_BIT   0x20</span></div><div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#ad88dd68f3f134fbb039bc89e99db0e64">  121</a></span>&#160;<span class="preprocessor">#define DRIVE_LBA_BIT   0x40</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a23bd1221f53dd9ccc84c6afd59bde187">  123</a></span>&#160;<span class="preprocessor">#define DEV0 (0)</span></div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a5bb415eb7788e538901aa11bbe583094">  124</a></span>&#160;<span class="preprocessor">#define DEV1 (1)</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="structCommandReg.html">  126</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structCommandReg.html">CommandReg</a> {</div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="structCommandReg.html#ac18c8362898dfd2dd7177f22bacd838f">  127</a></span>&#160;    uint16_t <a class="code" href="structCommandReg.html#ac18c8362898dfd2dd7177f22bacd838f">data</a>;</div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="structCommandReg.html#acb26f32ed685d3e951dd1a41bd1f3eef">  128</a></span>&#160;    uint8_t <a class="code" href="structCommandReg.html#acb26f32ed685d3e951dd1a41bd1f3eef">error</a>;</div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="structCommandReg.html#a43ec118cec811fe3feb68607db1a1112">  129</a></span>&#160;    uint8_t <a class="code" href="structCommandReg.html#a43ec118cec811fe3feb68607db1a1112">sec_count</a>;</div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="structCommandReg.html#af31f9125e698d6612bb50d4e290d6c28">  130</a></span>&#160;    uint8_t <a class="code" href="structCommandReg.html#af31f9125e698d6612bb50d4e290d6c28">sec_num</a>;</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="structCommandReg.html#af70f2b191f9bc6102874fcef7b191ac7">  131</a></span>&#160;    uint8_t <a class="code" href="structCommandReg.html#af70f2b191f9bc6102874fcef7b191ac7">cyl_low</a>;</div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="structCommandReg.html#a79f18e03e3e9d4ba1943507befc00b68">  132</a></span>&#160;    uint8_t <a class="code" href="structCommandReg.html#a79f18e03e3e9d4ba1943507befc00b68">cyl_high</a>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keyword">union </span>{</div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="structCommandReg.html#aee09b2cbdc055ff78fd85a7cbcbc9730">  134</a></span>&#160;        uint8_t <a class="code" href="structCommandReg.html#aee09b2cbdc055ff78fd85a7cbcbc9730">drive</a>;</div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="structCommandReg.html#a5a0cde7cd9606e9642bcb670350e2dcb">  135</a></span>&#160;        uint8_t <a class="code" href="structCommandReg.html#a5a0cde7cd9606e9642bcb670350e2dcb">head</a>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    };</div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="structCommandReg.html#a14d5bc1ac12f8e9727340ec42d2674db">  137</a></span>&#160;    uint8_t <a class="code" href="structCommandReg.html#a14d5bc1ac12f8e9727340ec42d2674db">command</a>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;} <a class="code" href="ide__disk_8hh.html#af4010b661f64b0062097e418091f5d62">CommandReg_t</a>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1">  140</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1">Events</a> {</div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1ac9d3e887722f2bc482bcca9d41c512af">  141</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1ac9d3e887722f2bc482bcca9d41c512af">None</a> = 0,</div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1a0f6148e320034642ee8ec78d5cbb03aa">  142</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1a0f6148e320034642ee8ec78d5cbb03aa">Transfer</a>,</div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1a8601472b66eb7a6b3a758080ad6c8a81">  143</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1a8601472b66eb7a6b3a758080ad6c8a81">ReadWait</a>,</div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1a269f4f627793c0b24baf513c619e76ae">  144</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1a269f4f627793c0b24baf513c619e76ae">WriteWait</a>,</div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1a9335332362efb228e15c6580aef09dd9">  145</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1a9335332362efb228e15c6580aef09dd9">PrdRead</a>,</div><div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1a1639c08b8811b3c45c069169cea66e7a">  146</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1a1639c08b8811b3c45c069169cea66e7a">DmaRead</a>,</div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1a8fda525da8bab927fe38d82888083bbf">  147</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1a8fda525da8bab927fe38d82888083bbf">DmaWrite</a></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;} <a class="code" href="ide__disk_8hh.html#ab811aa466b9304fc1fc7edf03adb3ebc">Events_t</a>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15c">  150</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15c">DevAction</a> {</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15caf1ee39018887e21bccccb4d0ddf0ac50">  151</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15caf1ee39018887e21bccccb4d0ddf0ac50">ACT_NONE</a> = 0,</div><div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15cae1dd7a3a517c2f858845012756768591">  152</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15cae1dd7a3a517c2f858845012756768591">ACT_CMD_WRITE</a>,</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca264757d803e500a0e811725ecdd896f1">  153</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca264757d803e500a0e811725ecdd896f1">ACT_CMD_COMPLETE</a>,</div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca564e5d0c9a0d03e4e0d901a18100c6fd">  154</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca564e5d0c9a0d03e4e0d901a18100c6fd">ACT_CMD_ERROR</a>,</div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca6610e6fb837bbd223db1436df81ef3d7">  155</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca6610e6fb837bbd223db1436df81ef3d7">ACT_SELECT_WRITE</a>,</div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15caf826d1740bb55069b77c41dcda84b26a">  156</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15caf826d1740bb55069b77c41dcda84b26a">ACT_STAT_READ</a>,</div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca040e963d0aeed73747b1a0cf0631aa6d">  157</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca040e963d0aeed73747b1a0cf0631aa6d">ACT_DATA_READY</a>,</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15caba3b6986bd4622c3227ff958da2f6778">  158</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15caba3b6986bd4622c3227ff958da2f6778">ACT_DATA_READ_BYTE</a>,</div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca569047ea4f8599fd76feb7ad76b1e0dc">  159</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca569047ea4f8599fd76feb7ad76b1e0dc">ACT_DATA_READ_SHORT</a>,</div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca0481ac27625f7b14bcee1eacb2c9153c">  160</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca0481ac27625f7b14bcee1eacb2c9153c">ACT_DATA_WRITE_BYTE</a>,</div><div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca3af5a74985a6671feb0d9bb3bff9a543">  161</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca3af5a74985a6671feb0d9bb3bff9a543">ACT_DATA_WRITE_SHORT</a>,</div><div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca6c282bf261ebd28f1d87398129882dee">  162</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca6c282bf261ebd28f1d87398129882dee">ACT_DMA_READY</a>,</div><div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15cacce8d2685977821326c313a603e35f7a">  163</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15cacce8d2685977821326c313a603e35f7a">ACT_DMA_DONE</a>,</div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca2c18dc37b9298471dec71104f1d46fff">  164</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca2c18dc37b9298471dec71104f1d46fff">ACT_SRST_SET</a>,</div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca8a6e319f6c3971a39132513d188576fd">  165</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca8a6e319f6c3971a39132513d188576fd">ACT_SRST_CLEAR</a></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;} <a class="code" href="ide__disk_8hh.html#ab9a7252f05d40d629a2b3e780862846c">DevAction_t</a>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6">  168</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6">DevState</a> {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">// Device idle</span></div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6a24221ccc1bb4a323bc12d64883208c11">  170</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6a24221ccc1bb4a323bc12d64883208c11">Device_Idle_S</a> = 0,</div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6ac4673e63774c8b75b7b7aad4588b1aad">  171</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6ac4673e63774c8b75b7b7aad4588b1aad">Device_Idle_SI</a>,</div><div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6ae8a630d79f6da7a97bcae438a9bfd1db">  172</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6ae8a630d79f6da7a97bcae438a9bfd1db">Device_Idle_NS</a>,</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="comment">// Software reset</span></div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6ac88c15837f00c88c0dbda9f774a9f689">  175</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6ac88c15837f00c88c0dbda9f774a9f689">Device_Srst</a>,</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="comment">// Non-data commands</span></div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6ab0c139f4bbab430ab7b877aa8e211217">  178</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6ab0c139f4bbab430ab7b877aa8e211217">Command_Execution</a>,</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">// PIO data-in (data to host)</span></div><div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6a963c5e183f934c0552bab67315ef0901">  181</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6a963c5e183f934c0552bab67315ef0901">Prepare_Data_In</a>,</div><div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6a9aa9d424633dc557b88576993e7a413c">  182</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6a9aa9d424633dc557b88576993e7a413c">Data_Ready_INTRQ_In</a>,</div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6afcd577c08925582e323f8916f1ec0d9d">  183</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6afcd577c08925582e323f8916f1ec0d9d">Transfer_Data_In</a>,</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">// PIO data-out (data from host)</span></div><div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6ad03435c752fd718ef93cc2988775da64">  186</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6ad03435c752fd718ef93cc2988775da64">Prepare_Data_Out</a>,</div><div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6a132a29467ed2679d80bc8119545df28f">  187</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6a132a29467ed2679d80bc8119545df28f">Data_Ready_INTRQ_Out</a>,</div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6a16561636b0602f9e542694a66d69e36a">  188</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6a16561636b0602f9e542694a66d69e36a">Transfer_Data_Out</a>,</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">// DMA protocol</span></div><div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6aed547cd1619ef3146a31732b777681ee">  191</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6aed547cd1619ef3146a31732b777681ee">Prepare_Data_Dma</a>,</div><div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6a64d0d40fb6f851777564c89760787a96">  192</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6a64d0d40fb6f851777564c89760787a96">Transfer_Data_Dma</a>,</div><div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6ab38004dd5047db164833d19ff9abc91d">  193</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6ab38004dd5047db164833d19ff9abc91d">Device_Dma_Abort</a></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;} <a class="code" href="ide__disk_8hh.html#abe49db4804c1744e30c8df026681eaf0">DevState_t</a>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a8adb9656d6ea50580adaf9c8e7d9eebf">  196</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="ide__disk_8hh.html#a8adb9656d6ea50580adaf9c8e7d9eebf">DmaState</a> {</div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a8adb9656d6ea50580adaf9c8e7d9eebfa98b4f39d2f8dca680f8b1ac92943966c">  197</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a8adb9656d6ea50580adaf9c8e7d9eebfa98b4f39d2f8dca680f8b1ac92943966c">Dma_Idle</a> = 0,</div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a8adb9656d6ea50580adaf9c8e7d9eebfae35abb19ade6161b3817f6dd498ca711">  198</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a8adb9656d6ea50580adaf9c8e7d9eebfae35abb19ade6161b3817f6dd498ca711">Dma_Start</a>,</div><div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="ide__disk_8hh.html#a8adb9656d6ea50580adaf9c8e7d9eebfa1479e31de2b235a422d366215ade33d4">  199</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a8adb9656d6ea50580adaf9c8e7d9eebfa1479e31de2b235a422d366215ade33d4">Dma_Transfer</a></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;} <a class="code" href="ide__disk_8hh.html#a398a1d251e78562f1eccfb43ad5fdf49">DmaState_t</a>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="keyword">class </span><a class="code" href="classIdeController.html">IdeController</a>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="classIdeDisk.html">  207</a></span>&#160;<span class="keyword">class </span><a class="code" href="classIdeDisk.html">IdeDisk</a> : <span class="keyword">public</span> <a class="code" href="classSimObject.html">SimObject</a></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;{</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keyword">protected</span>:</div><div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="classIdeDisk.html#ac95026ec24ec308e4c4a6faabb58791c">  211</a></span>&#160;    <a class="code" href="classIdeController.html">IdeController</a> *<a class="code" href="classIdeDisk.html#ac95026ec24ec308e4c4a6faabb58791c">ctrl</a>;</div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="classIdeDisk.html#ab02625a897191e57ae834fe27be2604e">  213</a></span>&#160;    <a class="code" href="classDiskImage.html">DiskImage</a> *<a class="code" href="classIdeDisk.html#ab02625a897191e57ae834fe27be2604e">image</a>;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keyword">protected</span>:</div><div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="classIdeDisk.html#a6573147e3b76493984fcf8027c415aa3">  217</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classIdeDisk.html#a6573147e3b76493984fcf8027c415aa3">diskDelay</a>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keyword">private</span>:</div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="classIdeDisk.html#ac2c6ec316f66c42e28545f62d7fb181d">  221</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structataparams.html">ataparams</a> driveID;</div><div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="classIdeDisk.html#af8e992b69dd1a33fd301582cbd60ff7c">  223</a></span>&#160;    uint8_t *<a class="code" href="classIdeDisk.html#af8e992b69dd1a33fd301582cbd60ff7c">dataBuffer</a>;</div><div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="classIdeDisk.html#a1c9363a5863c2d16d323556076fb2d5e">  225</a></span>&#160;    uint32_t <a class="code" href="classIdeDisk.html#a1c9363a5863c2d16d323556076fb2d5e">cmdBytes</a>;</div><div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="classIdeDisk.html#a66bbef24ae781926545e812bbcd2266d">  227</a></span>&#160;    uint32_t <a class="code" href="classIdeDisk.html#a66bbef24ae781926545e812bbcd2266d">cmdBytesLeft</a>;</div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="classIdeDisk.html#a94bf20dad342b90041b2f896d0b27b2b">  229</a></span>&#160;    uint32_t <a class="code" href="classIdeDisk.html#a94bf20dad342b90041b2f896d0b27b2b">drqBytesLeft</a>;</div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="classIdeDisk.html#a8a8c130186637ca02c48b62b5a7011aa">  231</a></span>&#160;    uint32_t <a class="code" href="classIdeDisk.html#a8a8c130186637ca02c48b62b5a7011aa">curSector</a>;</div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="classIdeDisk.html#aa3efc0dcd51b3abc2b4bfc2e0170b376">  233</a></span>&#160;    <a class="code" href="structCommandReg.html">CommandReg_t</a> <a class="code" href="classIdeDisk.html#aa3efc0dcd51b3abc2b4bfc2e0170b376">cmdReg</a>;</div><div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="classIdeDisk.html#a266e04c5c79fb69d984145b9002d7d31">  235</a></span>&#160;    uint8_t <a class="code" href="classIdeDisk.html#a266e04c5c79fb69d984145b9002d7d31">status</a>;</div><div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="classIdeDisk.html#aab4acf6255b2b690a79f6c10393be27f">  237</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classIdeDisk.html#aab4acf6255b2b690a79f6c10393be27f">nIENBit</a>;</div><div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="classIdeDisk.html#aafb2f9cd4cada38f4ac2f73a31da84c8">  239</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#abe49db4804c1744e30c8df026681eaf0">DevState_t</a> <a class="code" href="classIdeDisk.html#aafb2f9cd4cada38f4ac2f73a31da84c8">devState</a>;</div><div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="classIdeDisk.html#a0f941a7cd88c40997ee1d88019bf68f6">  241</a></span>&#160;    <a class="code" href="ide__disk_8hh.html#a398a1d251e78562f1eccfb43ad5fdf49">DmaState_t</a> <a class="code" href="classIdeDisk.html#a0f941a7cd88c40997ee1d88019bf68f6">dmaState</a>;</div><div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="classIdeDisk.html#a8db1be4def8a0b2c19524111ceb070b8">  243</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classIdeDisk.html#a8db1be4def8a0b2c19524111ceb070b8">dmaRead</a>;</div><div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="classIdeDisk.html#a2e4505c67b7a21051e605ef7499ef831">  245</a></span>&#160;    <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="classIdeDisk.html#a2e4505c67b7a21051e605ef7499ef831">pageBytes</a>;</div><div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="classIdeDisk.html#ac4136a98900c06c332b34811d0ff1e33">  247</a></span>&#160;    uint32_t <a class="code" href="classIdeDisk.html#ac4136a98900c06c332b34811d0ff1e33">curPrdAddr</a>;</div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="classIdeDisk.html#ae852f1a2f06c7cf1f7cf5abb77c902ab">  249</a></span>&#160;    <a class="code" href="classPrdTableEntry.html">PrdTableEntry</a> <a class="code" href="classIdeDisk.html#ae852f1a2f06c7cf1f7cf5abb77c902ab">curPrd</a>;</div><div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="classIdeDisk.html#a5292a6b485d92200046416046f336d7e">  251</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classIdeDisk.html#a5292a6b485d92200046416046f336d7e">devID</a>;</div><div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="classIdeDisk.html#ab448b84408ef3d5d4199468220fd291c">  253</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classIdeDisk.html#ab448b84408ef3d5d4199468220fd291c">intrPending</a>;</div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="classIdeDisk.html#aab687dfa13c4a66e97910595cd41fa85">  255</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classIdeDisk.html#aab687dfa13c4a66e97910595cd41fa85">dmaAborted</a>;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="classIdeDisk.html#a7b86acfe5e5cba9dd326abf3615a3006">  257</a></span>&#160;    <a class="code" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="code" href="classIdeDisk.html#a7b86acfe5e5cba9dd326abf3615a3006">dmaReadFullPages</a>;</div><div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="classIdeDisk.html#a5bc02fec3a29e6997fe553d03396a727">  258</a></span>&#160;    <a class="code" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="code" href="classIdeDisk.html#a5bc02fec3a29e6997fe553d03396a727">dmaReadBytes</a>;</div><div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="classIdeDisk.html#ac06c2140366fdb42a875f8c28cf0b002">  259</a></span>&#160;    <a class="code" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="code" href="classIdeDisk.html#ac06c2140366fdb42a875f8c28cf0b002">dmaReadTxs</a>;</div><div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="classIdeDisk.html#a6eeb19e20679b0bfc6583122d43af778">  260</a></span>&#160;    <a class="code" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="code" href="classIdeDisk.html#a6eeb19e20679b0bfc6583122d43af778">dmaWriteFullPages</a>;</div><div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="classIdeDisk.html#ab408a1384aec9a6fe31aead63b53a536">  261</a></span>&#160;    <a class="code" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="code" href="classIdeDisk.html#ab408a1384aec9a6fe31aead63b53a536">dmaWriteBytes</a>;</div><div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="classIdeDisk.html#aab9d1f995e0f10f82179a0120c584ad4">  262</a></span>&#160;    <a class="code" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="code" href="classIdeDisk.html#aab9d1f995e0f10f82179a0120c584ad4">dmaWriteTxs</a>;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="classIdeDisk.html#a9238edf12b9caccb5925aa6ad06a2fdc">  265</a></span>&#160;    <span class="keyword">typedef</span> IdeDiskParams <a class="code" href="classIdeDisk.html#a9238edf12b9caccb5925aa6ad06a2fdc">Params</a>;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="classIdeDisk.html">IdeDisk</a>(<span class="keyword">const</span> Params *<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a>);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    ~<a class="code" href="classIdeDisk.html">IdeDisk</a>();</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="namespaceStats.html#ab9cd159e7f4ac914ca3db1a14ff1d8a8">reset</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordtype">void</span> regStats() <span class="keyword">override</span>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="classIdeDisk.html#af87c45e525add36b78537f666bedb35a">  288</a></span>&#160;    <a class="code" href="classIdeDisk.html#af87c45e525add36b78537f666bedb35a">setController</a>(<a class="code" href="classIdeController.html">IdeController</a> *<a class="code" href="namespaceArmISA.html#a21f7b327cbedf079597394ec2c3f2a6d">c</a>, <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> page_bytes)</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <a class="code" href="logging_8hh.html#af5c59b879d6a32dc657018ab3d30198f">panic_if</a>(ctrl, <span class="stringliteral">&quot;Cannot change the controller once set!\n&quot;</span>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        ctrl = <a class="code" href="namespaceArmISA.html#a21f7b327cbedf079597394ec2c3f2a6d">c</a>;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        pageBytes = page_bytes;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="comment">// Device register read/write</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordtype">void</span> readCommand(<span class="keyword">const</span> <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="namespaceArmISA.html#a19e4a68ca5c93c6136351d804b432b09">offset</a>, <span class="keywordtype">int</span> size, uint8_t *<a class="code" href="circlebuf_8test_8cc.html#ac89b5786f65419c30c7a97e2d5c40fe9">data</a>);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordtype">void</span> readControl(<span class="keyword">const</span> <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> offset, <span class="keywordtype">int</span> size, uint8_t *data);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordtype">void</span> writeCommand(<span class="keyword">const</span> <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> offset, <span class="keywordtype">int</span> size, <span class="keyword">const</span> uint8_t *data);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordtype">void</span> writeControl(<span class="keyword">const</span> <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> offset, <span class="keywordtype">int</span> size, <span class="keyword">const</span> uint8_t *data);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">// Start/abort functions</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordtype">void</span> startDma(<span class="keyword">const</span> uint32_t &amp;prdTableBase);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordtype">void</span> abortDma();</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="keyword">private</span>:</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordtype">void</span> startCommand();</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="comment">// Interrupt management</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordtype">void</span> intrPost();</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordtype">void</span> intrClear();</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">// DMA stuff</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordtype">void</span> doDmaTransfer();</div><div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="classIdeDisk.html#a9838790d395ab083a8220146b815ffe1">  314</a></span>&#160;    <a class="code" href="classEventFunctionWrapper.html">EventFunctionWrapper</a> <a class="code" href="classIdeDisk.html#a9838790d395ab083a8220146b815ffe1">dmaTransferEvent</a>;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordtype">void</span> doDmaDataRead();</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordtype">void</span> doDmaRead();</div><div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="classIdeDisk.html#a8bf1d1ec61945d009ac30b47afcd1a43">  319</a></span>&#160;    <a class="code" href="classChunkGenerator.html">ChunkGenerator</a> *<a class="code" href="classIdeDisk.html#a8bf1d1ec61945d009ac30b47afcd1a43">dmaReadCG</a>;</div><div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="classIdeDisk.html#ace56631e5a30f7ecdb2c6b9fb8beec74">  320</a></span>&#160;    <a class="code" href="classEventFunctionWrapper.html">EventFunctionWrapper</a> <a class="code" href="classIdeDisk.html#ace56631e5a30f7ecdb2c6b9fb8beec74">dmaReadWaitEvent</a>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordtype">void</span> doDmaDataWrite();</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordtype">void</span> doDmaWrite();</div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="classIdeDisk.html#ada7985c41b45fa59f52381385467c2e4">  325</a></span>&#160;    <a class="code" href="classChunkGenerator.html">ChunkGenerator</a> *<a class="code" href="classIdeDisk.html#ada7985c41b45fa59f52381385467c2e4">dmaWriteCG</a>;</div><div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="classIdeDisk.html#a964ba7557c45b954bcf288fa39939595">  326</a></span>&#160;    <a class="code" href="classEventFunctionWrapper.html">EventFunctionWrapper</a> <a class="code" href="classIdeDisk.html#a964ba7557c45b954bcf288fa39939595">dmaWriteWaitEvent</a>;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordtype">void</span> dmaPrdReadDone();</div><div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="classIdeDisk.html#a4b650e3c33e92b9f522fdd96d92474ec">  329</a></span>&#160;    <a class="code" href="classEventFunctionWrapper.html">EventFunctionWrapper</a> <a class="code" href="classIdeDisk.html#a4b650e3c33e92b9f522fdd96d92474ec">dmaPrdReadEvent</a>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordtype">void</span> dmaReadDone();</div><div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="classIdeDisk.html#add9c01778717ccaaae0264f44d8ee0ca">  332</a></span>&#160;    <a class="code" href="classEventFunctionWrapper.html">EventFunctionWrapper</a> <a class="code" href="classIdeDisk.html#add9c01778717ccaaae0264f44d8ee0ca">dmaReadEvent</a>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordtype">void</span> dmaWriteDone();</div><div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="classIdeDisk.html#ab6c19cdc8812d22ac8e445be562af940">  335</a></span>&#160;    <a class="code" href="classEventFunctionWrapper.html">EventFunctionWrapper</a> <a class="code" href="classIdeDisk.html#ab6c19cdc8812d22ac8e445be562af940">dmaWriteEvent</a>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="comment">// Disk image read/write</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordtype">void</span> readDisk(uint32_t sector, uint8_t *data);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordtype">void</span> writeDisk(uint32_t sector, uint8_t *data);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="comment">// State machine management</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordtype">void</span> updateState(<a class="code" href="ide__disk_8hh.html#ab9a7252f05d40d629a2b3e780862846c">DevAction_t</a> action);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="comment">// Utility functions</span></div><div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="classIdeDisk.html#af18f3198f5513c04d6d101700f8c8880">  345</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classIdeDisk.html#af18f3198f5513c04d6d101700f8c8880">isBSYSet</a>() { <span class="keywordflow">return</span> (status &amp; <a class="code" href="ide__disk_8hh.html#a3d03a0c27c2a175009ae7cb5f1a5b5e1">STATUS_BSY_BIT</a>); }</div><div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="classIdeDisk.html#ad4cd586188483fb64a96667595b4096d">  346</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classIdeDisk.html#ad4cd586188483fb64a96667595b4096d">isIENSet</a>() { <span class="keywordflow">return</span> nIENBit; }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordtype">bool</span> isDEVSelect();</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="classIdeDisk.html#a4cefcc0c41d27f813825874e4f03aa1a">  349</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classIdeDisk.html#a4cefcc0c41d27f813825874e4f03aa1a">setComplete</a>()</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="comment">// clear out the status byte</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        status = 0;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="comment">// set the DRDY bit</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        status |= <a class="code" href="ide__disk_8hh.html#ab8255d1245e66901dbf984fcb88b39b2">STATUS_DRDY_BIT</a>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="comment">// set the SEEK bit</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        status |= <a class="code" href="ide__disk_8hh.html#a6d24123c25308f8d0b135602dca13b8d">STATUS_SEEK_BIT</a>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="classIdeDisk.html#aab6e17c5b89e96845d53777a0563c98a">  359</a></span>&#160;    uint32_t <a class="code" href="classIdeDisk.html#aab6e17c5b89e96845d53777a0563c98a">getLBABase</a>()</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">return</span>  (<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>)(((cmdReg.<a class="code" href="structCommandReg.html#a5a0cde7cd9606e9642bcb670350e2dcb">head</a> &amp; 0xf) &lt;&lt; 24) | (cmdReg.<a class="code" href="structCommandReg.html#a79f18e03e3e9d4ba1943507befc00b68">cyl_high</a> &lt;&lt; 16) |</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                       (cmdReg.<a class="code" href="structCommandReg.html#af70f2b191f9bc6102874fcef7b191ac7">cyl_low</a> &lt;&lt; 8) | (cmdReg.<a class="code" href="structCommandReg.html#af31f9125e698d6612bb50d4e290d6c28">sec_num</a>));</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    }</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keyword">inline</span> <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> pciToDma(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> pciAddr);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="cpu_2thread__context_8cc.html#ab10299a575f9a9cd4e1d8e88cb12376f">serialize</a>(<a class="code" href="serialize_8hh.html#a821b5f5905353967b548ad54944d553e">CheckpointOut</a> &amp;<a class="code" href="namespacecp.html">cp</a>) <span class="keyword">const override</span>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="cpu_2thread__context_8cc.html#a75b6add5a3eb4dbc9d77da3d534958bb">unserialize</a>(<a class="code" href="classCheckpointIn.html">CheckpointIn</a> &amp;cp) <span class="keyword">override</span>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;};</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="preprocessor">#endif // __DEV_STORAGE_IDE_DISK_HH__</span></div><div class="ttc" id="ide__disk_8hh_html_a8adb9656d6ea50580adaf9c8e7d9eebfa98b4f39d2f8dca680f8b1ac92943966c"><div class="ttname"><a href="ide__disk_8hh.html#a8adb9656d6ea50580adaf9c8e7d9eebfa98b4f39d2f8dca680f8b1ac92943966c">Dma_Idle</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00197">ide_disk.hh:197</a></div></div>
<div class="ttc" id="classIdeDisk_html_aab4acf6255b2b690a79f6c10393be27f"><div class="ttname"><a href="classIdeDisk.html#aab4acf6255b2b690a79f6c10393be27f">IdeDisk::nIENBit</a></div><div class="ttdeci">bool nIENBit</div><div class="ttdoc">Interrupt enable bit. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00237">ide_disk.hh:237</a></div></div>
<div class="ttc" id="structCommandReg_html_a5a0cde7cd9606e9642bcb670350e2dcb"><div class="ttname"><a href="structCommandReg.html#a5a0cde7cd9606e9642bcb670350e2dcb">CommandReg::head</a></div><div class="ttdeci">uint8_t head</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00135">ide_disk.hh:135</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a8adb9656d6ea50580adaf9c8e7d9eebf"><div class="ttname"><a href="ide__disk_8hh.html#a8adb9656d6ea50580adaf9c8e7d9eebf">DmaState</a></div><div class="ttdeci">DmaState</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00196">ide_disk.hh:196</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a3bae184d288bce92398b814aa118c15ca6c282bf261ebd28f1d87398129882dee"><div class="ttname"><a href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca6c282bf261ebd28f1d87398129882dee">ACT_DMA_READY</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00162">ide_disk.hh:162</a></div></div>
<div class="ttc" id="classIdeDisk_html_a0f941a7cd88c40997ee1d88019bf68f6"><div class="ttname"><a href="classIdeDisk.html#a0f941a7cd88c40997ee1d88019bf68f6">IdeDisk::dmaState</a></div><div class="ttdeci">DmaState_t dmaState</div><div class="ttdoc">Dma state. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00241">ide_disk.hh:241</a></div></div>
<div class="ttc" id="classIdeDisk_html_ada7985c41b45fa59f52381385467c2e4"><div class="ttname"><a href="classIdeDisk.html#ada7985c41b45fa59f52381385467c2e4">IdeDisk::dmaWriteCG</a></div><div class="ttdeci">ChunkGenerator * dmaWriteCG</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00325">ide_disk.hh:325</a></div></div>
<div class="ttc" id="classIdeDisk_html_add9c01778717ccaaae0264f44d8ee0ca"><div class="ttname"><a href="classIdeDisk.html#add9c01778717ccaaae0264f44d8ee0ca">IdeDisk::dmaReadEvent</a></div><div class="ttdeci">EventFunctionWrapper dmaReadEvent</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00332">ide_disk.hh:332</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a3bae184d288bce92398b814aa118c15ca2c18dc37b9298471dec71104f1d46fff"><div class="ttname"><a href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca2c18dc37b9298471dec71104f1d46fff">ACT_SRST_SET</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00164">ide_disk.hh:164</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a9f5eed7ed127258b053477a283b2e469"><div class="ttname"><a href="ide__disk_8hh.html#a9f5eed7ed127258b053477a283b2e469">PrdEntry_t</a></div><div class="ttdeci">struct PrdEntry PrdEntry_t</div></div>
<div class="ttc" id="classIdeDisk_html_ac4136a98900c06c332b34811d0ff1e33"><div class="ttname"><a href="classIdeDisk.html#ac4136a98900c06c332b34811d0ff1e33">IdeDisk::curPrdAddr</a></div><div class="ttdeci">uint32_t curPrdAddr</div><div class="ttdoc">PRD table base address. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00247">ide_disk.hh:247</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a11f4d653b474b99bf5796f4be62f72c6a16561636b0602f9e542694a66d69e36a"><div class="ttname"><a href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6a16561636b0602f9e542694a66d69e36a">Transfer_Data_Out</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00188">ide_disk.hh:188</a></div></div>
<div class="ttc" id="structPrdEntry_html_aea7c639c57dd9d840dcf623fcab660f1"><div class="ttname"><a href="structPrdEntry.html#aea7c639c57dd9d840dcf623fcab660f1">PrdEntry::baseAddr</a></div><div class="ttdeci">uint32_t baseAddr</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00072">ide_disk.hh:72</a></div></div>
<div class="ttc" id="classPrdTableEntry_html"><div class="ttname"><a href="classPrdTableEntry.html">PrdTableEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00077">ide_disk.hh:77</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a11f4d653b474b99bf5796f4be62f72c6afcd577c08925582e323f8916f1ec0d9d"><div class="ttname"><a href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6afcd577c08925582e323f8916f1ec0d9d">Transfer_Data_In</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00183">ide_disk.hh:183</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a3bae184d288bce92398b814aa118c15caba3b6986bd4622c3227ff958da2f6778"><div class="ttname"><a href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15caba3b6986bd4622c3227ff958da2f6778">ACT_DATA_READ_BYTE</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00158">ide_disk.hh:158</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_add4e538b71947470f10c2c63183b63d3"><div class="ttname"><a href="ide__disk_8hh.html#add4e538b71947470f10c2c63183b63d3">PRD_COUNT_MASK</a></div><div class="ttdeci">#define PRD_COUNT_MASK</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00068">ide_disk.hh:68</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a11f4d653b474b99bf5796f4be62f72c6a24221ccc1bb4a323bc12d64883208c11"><div class="ttname"><a href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6a24221ccc1bb4a323bc12d64883208c11">Device_Idle_S</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00170">ide_disk.hh:170</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a11f4d653b474b99bf5796f4be62f72c6a963c5e183f934c0552bab67315ef0901"><div class="ttname"><a href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6a963c5e183f934c0552bab67315ef0901">Prepare_Data_In</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00181">ide_disk.hh:181</a></div></div>
<div class="ttc" id="classPrdTableEntry_html_a60e7db49940d1ee39cf78c9c2e229324"><div class="ttname"><a href="classPrdTableEntry.html#a60e7db49940d1ee39cf78c9c2e229324">PrdTableEntry::getByteCount</a></div><div class="ttdeci">uint32_t getByteCount()</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00086">ide_disk.hh:86</a></div></div>
<div class="ttc" id="structCommandReg_html_acb26f32ed685d3e951dd1a41bd1f3eef"><div class="ttname"><a href="structCommandReg.html#acb26f32ed685d3e951dd1a41bd1f3eef">CommandReg::error</a></div><div class="ttdeci">uint8_t error</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00128">ide_disk.hh:128</a></div></div>
<div class="ttc" id="classPrdTableEntry_html_a7d98cad33df93927dbb89d31e255b48d"><div class="ttname"><a href="classPrdTableEntry.html#a7d98cad33df93927dbb89d31e255b48d">PrdTableEntry::entry</a></div><div class="ttdeci">PrdEntry_t entry</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00079">ide_disk.hh:79</a></div></div>
<div class="ttc" id="classIdeController_html"><div class="ttname"><a href="classIdeController.html">IdeController</a></div><div class="ttdoc">Device model for an Intel PIIX4 IDE controller. </div><div class="ttdef"><b>Definition:</b> <a href="ide__ctrl_8hh_source.html#l00051">ide_ctrl.hh:51</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_af4010b661f64b0062097e418091f5d62"><div class="ttname"><a href="ide__disk_8hh.html#af4010b661f64b0062097e418091f5d62">CommandReg_t</a></div><div class="ttdeci">struct CommandReg CommandReg_t</div></div>
<div class="ttc" id="ide__disk_8hh_html_ad950b58f27507f6e618a3ef8352ae796"><div class="ttname"><a href="ide__disk_8hh.html#ad950b58f27507f6e618a3ef8352ae796">MAX_SINGLE_DMA_SIZE</a></div><div class="ttdeci">#define MAX_SINGLE_DMA_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00064">ide_disk.hh:64</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_af60e00b78607064c5be6aa9397ea49c1a8fda525da8bab927fe38d82888083bbf"><div class="ttname"><a href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1a8fda525da8bab927fe38d82888083bbf">DmaWrite</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00147">ide_disk.hh:147</a></div></div>
<div class="ttc" id="classIdeDisk_html_ac06c2140366fdb42a875f8c28cf0b002"><div class="ttname"><a href="classIdeDisk.html#ac06c2140366fdb42a875f8c28cf0b002">IdeDisk::dmaReadTxs</a></div><div class="ttdeci">Stats::Scalar dmaReadTxs</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00259">ide_disk.hh:259</a></div></div>
<div class="ttc" id="classIdeDisk_html_a5292a6b485d92200046416046f336d7e"><div class="ttname"><a href="classIdeDisk.html#a5292a6b485d92200046416046f336d7e">IdeDisk::devID</a></div><div class="ttdeci">int devID</div><div class="ttdoc">Device ID (master=0/slave=1) </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00251">ide_disk.hh:251</a></div></div>
<div class="ttc" id="structCommandReg_html_a79f18e03e3e9d4ba1943507befc00b68"><div class="ttname"><a href="structCommandReg.html#a79f18e03e3e9d4ba1943507befc00b68">CommandReg::cyl_high</a></div><div class="ttdeci">uint8_t cyl_high</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00132">ide_disk.hh:132</a></div></div>
<div class="ttc" id="classIdeDisk_html_ab02625a897191e57ae834fe27be2604e"><div class="ttname"><a href="classIdeDisk.html#ab02625a897191e57ae834fe27be2604e">IdeDisk::image</a></div><div class="ttdeci">DiskImage * image</div><div class="ttdoc">The image that contains the data of this disk. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00213">ide_disk.hh:213</a></div></div>
<div class="ttc" id="namespaceStats_html_ab9cd159e7f4ac914ca3db1a14ff1d8a8"><div class="ttname"><a href="namespaceStats.html#ab9cd159e7f4ac914ca3db1a14ff1d8a8">Stats::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="statistics_8cc_source.html#l00570">statistics.cc:570</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a3bae184d288bce92398b814aa118c15ca264757d803e500a0e811725ecdd896f1"><div class="ttname"><a href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca264757d803e500a0e811725ecdd896f1">ACT_CMD_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00153">ide_disk.hh:153</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a3bae184d288bce92398b814aa118c15ca0481ac27625f7b14bcee1eacb2c9153c"><div class="ttname"><a href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca0481ac27625f7b14bcee1eacb2c9153c">ACT_DATA_WRITE_BYTE</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00160">ide_disk.hh:160</a></div></div>
<div class="ttc" id="ide__ctrl_8hh_html"><div class="ttname"><a href="ide__ctrl_8hh.html">ide_ctrl.hh</a></div><div class="ttdoc">Simple PCI IDE controller with bus mastering capability and UDMA modeled after controller in the Inte...</div></div>
<div class="ttc" id="namespaceArmISA_html_a19e4a68ca5c93c6136351d804b432b09"><div class="ttname"><a href="namespaceArmISA.html#a19e4a68ca5c93c6136351d804b432b09">ArmISA::offset</a></div><div class="ttdeci">Bitfield&lt; 23, 0 &gt; offset</div><div class="ttdef"><b>Definition:</b> <a href="arch_2arm_2types_8hh_source.html#l00154">types.hh:154</a></div></div>
<div class="ttc" id="structPrdEntry_html"><div class="ttname"><a href="structPrdEntry.html">PrdEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00071">ide_disk.hh:71</a></div></div>
<div class="ttc" id="classIdeDisk_html_aab687dfa13c4a66e97910595cd41fa85"><div class="ttname"><a href="classIdeDisk.html#aab687dfa13c4a66e97910595cd41fa85">IdeDisk::dmaAborted</a></div><div class="ttdeci">bool dmaAborted</div><div class="ttdoc">DMA Aborted. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00255">ide_disk.hh:255</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_af60e00b78607064c5be6aa9397ea49c1"><div class="ttname"><a href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1">Events</a></div><div class="ttdeci">Events</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00140">ide_disk.hh:140</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a3bae184d288bce92398b814aa118c15ca564e5d0c9a0d03e4e0d901a18100c6fd"><div class="ttname"><a href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca564e5d0c9a0d03e4e0d901a18100c6fd">ACT_CMD_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00154">ide_disk.hh:154</a></div></div>
<div class="ttc" id="classIdeDisk_html_a94bf20dad342b90041b2f896d0b27b2b"><div class="ttname"><a href="classIdeDisk.html#a94bf20dad342b90041b2f896d0b27b2b">IdeDisk::drqBytesLeft</a></div><div class="ttdeci">uint32_t drqBytesLeft</div><div class="ttdoc">Number of bytes left in DRQ block. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00229">ide_disk.hh:229</a></div></div>
<div class="ttc" id="namespacecp_html"><div class="ttname"><a href="namespacecp.html">cp</a></div><div class="ttdef"><b>Definition:</b> <a href="cprintf_8cc_source.html#l00042">cprintf.cc:42</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_af60e00b78607064c5be6aa9397ea49c1ac9d3e887722f2bc482bcca9d41c512af"><div class="ttname"><a href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1ac9d3e887722f2bc482bcca9d41c512af">None</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00141">ide_disk.hh:141</a></div></div>
<div class="ttc" id="classIdeDisk_html_ab408a1384aec9a6fe31aead63b53a536"><div class="ttname"><a href="classIdeDisk.html#ab408a1384aec9a6fe31aead63b53a536">IdeDisk::dmaWriteBytes</a></div><div class="ttdeci">Stats::Scalar dmaWriteBytes</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00261">ide_disk.hh:261</a></div></div>
<div class="ttc" id="statistics_8hh_html"><div class="ttname"><a href="statistics_8hh.html">statistics.hh</a></div><div class="ttdoc">Declaration of Statistics objects. </div></div>
<div class="ttc" id="ide__disk_8hh_html_a3bae184d288bce92398b814aa118c15caf826d1740bb55069b77c41dcda84b26a"><div class="ttname"><a href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15caf826d1740bb55069b77c41dcda84b26a">ACT_STAT_READ</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00156">ide_disk.hh:156</a></div></div>
<div class="ttc" id="classStats_1_1Scalar_html"><div class="ttname"><a href="classStats_1_1Scalar.html">Stats::Scalar</a></div><div class="ttdoc">This is a simple scalar statistic, like a counter. </div><div class="ttdef"><b>Definition:</b> <a href="statistics_8hh_source.html#l02510">statistics.hh:2510</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a11f4d653b474b99bf5796f4be62f72c6ac4673e63774c8b75b7b7aad4588b1aad"><div class="ttname"><a href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6ac4673e63774c8b75b7b7aad4588b1aad">Device_Idle_SI</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00171">ide_disk.hh:171</a></div></div>
<div class="ttc" id="ide__atareg_8h_html"><div class="ttname"><a href="ide__atareg_8h.html">ide_atareg.h</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a7284616a4b3048d94f87562a8a38b751"><div class="ttname"><a href="ide__disk_8hh.html#a7284616a4b3048d94f87562a8a38b751">PRD_EOT_MASK</a></div><div class="ttdeci">#define PRD_EOT_MASK</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00069">ide_disk.hh:69</a></div></div>
<div class="ttc" id="structCommandReg_html_a14d5bc1ac12f8e9727340ec42d2674db"><div class="ttname"><a href="structCommandReg.html#a14d5bc1ac12f8e9727340ec42d2674db">CommandReg::command</a></div><div class="ttdeci">uint8_t command</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00137">ide_disk.hh:137</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a11f4d653b474b99bf5796f4be62f72c6ab38004dd5047db164833d19ff9abc91d"><div class="ttname"><a href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6ab38004dd5047db164833d19ff9abc91d">Device_Dma_Abort</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00193">ide_disk.hh:193</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a3bae184d288bce92398b814aa118c15ca040e963d0aeed73747b1a0cf0631aa6d"><div class="ttname"><a href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca040e963d0aeed73747b1a0cf0631aa6d">ACT_DATA_READY</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00157">ide_disk.hh:157</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a11f4d653b474b99bf5796f4be62f72c6ac88c15837f00c88c0dbda9f774a9f689"><div class="ttname"><a href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6ac88c15837f00c88c0dbda9f774a9f689">Device_Srst</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00175">ide_disk.hh:175</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a11f4d653b474b99bf5796f4be62f72c6"><div class="ttname"><a href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6">DevState</a></div><div class="ttdeci">DevState</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00168">ide_disk.hh:168</a></div></div>
<div class="ttc" id="structCommandReg_html_aee09b2cbdc055ff78fd85a7cbcbc9730"><div class="ttname"><a href="structCommandReg.html#aee09b2cbdc055ff78fd85a7cbcbc9730">CommandReg::drive</a></div><div class="ttdeci">uint8_t drive</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00134">ide_disk.hh:134</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a6d24123c25308f8d0b135602dca13b8d"><div class="ttname"><a href="ide__disk_8hh.html#a6d24123c25308f8d0b135602dca13b8d">STATUS_SEEK_BIT</a></div><div class="ttdeci">#define STATUS_SEEK_BIT</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00119">ide_disk.hh:119</a></div></div>
<div class="ttc" id="structCommandReg_html_a43ec118cec811fe3feb68607db1a1112"><div class="ttname"><a href="structCommandReg.html#a43ec118cec811fe3feb68607db1a1112">CommandReg::sec_count</a></div><div class="ttdeci">uint8_t sec_count</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00129">ide_disk.hh:129</a></div></div>
<div class="ttc" id="classIdeDisk_html_a66bbef24ae781926545e812bbcd2266d"><div class="ttname"><a href="classIdeDisk.html#a66bbef24ae781926545e812bbcd2266d">IdeDisk::cmdBytesLeft</a></div><div class="ttdeci">uint32_t cmdBytesLeft</div><div class="ttdoc">Number of bytes left in command data transfer. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00227">ide_disk.hh:227</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_ab811aa466b9304fc1fc7edf03adb3ebc"><div class="ttname"><a href="ide__disk_8hh.html#ab811aa466b9304fc1fc7edf03adb3ebc">Events_t</a></div><div class="ttdeci">enum Events Events_t</div></div>
<div class="ttc" id="ide__disk_8hh_html_a11f4d653b474b99bf5796f4be62f72c6a64d0d40fb6f851777564c89760787a96"><div class="ttname"><a href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6a64d0d40fb6f851777564c89760787a96">Transfer_Data_Dma</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00192">ide_disk.hh:192</a></div></div>
<div class="ttc" id="classIdeDisk_html_a5bc02fec3a29e6997fe553d03396a727"><div class="ttname"><a href="classIdeDisk.html#a5bc02fec3a29e6997fe553d03396a727">IdeDisk::dmaReadBytes</a></div><div class="ttdeci">Stats::Scalar dmaReadBytes</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00258">ide_disk.hh:258</a></div></div>
<div class="ttc" id="classChunkGenerator_html"><div class="ttname"><a href="classChunkGenerator.html">ChunkGenerator</a></div><div class="ttdoc">This class takes an arbitrary memory region (address/length pair) and generates a series of appropria...</div><div class="ttdef"><b>Definition:</b> <a href="chunk__generator_8hh_source.html#l00057">chunk_generator.hh:57</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a11f4d653b474b99bf5796f4be62f72c6ad03435c752fd718ef93cc2988775da64"><div class="ttname"><a href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6ad03435c752fd718ef93cc2988775da64">Prepare_Data_Out</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00186">ide_disk.hh:186</a></div></div>
<div class="ttc" id="classIdeDisk_html_aab6e17c5b89e96845d53777a0563c98a"><div class="ttname"><a href="classIdeDisk.html#aab6e17c5b89e96845d53777a0563c98a">IdeDisk::getLBABase</a></div><div class="ttdeci">uint32_t getLBABase()</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00359">ide_disk.hh:359</a></div></div>
<div class="ttc" id="structPrdEntry_html_ab71bce2177cb6832ea9e474ef7b8a768"><div class="ttname"><a href="structPrdEntry.html#ab71bce2177cb6832ea9e474ef7b8a768">PrdEntry::byteCount</a></div><div class="ttdeci">uint16_t byteCount</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00073">ide_disk.hh:73</a></div></div>
<div class="ttc" id="cpu_2thread__context_8cc_html_ab10299a575f9a9cd4e1d8e88cb12376f"><div class="ttname"><a href="cpu_2thread__context_8cc.html#ab10299a575f9a9cd4e1d8e88cb12376f">serialize</a></div><div class="ttdeci">void serialize(const ThreadContext &amp;tc, CheckpointOut &amp;cp)</div><div class="ttdoc">Thread context serialization helpers. </div><div class="ttdef"><b>Definition:</b> <a href="cpu_2thread__context_8cc_source.html#l00166">thread_context.cc:166</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a11f4d653b474b99bf5796f4be62f72c6a132a29467ed2679d80bc8119545df28f"><div class="ttname"><a href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6a132a29467ed2679d80bc8119545df28f">Data_Ready_INTRQ_Out</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00187">ide_disk.hh:187</a></div></div>
<div class="ttc" id="classIdeDisk_html_ab6c19cdc8812d22ac8e445be562af940"><div class="ttname"><a href="classIdeDisk.html#ab6c19cdc8812d22ac8e445be562af940">IdeDisk::dmaWriteEvent</a></div><div class="ttdeci">EventFunctionWrapper dmaWriteEvent</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00335">ide_disk.hh:335</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_abe49db4804c1744e30c8df026681eaf0"><div class="ttname"><a href="ide__disk_8hh.html#abe49db4804c1744e30c8df026681eaf0">DevState_t</a></div><div class="ttdeci">enum DevState DevState_t</div></div>
<div class="ttc" id="classDiskImage_html"><div class="ttname"><a href="classDiskImage.html">DiskImage</a></div><div class="ttdoc">Basic interface for accessing a disk image. </div><div class="ttdef"><b>Definition:</b> <a href="disk__image_8hh_source.html#l00051">disk_image.hh:51</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a398a1d251e78562f1eccfb43ad5fdf49"><div class="ttname"><a href="ide__disk_8hh.html#a398a1d251e78562f1eccfb43ad5fdf49">DmaState_t</a></div><div class="ttdeci">enum DmaState DmaState_t</div></div>
<div class="ttc" id="ide__disk_8hh_html_af60e00b78607064c5be6aa9397ea49c1a269f4f627793c0b24baf513c619e76ae"><div class="ttname"><a href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1a269f4f627793c0b24baf513c619e76ae">WriteWait</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00144">ide_disk.hh:144</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a3bae184d288bce92398b814aa118c15c"><div class="ttname"><a href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15c">DevAction</a></div><div class="ttdeci">DevAction</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00150">ide_disk.hh:150</a></div></div>
<div class="ttc" id="base_2types_8hh_html_af1bb03d6a4ee096394a6749f0a169232"><div class="ttname"><a href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a></div><div class="ttdeci">uint64_t Addr</div><div class="ttdoc">Address type This will probably be moved somewhere else in the near future. </div><div class="ttdef"><b>Definition:</b> <a href="base_2types_8hh_source.html#l00142">types.hh:142</a></div></div>
<div class="ttc" id="classPrdTableEntry_html_a95eaacf27ebdfd6cae60fc3411c0b509"><div class="ttname"><a href="classPrdTableEntry.html#a95eaacf27ebdfd6cae60fc3411c0b509">PrdTableEntry::getBaseAddr</a></div><div class="ttdeci">uint32_t getBaseAddr()</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00081">ide_disk.hh:81</a></div></div>
<div class="ttc" id="classCheckpointIn_html"><div class="ttname"><a href="classCheckpointIn.html">CheckpointIn</a></div><div class="ttdef"><b>Definition:</b> <a href="serialize_8hh_source.html#l00072">serialize.hh:72</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a3bae184d288bce92398b814aa118c15cae1dd7a3a517c2f858845012756768591"><div class="ttname"><a href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15cae1dd7a3a517c2f858845012756768591">ACT_CMD_WRITE</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00152">ide_disk.hh:152</a></div></div>
<div class="ttc" id="classIdeDisk_html_a8a8c130186637ca02c48b62b5a7011aa"><div class="ttname"><a href="classIdeDisk.html#a8a8c130186637ca02c48b62b5a7011aa">IdeDisk::curSector</a></div><div class="ttdeci">uint32_t curSector</div><div class="ttdoc">Current sector in access. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00231">ide_disk.hh:231</a></div></div>
<div class="ttc" id="classIdeDisk_html_a2e4505c67b7a21051e605ef7499ef831"><div class="ttname"><a href="classIdeDisk.html#a2e4505c67b7a21051e605ef7499ef831">IdeDisk::pageBytes</a></div><div class="ttdeci">Addr pageBytes</div><div class="ttdoc">Size of OS pages. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00245">ide_disk.hh:245</a></div></div>
<div class="ttc" id="classIdeDisk_html_a266e04c5c79fb69d984145b9002d7d31"><div class="ttname"><a href="classIdeDisk.html#a266e04c5c79fb69d984145b9002d7d31">IdeDisk::status</a></div><div class="ttdeci">uint8_t status</div><div class="ttdoc">Status register. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00235">ide_disk.hh:235</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a3bae184d288bce92398b814aa118c15ca569047ea4f8599fd76feb7ad76b1e0dc"><div class="ttname"><a href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca569047ea4f8599fd76feb7ad76b1e0dc">ACT_DATA_READ_SHORT</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00159">ide_disk.hh:159</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_af60e00b78607064c5be6aa9397ea49c1a1639c08b8811b3c45c069169cea66e7a"><div class="ttname"><a href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1a1639c08b8811b3c45c069169cea66e7a">DmaRead</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00146">ide_disk.hh:146</a></div></div>
<div class="ttc" id="classIdeDisk_html_a4b650e3c33e92b9f522fdd96d92474ec"><div class="ttname"><a href="classIdeDisk.html#a4b650e3c33e92b9f522fdd96d92474ec">IdeDisk::dmaPrdReadEvent</a></div><div class="ttdeci">EventFunctionWrapper dmaPrdReadEvent</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00329">ide_disk.hh:329</a></div></div>
<div class="ttc" id="classIdeDisk_html_aafb2f9cd4cada38f4ac2f73a31da84c8"><div class="ttname"><a href="classIdeDisk.html#aafb2f9cd4cada38f4ac2f73a31da84c8">IdeDisk::devState</a></div><div class="ttdeci">DevState_t devState</div><div class="ttdoc">Device state. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00239">ide_disk.hh:239</a></div></div>
<div class="ttc" id="classIdeDisk_html_a964ba7557c45b954bcf288fa39939595"><div class="ttname"><a href="classIdeDisk.html#a964ba7557c45b954bcf288fa39939595">IdeDisk::dmaWriteWaitEvent</a></div><div class="ttdeci">EventFunctionWrapper dmaWriteWaitEvent</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00326">ide_disk.hh:326</a></div></div>
<div class="ttc" id="structCommandReg_html_ac18c8362898dfd2dd7177f22bacd838f"><div class="ttname"><a href="structCommandReg.html#ac18c8362898dfd2dd7177f22bacd838f">CommandReg::data</a></div><div class="ttdeci">uint16_t data</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00127">ide_disk.hh:127</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_ab9a7252f05d40d629a2b3e780862846c"><div class="ttname"><a href="ide__disk_8hh.html#ab9a7252f05d40d629a2b3e780862846c">DevAction_t</a></div><div class="ttdeci">enum DevAction DevAction_t</div></div>
<div class="ttc" id="classIdeDisk_html_a8bf1d1ec61945d009ac30b47afcd1a43"><div class="ttname"><a href="classIdeDisk.html#a8bf1d1ec61945d009ac30b47afcd1a43">IdeDisk::dmaReadCG</a></div><div class="ttdeci">ChunkGenerator * dmaReadCG</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00319">ide_disk.hh:319</a></div></div>
<div class="ttc" id="structPrdEntry_html_a9db8ec556ce465820978aeb0fad3b07f"><div class="ttname"><a href="structPrdEntry.html#a9db8ec556ce465820978aeb0fad3b07f">PrdEntry::endOfTable</a></div><div class="ttdeci">uint16_t endOfTable</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00074">ide_disk.hh:74</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a3bae184d288bce92398b814aa118c15caf1ee39018887e21bccccb4d0ddf0ac50"><div class="ttname"><a href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15caf1ee39018887e21bccccb4d0ddf0ac50">ACT_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00151">ide_disk.hh:151</a></div></div>
<div class="ttc" id="classIdeDisk_html_a1c9363a5863c2d16d323556076fb2d5e"><div class="ttname"><a href="classIdeDisk.html#a1c9363a5863c2d16d323556076fb2d5e">IdeDisk::cmdBytes</a></div><div class="ttdeci">uint32_t cmdBytes</div><div class="ttdoc">Number of bytes in command data transfer. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00225">ide_disk.hh:225</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a3d03a0c27c2a175009ae7cb5f1a5b5e1"><div class="ttname"><a href="ide__disk_8hh.html#a3d03a0c27c2a175009ae7cb5f1a5b5e1">STATUS_BSY_BIT</a></div><div class="ttdeci">#define STATUS_BSY_BIT</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00116">ide_disk.hh:116</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a3bae184d288bce92398b814aa118c15ca8a6e319f6c3971a39132513d188576fd"><div class="ttname"><a href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca8a6e319f6c3971a39132513d188576fd">ACT_SRST_CLEAR</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00165">ide_disk.hh:165</a></div></div>
<div class="ttc" id="classIdeDisk_html_af18f3198f5513c04d6d101700f8c8880"><div class="ttname"><a href="classIdeDisk.html#af18f3198f5513c04d6d101700f8c8880">IdeDisk::isBSYSet</a></div><div class="ttdeci">bool isBSYSet()</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00345">ide_disk.hh:345</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a0bcee6e9fd01e441176bd95db85fb66f"><div class="ttname"><a href="ide__disk_8hh.html#a0bcee6e9fd01e441176bd95db85fb66f">PRD_BASE_MASK</a></div><div class="ttdeci">#define PRD_BASE_MASK</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00067">ide_disk.hh:67</a></div></div>
<div class="ttc" id="classIdeDisk_html_ae852f1a2f06c7cf1f7cf5abb77c902ab"><div class="ttname"><a href="classIdeDisk.html#ae852f1a2f06c7cf1f7cf5abb77c902ab">IdeDisk::curPrd</a></div><div class="ttdeci">PrdTableEntry curPrd</div><div class="ttdoc">PRD entry. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00249">ide_disk.hh:249</a></div></div>
<div class="ttc" id="eventq_8hh_html"><div class="ttname"><a href="eventq_8hh.html">eventq.hh</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a8adb9656d6ea50580adaf9c8e7d9eebfa1479e31de2b235a422d366215ade33d4"><div class="ttname"><a href="ide__disk_8hh.html#a8adb9656d6ea50580adaf9c8e7d9eebfa1479e31de2b235a422d366215ade33d4">Dma_Transfer</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00199">ide_disk.hh:199</a></div></div>
<div class="ttc" id="structCommandReg_html_af70f2b191f9bc6102874fcef7b191ac7"><div class="ttname"><a href="structCommandReg.html#af70f2b191f9bc6102874fcef7b191ac7">CommandReg::cyl_low</a></div><div class="ttdeci">uint8_t cyl_low</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00131">ide_disk.hh:131</a></div></div>
<div class="ttc" id="namespaceArmISA_html_a21f7b327cbedf079597394ec2c3f2a6d"><div class="ttname"><a href="namespaceArmISA.html#a21f7b327cbedf079597394ec2c3f2a6d">ArmISA::c</a></div><div class="ttdeci">Bitfield&lt; 29 &gt; c</div><div class="ttdef"><b>Definition:</b> <a href="miscregs__types_8hh_source.html#l00053">miscregs_types.hh:53</a></div></div>
<div class="ttc" id="structataparams_html"><div class="ttname"><a href="structataparams.html">ataparams</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__atareg_8h_source.html#l00067">ide_atareg.h:67</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a11f4d653b474b99bf5796f4be62f72c6ae8a630d79f6da7a97bcae438a9bfd1db"><div class="ttname"><a href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6ae8a630d79f6da7a97bcae438a9bfd1db">Device_Idle_NS</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00172">ide_disk.hh:172</a></div></div>
<div class="ttc" id="classIdeDisk_html"><div class="ttname"><a href="classIdeDisk.html">IdeDisk</a></div><div class="ttdoc">IDE Disk device model. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00207">ide_disk.hh:207</a></div></div>
<div class="ttc" id="classIdeDisk_html_aa3efc0dcd51b3abc2b4bfc2e0170b376"><div class="ttname"><a href="classIdeDisk.html#aa3efc0dcd51b3abc2b4bfc2e0170b376">IdeDisk::cmdReg</a></div><div class="ttdeci">CommandReg_t cmdReg</div><div class="ttdoc">Command block registers. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00233">ide_disk.hh:233</a></div></div>
<div class="ttc" id="classIdeDisk_html_ab448b84408ef3d5d4199468220fd291c"><div class="ttname"><a href="classIdeDisk.html#ab448b84408ef3d5d4199468220fd291c">IdeDisk::intrPending</a></div><div class="ttdeci">bool intrPending</div><div class="ttdoc">Interrupt pending. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00253">ide_disk.hh:253</a></div></div>
<div class="ttc" id="serialize_8hh_html_a821b5f5905353967b548ad54944d553e"><div class="ttname"><a href="serialize_8hh.html#a821b5f5905353967b548ad54944d553e">CheckpointOut</a></div><div class="ttdeci">std::ostream CheckpointOut</div><div class="ttdef"><b>Definition:</b> <a href="serialize_8hh_source.html#l00068">serialize.hh:68</a></div></div>
<div class="ttc" id="classIdeDisk_html_ace56631e5a30f7ecdb2c6b9fb8beec74"><div class="ttname"><a href="classIdeDisk.html#ace56631e5a30f7ecdb2c6b9fb8beec74">IdeDisk::dmaReadWaitEvent</a></div><div class="ttdeci">EventFunctionWrapper dmaReadWaitEvent</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00320">ide_disk.hh:320</a></div></div>
<div class="ttc" id="classIdeDisk_html_a9238edf12b9caccb5925aa6ad06a2fdc"><div class="ttname"><a href="classIdeDisk.html#a9238edf12b9caccb5925aa6ad06a2fdc">IdeDisk::Params</a></div><div class="ttdeci">IdeDiskParams Params</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00265">ide_disk.hh:265</a></div></div>
<div class="ttc" id="classEventFunctionWrapper_html"><div class="ttname"><a href="classEventFunctionWrapper.html">EventFunctionWrapper</a></div><div class="ttdef"><b>Definition:</b> <a href="eventq_8hh_source.html#l00819">eventq.hh:819</a></div></div>
<div class="ttc" id="classIdeDisk_html_a8db1be4def8a0b2c19524111ceb070b8"><div class="ttname"><a href="classIdeDisk.html#a8db1be4def8a0b2c19524111ceb070b8">IdeDisk::dmaRead</a></div><div class="ttdeci">bool dmaRead</div><div class="ttdoc">Dma transaction is a read. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00243">ide_disk.hh:243</a></div></div>
<div class="ttc" id="disk__image_8hh_html"><div class="ttname"><a href="disk__image_8hh.html">disk_image.hh</a></div><div class="ttdoc">Disk Image Interfaces. </div></div>
<div class="ttc" id="classIdeDisk_html_ad4cd586188483fb64a96667595b4096d"><div class="ttname"><a href="classIdeDisk.html#ad4cd586188483fb64a96667595b4096d">IdeDisk::isIENSet</a></div><div class="ttdeci">bool isIENSet()</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00346">ide_disk.hh:346</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a3bae184d288bce92398b814aa118c15ca6610e6fb837bbd223db1436df81ef3d7"><div class="ttname"><a href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca6610e6fb837bbd223db1436df81ef3d7">ACT_SELECT_WRITE</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00155">ide_disk.hh:155</a></div></div>
<div class="ttc" id="structCommandReg_html_af31f9125e698d6612bb50d4e290d6c28"><div class="ttname"><a href="structCommandReg.html#af31f9125e698d6612bb50d4e290d6c28">CommandReg::sec_num</a></div><div class="ttdeci">uint8_t sec_num</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00130">ide_disk.hh:130</a></div></div>
<div class="ttc" id="ide__wdcreg_8h_html"><div class="ttname"><a href="ide__wdcreg_8h.html">ide_wdcreg.h</a></div></div>
<div class="ttc" id="classIdeDisk_html_a7b86acfe5e5cba9dd326abf3615a3006"><div class="ttname"><a href="classIdeDisk.html#a7b86acfe5e5cba9dd326abf3615a3006">IdeDisk::dmaReadFullPages</a></div><div class="ttdeci">Stats::Scalar dmaReadFullPages</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00257">ide_disk.hh:257</a></div></div>
<div class="ttc" id="structCommandReg_html"><div class="ttname"><a href="structCommandReg.html">CommandReg</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00126">ide_disk.hh:126</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_ab8255d1245e66901dbf984fcb88b39b2"><div class="ttname"><a href="ide__disk_8hh.html#ab8255d1245e66901dbf984fcb88b39b2">STATUS_DRDY_BIT</a></div><div class="ttdeci">#define STATUS_DRDY_BIT</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00117">ide_disk.hh:117</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_af60e00b78607064c5be6aa9397ea49c1a9335332362efb228e15c6580aef09dd9"><div class="ttname"><a href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1a9335332362efb228e15c6580aef09dd9">PrdRead</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00145">ide_disk.hh:145</a></div></div>
<div class="ttc" id="classIdeDisk_html_ac95026ec24ec308e4c4a6faabb58791c"><div class="ttname"><a href="classIdeDisk.html#ac95026ec24ec308e4c4a6faabb58791c">IdeDisk::ctrl</a></div><div class="ttdeci">IdeController * ctrl</div><div class="ttdoc">The IDE controller for this disk. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00211">ide_disk.hh:211</a></div></div>
<div class="ttc" id="cpu_2thread__context_8cc_html_a75b6add5a3eb4dbc9d77da3d534958bb"><div class="ttname"><a href="cpu_2thread__context_8cc.html#a75b6add5a3eb4dbc9d77da3d534958bb">unserialize</a></div><div class="ttdeci">void unserialize(ThreadContext &amp;tc, CheckpointIn &amp;cp)</div><div class="ttdef"><b>Definition:</b> <a href="cpu_2thread__context_8cc_source.html#l00207">thread_context.cc:207</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a3bae184d288bce92398b814aa118c15ca3af5a74985a6671feb0d9bb3bff9a543"><div class="ttname"><a href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15ca3af5a74985a6671feb0d9bb3bff9a543">ACT_DATA_WRITE_SHORT</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00161">ide_disk.hh:161</a></div></div>
<div class="ttc" id="classIdeDisk_html_a9838790d395ab083a8220146b815ffe1"><div class="ttname"><a href="classIdeDisk.html#a9838790d395ab083a8220146b815ffe1">IdeDisk::dmaTransferEvent</a></div><div class="ttdeci">EventFunctionWrapper dmaTransferEvent</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00314">ide_disk.hh:314</a></div></div>
<div class="ttc" id="classIdeDisk_html_af8e992b69dd1a33fd301582cbd60ff7c"><div class="ttname"><a href="classIdeDisk.html#af8e992b69dd1a33fd301582cbd60ff7c">IdeDisk::dataBuffer</a></div><div class="ttdeci">uint8_t * dataBuffer</div><div class="ttdoc">Data buffer for transfers. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00223">ide_disk.hh:223</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a11f4d653b474b99bf5796f4be62f72c6ab0c139f4bbab430ab7b877aa8e211217"><div class="ttname"><a href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6ab0c139f4bbab430ab7b877aa8e211217">Command_Execution</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00178">ide_disk.hh:178</a></div></div>
<div class="ttc" id="classPrdTableEntry_html_a1258cc5e72e901e3c0c487502eb9bb48"><div class="ttname"><a href="classPrdTableEntry.html#a1258cc5e72e901e3c0c487502eb9bb48">PrdTableEntry::getEOT</a></div><div class="ttdeci">uint16_t getEOT()</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00092">ide_disk.hh:92</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a11f4d653b474b99bf5796f4be62f72c6a9aa9d424633dc557b88576993e7a413c"><div class="ttname"><a href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6a9aa9d424633dc557b88576993e7a413c">Data_Ready_INTRQ_In</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00182">ide_disk.hh:182</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a3bae184d288bce92398b814aa118c15cacce8d2685977821326c313a603e35f7a"><div class="ttname"><a href="ide__disk_8hh.html#a3bae184d288bce92398b814aa118c15cacce8d2685977821326c313a603e35f7a">ACT_DMA_DONE</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00163">ide_disk.hh:163</a></div></div>
<div class="ttc" id="classIdeDisk_html_af87c45e525add36b78537f666bedb35a"><div class="ttname"><a href="classIdeDisk.html#af87c45e525add36b78537f666bedb35a">IdeDisk::setController</a></div><div class="ttdeci">void setController(IdeController *c, Addr page_bytes)</div><div class="ttdoc">Set the controller for this device. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00288">ide_disk.hh:288</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a8adb9656d6ea50580adaf9c8e7d9eebfae35abb19ade6161b3817f6dd498ca711"><div class="ttname"><a href="ide__disk_8hh.html#a8adb9656d6ea50580adaf9c8e7d9eebfae35abb19ade6161b3817f6dd498ca711">Dma_Start</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00198">ide_disk.hh:198</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_af60e00b78607064c5be6aa9397ea49c1a8601472b66eb7a6b3a758080ad6c8a81"><div class="ttname"><a href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1a8601472b66eb7a6b3a758080ad6c8a81">ReadWait</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00143">ide_disk.hh:143</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_a11f4d653b474b99bf5796f4be62f72c6aed547cd1619ef3146a31732b777681ee"><div class="ttname"><a href="ide__disk_8hh.html#a11f4d653b474b99bf5796f4be62f72c6aed547cd1619ef3146a31732b777681ee">Prepare_Data_Dma</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00191">ide_disk.hh:191</a></div></div>
<div class="ttc" id="namespaceMipsISA_html_ae12ae9e12fab22594609e2fefce7f7c2"><div class="ttname"><a href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">MipsISA::p</a></div><div class="ttdeci">Bitfield&lt; 0 &gt; p</div><div class="ttdef"><b>Definition:</b> <a href="mips_2pra__constants_8hh_source.html#l00325">pra_constants.hh:325</a></div></div>
<div class="ttc" id="logging_8hh_html_af5c59b879d6a32dc657018ab3d30198f"><div class="ttname"><a href="logging_8hh.html#af5c59b879d6a32dc657018ab3d30198f">panic_if</a></div><div class="ttdeci">#define panic_if(cond,...)</div><div class="ttdoc">Conditional panic macro that checks the supplied condition and only panics if the condition is true a...</div><div class="ttdef"><b>Definition:</b> <a href="logging_8hh_source.html#l00185">logging.hh:185</a></div></div>
<div class="ttc" id="circlebuf_8test_8cc_html_ac89b5786f65419c30c7a97e2d5c40fe9"><div class="ttname"><a href="circlebuf_8test_8cc.html#ac89b5786f65419c30c7a97e2d5c40fe9">data</a></div><div class="ttdeci">const char data[]</div><div class="ttdef"><b>Definition:</b> <a href="circlebuf_8test_8cc_source.html#l00044">circlebuf.test.cc:44</a></div></div>
<div class="ttc" id="classIdeDisk_html_a4cefcc0c41d27f813825874e4f03aa1a"><div class="ttname"><a href="classIdeDisk.html#a4cefcc0c41d27f813825874e4f03aa1a">IdeDisk::setComplete</a></div><div class="ttdeci">void setComplete()</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00349">ide_disk.hh:349</a></div></div>
<div class="ttc" id="classIdeDisk_html_a6eeb19e20679b0bfc6583122d43af778"><div class="ttname"><a href="classIdeDisk.html#a6eeb19e20679b0bfc6583122d43af778">IdeDisk::dmaWriteFullPages</a></div><div class="ttdeci">Stats::Scalar dmaWriteFullPages</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00260">ide_disk.hh:260</a></div></div>
<div class="ttc" id="classSimObject_html"><div class="ttname"><a href="classSimObject.html">SimObject</a></div><div class="ttdoc">Abstract superclass for simulation objects. </div><div class="ttdef"><b>Definition:</b> <a href="sim__object_8hh_source.html#l00096">sim_object.hh:96</a></div></div>
<div class="ttc" id="classIdeDisk_html_a6573147e3b76493984fcf8027c415aa3"><div class="ttname"><a href="classIdeDisk.html#a6573147e3b76493984fcf8027c415aa3">IdeDisk::diskDelay</a></div><div class="ttdeci">int diskDelay</div><div class="ttdoc">The disk delay in microseconds. </div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00217">ide_disk.hh:217</a></div></div>
<div class="ttc" id="io__device_8hh_html"><div class="ttname"><a href="io__device_8hh.html">io_device.hh</a></div></div>
<div class="ttc" id="ide__disk_8hh_html_af60e00b78607064c5be6aa9397ea49c1a0f6148e320034642ee8ec78d5cbb03aa"><div class="ttname"><a href="ide__disk_8hh.html#af60e00b78607064c5be6aa9397ea49c1a0f6148e320034642ee8ec78d5cbb03aa">Transfer</a></div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00142">ide_disk.hh:142</a></div></div>
<div class="ttc" id="classIdeDisk_html_aab9d1f995e0f10f82179a0120c584ad4"><div class="ttname"><a href="classIdeDisk.html#aab9d1f995e0f10f82179a0120c584ad4">IdeDisk::dmaWriteTxs</a></div><div class="ttdeci">Stats::Scalar dmaWriteTxs</div><div class="ttdef"><b>Definition:</b> <a href="ide__disk_8hh_source.html#l00262">ide_disk.hh:262</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<hr size="1"><address style="align: right;"><small>
Generated on Mon Nov 25 2019 12:52:08 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.8.13</small></address>
</body>
</html>
