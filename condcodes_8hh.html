<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gem5: base/condcodes.hh File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">gem5
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e914ee4d4a44400f1fdb170cb4ead18a.html">base</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">condcodes.hh File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="bitfield_8hh_source.html">base/bitfield.hh</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="base_2trace_8hh_source.html">base/trace.hh</a>&quot;</code><br />
</div>
<p><a href="condcodes_8hh_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af1b1c69a86b8cee6804f7df3ccfeea1e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="condcodes_8hh.html#af1b1c69a86b8cee6804f7df3ccfeea1e">findCarry</a> (int width, uint64_t dest, uint64_t src1, uint64_t src2)</td></tr>
<tr class="memdesc:af1b1c69a86b8cee6804f7df3ccfeea1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the carry flag from an addition.  <a href="#af1b1c69a86b8cee6804f7df3ccfeea1e">More...</a><br /></td></tr>
<tr class="separator:af1b1c69a86b8cee6804f7df3ccfeea1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8af463ce20b2c4519622e1c79100057"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="condcodes_8hh.html#ab8af463ce20b2c4519622e1c79100057">findOverflow</a> (int width, uint64_t dest, uint64_t src1, uint64_t src2)</td></tr>
<tr class="memdesc:ab8af463ce20b2c4519622e1c79100057"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the overflow flag from an addition.  <a href="#ab8af463ce20b2c4519622e1c79100057">More...</a><br /></td></tr>
<tr class="separator:ab8af463ce20b2c4519622e1c79100057"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b5d8a69b154bcb06d1fef2db3ed24c7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="condcodes_8hh.html#a8b5d8a69b154bcb06d1fef2db3ed24c7">findParity</a> (int width, uint64_t dest)</td></tr>
<tr class="memdesc:a8b5d8a69b154bcb06d1fef2db3ed24c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the parity of a value.  <a href="#a8b5d8a69b154bcb06d1fef2db3ed24c7">More...</a><br /></td></tr>
<tr class="separator:a8b5d8a69b154bcb06d1fef2db3ed24c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43e1d3b7ba28675edcf5c15acb397516"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="condcodes_8hh.html#a43e1d3b7ba28675edcf5c15acb397516">findNegative</a> (int width, uint64_t dest)</td></tr>
<tr class="memdesc:a43e1d3b7ba28675edcf5c15acb397516"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the negative flag.  <a href="#a43e1d3b7ba28675edcf5c15acb397516">More...</a><br /></td></tr>
<tr class="separator:a43e1d3b7ba28675edcf5c15acb397516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6d1aef2bae3d34668b695f62ed7bace"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="condcodes_8hh.html#ac6d1aef2bae3d34668b695f62ed7bace">findZero</a> (int width, uint64_t dest)</td></tr>
<tr class="memdesc:ac6d1aef2bae3d34668b695f62ed7bace"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the zero flag.  <a href="#ac6d1aef2bae3d34668b695f62ed7bace">More...</a><br /></td></tr>
<tr class="separator:ac6d1aef2bae3d34668b695f62ed7bace"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="af1b1c69a86b8cee6804f7df3ccfeea1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1b1c69a86b8cee6804f7df3ccfeea1e">&#9670;&nbsp;</a></span>findCarry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool findCarry </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>src1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>src2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the carry flag from an addition. </p>
<p>This should work even when a carry value is also added in.</p>
<p>Parameters: dest: The result value of the addition. src1: One of the addends that was added. src2: The other addend that was added in.</p>
<p>Rationale: This code analyzes the most sig. bits of the source addends and result, and deduces the carry out flag from them without needing the carry in bit.</p>
<p>Observe that we have four cases after an addition regarding the carry in and carry out bits:</p>
<p>If we have no carry in but a carry out: src1 and src2 must both be 1, with the result bit being 0. Hence, ~0 + 1 + 1 =&gt; 11, which has a high second bit. We return true.</p>
<p>If we have a carry in and a carry out: src1 and src2 can either be 1 and 0, or vice versa. In this case, the addition with the carry in gives a result bit of 0 but a carry out. Hence, ~0 + 1 + 0 =&gt; 10, or ~0 + 0 + 1 =&gt; 10. We return true.</p>
<p>Or, src1 and src2 can both be one. Along with the carry, this gives a result of 1 and a carry out of 1. Hence, ~1 + 1 + 1 =&gt; 10. We return true.</p>
<p>If we have no carry in and no carry out: src1 and src2 can either be 1 and 0, 0 and 1, or 0 and 0. In the first two cases the result bit is 1, which when negated does not contribute to the sum algorithm at all. In the last case the result bit is zero, but neither src1 nor src2 contribute to the sum either. Hence, ~1 + 1 + 0 =&gt; 1, ~1 + 0 + 1 =&gt; 1, ~0 + 0 + 0 =&gt; 1. So we return false for all of these cases.</p>
<p>If we have a carry in, but no carry out: src1 and src2 can neither be 1. So the overall result bit is 1. Hence: ~1 + 0 + 0 =&gt; 0. We return false. </p>

<p class="definition">Definition at line <a class="el" href="condcodes_8hh_source.html#l00083">83</a> of file <a class="el" href="condcodes_8hh_source.html">condcodes.hh</a>.</p>

<p class="reference">References <a class="el" href="arch_2arm_2types_8hh_source.html#l00127">ArmISA::shift</a>.</p>

<p class="reference">Referenced by <a class="el" href="microregop_8cc_source.html#l00050">X86ISA::RegOpBase::genFlags()</a>, and <a class="el" href="condcodes_8test_8cc_source.html#l00040">TEST()</a>.</p>

</div>
</div>
<a id="a43e1d3b7ba28675edcf5c15acb397516"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43e1d3b7ba28675edcf5c15acb397516">&#9670;&nbsp;</a></span>findNegative()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool findNegative </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the negative flag. </p>

<p class="definition">Definition at line <a class="el" href="condcodes_8hh_source.html#l00134">134</a> of file <a class="el" href="condcodes_8hh_source.html">condcodes.hh</a>.</p>

<p class="reference">References <a class="el" href="bitfield_8hh_source.html#l00072">bits()</a>.</p>

<p class="reference">Referenced by <a class="el" href="microregop_8cc_source.html#l00050">X86ISA::RegOpBase::genFlags()</a>, and <a class="el" href="condcodes_8test_8cc_source.html#l00240">TEST()</a>.</p>

</div>
</div>
<a id="ab8af463ce20b2c4519622e1c79100057"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8af463ce20b2c4519622e1c79100057">&#9670;&nbsp;</a></span>findOverflow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool findOverflow </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>src1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>src2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the overflow flag from an addition. </p>

<p class="definition">Definition at line <a class="el" href="condcodes_8hh_source.html#l00095">95</a> of file <a class="el" href="condcodes_8hh_source.html">condcodes.hh</a>.</p>

<p class="reference">References <a class="el" href="arch_2arm_2types_8hh_source.html#l00127">ArmISA::shift</a>, and <a class="el" href="base_2types_8hh_source.html#l00050">ULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="microregop_8cc_source.html#l00050">X86ISA::RegOpBase::genFlags()</a>, and <a class="el" href="condcodes_8test_8cc_source.html#l00173">TEST()</a>.</p>

</div>
</div>
<a id="a8b5d8a69b154bcb06d1fef2db3ed24c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b5d8a69b154bcb06d1fef2db3ed24c7">&#9670;&nbsp;</a></span>findParity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool findParity </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the parity of a value. </p>
<p>1 is for odd parity and 0 is for even.</p>
<p>Parameters: dest: a value to be tested.</p>
<p>Rationale: findParity simply performs bitwise XOR operations on each "pair" of bits in the dest parameter; the procedure being that a pair of ones will be XOR'ed out of the intermediate value.</p>
<p>This process is repeated until one last pair of bits are XOR'ed together. If the intermediate is still one, then there is exactly one high bit which does not have a corresponding high bit. Therefore, the value must have odd parity, and we return 1 accordingly. Otherwise we return 0. </p>

<p class="definition">Definition at line <a class="el" href="condcodes_8hh_source.html#l00118">118</a> of file <a class="el" href="condcodes_8hh_source.html">condcodes.hh</a>.</p>

<p class="reference">References <a class="el" href="arch_2arm_2types_8hh_source.html#l00064">ArmISA::mask</a>.</p>

<p class="reference">Referenced by <a class="el" href="microregop_8cc_source.html#l00050">X86ISA::RegOpBase::genFlags()</a>, and <a class="el" href="condcodes_8test_8cc_source.html#l00220">TEST()</a>.</p>

</div>
</div>
<a id="ac6d1aef2bae3d34668b695f62ed7bace"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6d1aef2bae3d34668b695f62ed7bace">&#9670;&nbsp;</a></span>findZero()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool findZero </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the zero flag. </p>

<p class="definition">Definition at line <a class="el" href="condcodes_8hh_source.html#l00143">143</a> of file <a class="el" href="condcodes_8hh_source.html">condcodes.hh</a>.</p>

<p class="reference">References <a class="el" href="arch_2arm_2types_8hh_source.html#l00064">ArmISA::mask</a>.</p>

<p class="reference">Referenced by <a class="el" href="microregop_8cc_source.html#l00050">X86ISA::RegOpBase::genFlags()</a>, and <a class="el" href="condcodes_8test_8cc_source.html#l00250">TEST()</a>.</p>

</div>
</div>
</div><!-- contents -->
<hr size="1"><address style="align: right;"><small>
Generated on Mon Nov 25 2019 12:52:12 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.8.13</small></address>
</body>
</html>
