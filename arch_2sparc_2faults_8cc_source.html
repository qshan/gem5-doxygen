<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gem5: arch/sparc/faults.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">gem5
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ea9599923402ca8ab47fc3e495999dea.html">arch</a></li><li class="navelem"><a class="el" href="dir_e8c39d4b544d7c2848b26cb06875cdea.html">sparc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">faults.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="arch_2sparc_2faults_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2003-2005 The Regents of The University of Michigan</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * All rights reserved.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Redistribution and use in source and binary forms, with or without</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * modification, are permitted provided that the following conditions are</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * met: redistributions of source code must retain the above copyright</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * notice, this list of conditions and the following disclaimer;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * redistributions in binary form must reproduce the above copyright</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * notice, this list of conditions and the following disclaimer in the</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * documentation and/or other materials provided with the distribution;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * neither the name of the copyright holders nor the names of its</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * contributors may be used to endorse or promote products derived from</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * this software without specific prior written permission.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * Authors: Gabe Black</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> *          Kevin Lim</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="arch_2sparc_2faults_8hh.html">arch/sparc/faults.hh</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sparc_2isa__traits_8hh.html">arch/sparc/isa_traits.hh</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="arch_2sparc_2process_8hh.html">arch/sparc/process.hh</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sparc_2tlb_8hh.html">arch/sparc/tlb.hh</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="arch_2sparc_2types_8hh.html">arch/sparc/types.hh</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bitfield_8hh.html">base/bitfield.hh</a>&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="base_2trace_8hh.html">base/trace.hh</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cpu_2base_8hh.html">cpu/base.hh</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cpu_2thread__context_8hh.html">cpu/thread_context.hh</a>&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="page__table_8hh.html">mem/page_table.hh</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="full__system_8hh.html">sim/full_system.hh</a>&quot;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sim_2process_8hh.html">sim/process.hh</a>&quot;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceSparcISA.html">SparcISA</a></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;{</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;PowerOnReset&gt;::vals</a></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;(<span class="stringliteral">&quot;power_on_reset&quot;</span>, 0x001, 0, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;WatchDogReset&gt;::vals</a></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;(<span class="stringliteral">&quot;watch_dog_reset&quot;</span>, 0x002, 120, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;ExternallyInitiatedReset&gt;::vals</a></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;(<span class="stringliteral">&quot;externally_initiated_reset&quot;</span>, 0x003, 110, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;SoftwareInitiatedReset&gt;::vals</a></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;(<span class="stringliteral">&quot;software_initiated_reset&quot;</span>, 0x004, 130, {{<a class="code" href="namespaceX86ISA.html#a603eb3b39ce3f8ba50db4ba97e8c8b0b">SH</a>, <a class="code" href="namespaceX86ISA.html#a603eb3b39ce3f8ba50db4ba97e8c8b0b">SH</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>}});</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;REDStateException&gt;::vals</a></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;(<span class="stringliteral">&quot;RED_state_exception&quot;</span>, 0x005, 1, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;StoreError&gt;::vals</a></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;(<span class="stringliteral">&quot;store_error&quot;</span>, 0x007, 201, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;InstructionAccessException&gt;::vals</a></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;(<span class="stringliteral">&quot;instruction_access_exception&quot;</span>, 0x008, 300, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">//XXX This trap is apparently dropped from ua2005</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">/*template&lt;&gt; SparcFaultBase::FaultVals</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">    SparcFault&lt;InstructionAccessMMUMiss&gt;::vals</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">    (&quot;inst_mmu&quot;, 0x009, 2, {{H, H, H}});*/</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;InstructionAccessError&gt;::vals</a></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;(<span class="stringliteral">&quot;instruction_access_error&quot;</span>, 0x00A, 400, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;IllegalInstruction&gt;::vals</a></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;(<span class="stringliteral">&quot;illegal_instruction&quot;</span>, 0x010, 620, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;PrivilegedOpcode&gt;::vals</a></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;(<span class="stringliteral">&quot;privileged_opcode&quot;</span>, 0x011, 700, {{P, <a class="code" href="namespaceX86ISA.html#a603eb3b39ce3f8ba50db4ba97e8c8b0b">SH</a>, SH}});</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">//XXX This trap is apparently dropped from ua2005</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">/*template&lt;&gt; SparcFaultBase::FaultVals</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">    SparcFault&lt;UnimplementedLDD&gt;::vals</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">    (&quot;unimp_ldd&quot;, 0x012, 6, {{H, H, H}});*/</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">//XXX This trap is apparently dropped from ua2005</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">/*template&lt;&gt; SparcFaultBase::FaultVals</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">    SparcFault&lt;UnimplementedSTD&gt;::vals</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">    (&quot;unimp_std&quot;, 0x013, 6, {{H, H, H}});*/</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;FpDisabled&gt;::vals</a></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;(<span class="stringliteral">&quot;fp_disabled&quot;</span>, 0x020, 800, {{P, P, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>}});</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">/* SPARCv8 and SPARCv9 define just fp_disabled trap. SIMD is not contemplated</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment"> * as a separate part. Therefore, we use the same code and TT */</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;VecDisabled&gt;::vals</a></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;(<span class="stringliteral">&quot;fp_disabled&quot;</span>, 0x020, 800, {{P, P, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>}});</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;FpExceptionIEEE754&gt;::vals</a></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;(<span class="stringliteral">&quot;fp_exception_ieee_754&quot;</span>, 0x021, 1110, {{P, P, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>}});</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;FpExceptionOther&gt;::vals</a></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;(<span class="stringliteral">&quot;fp_exception_other&quot;</span>, 0x022, 1110, {{P, P, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>}});</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;TagOverflow&gt;::vals</a></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;(<span class="stringliteral">&quot;tag_overflow&quot;</span>, 0x023, 1400, {{P, P, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>}});</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;CleanWindow&gt;::vals</a></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;(<span class="stringliteral">&quot;clean_window&quot;</span>, 0x024, 1010, {{P, P, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>}});</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;DivisionByZero&gt;::vals</a></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;(<span class="stringliteral">&quot;division_by_zero&quot;</span>, 0x028, 1500, {{P, P, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>}});</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;InternalProcessorError&gt;::vals</a></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;(<span class="stringliteral">&quot;internal_processor_error&quot;</span>, 0x029, 4, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;InstructionInvalidTSBEntry&gt;::vals</a></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;(<span class="stringliteral">&quot;instruction_invalid_tsb_entry&quot;</span>, 0x02A, 210, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a603eb3b39ce3f8ba50db4ba97e8c8b0b">SH</a>}});</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;DataInvalidTSBEntry&gt;::vals</a></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;(<span class="stringliteral">&quot;data_invalid_tsb_entry&quot;</span>, 0x02B, 1203, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;DataAccessException&gt;::vals</a></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;(<span class="stringliteral">&quot;data_access_exception&quot;</span>, 0x030, 1201, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">//XXX This trap is apparently dropped from ua2005</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">/*template&lt;&gt; SparcFaultBase::FaultVals</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">    SparcFault&lt;DataAccessMMUMiss&gt;::vals</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">    (&quot;data_mmu&quot;, 0x031, 12, {{H, H, H}});*/</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;DataAccessError&gt;::vals</a></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;(<span class="stringliteral">&quot;data_access_error&quot;</span>, 0x032, 1210, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;DataAccessProtection&gt;::vals</a></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;(<span class="stringliteral">&quot;data_access_protection&quot;</span>, 0x033, 1207, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;MemAddressNotAligned&gt;::vals</a></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;(<span class="stringliteral">&quot;mem_address_not_aligned&quot;</span>, 0x034, 1020, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;LDDFMemAddressNotAligned&gt;::vals</a></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;(<span class="stringliteral">&quot;LDDF_mem_address_not_aligned&quot;</span>, 0x035, 1010, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;STDFMemAddressNotAligned&gt;::vals</a></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;(<span class="stringliteral">&quot;STDF_mem_address_not_aligned&quot;</span>, 0x036, 1010, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;PrivilegedAction&gt;::vals</a></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;(<span class="stringliteral">&quot;privileged_action&quot;</span>, 0x037, 1110, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a603eb3b39ce3f8ba50db4ba97e8c8b0b">SH</a>}});</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;LDQFMemAddressNotAligned&gt;::vals</a></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;(<span class="stringliteral">&quot;LDQF_mem_address_not_aligned&quot;</span>, 0x038, 1010, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;STQFMemAddressNotAligned&gt;::vals</a></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;(<span class="stringliteral">&quot;STQF_mem_address_not_aligned&quot;</span>, 0x039, 1010, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;InstructionRealTranslationMiss&gt;::vals</a></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;(<span class="stringliteral">&quot;instruction_real_translation_miss&quot;</span>, 0x03E, 208, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a603eb3b39ce3f8ba50db4ba97e8c8b0b">SH</a>}});</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;DataRealTranslationMiss&gt;::vals</a></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;(<span class="stringliteral">&quot;data_real_translation_miss&quot;</span>, 0x03F, 1203, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">//XXX This trap is apparently dropped from ua2005</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">/*template&lt;&gt; SparcFaultBase::FaultVals</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">    SparcFault&lt;AsyncDataError&gt;::vals</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">    (&quot;async_data&quot;, 0x040, 2, {{H, H, H}});*/</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;InterruptLevelN&gt;::vals</a></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;(<span class="stringliteral">&quot;interrupt_level_n&quot;</span>, 0x040, 0, {{P, P, <a class="code" href="namespaceX86ISA.html#a603eb3b39ce3f8ba50db4ba97e8c8b0b">SH</a>}});</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;HstickMatch&gt;::vals</a></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;(<span class="stringliteral">&quot;hstick_match&quot;</span>, 0x05E, 1601, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;TrapLevelZero&gt;::vals</a></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;(<span class="stringliteral">&quot;trap_level_zero&quot;</span>, 0x05F, 202, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a603eb3b39ce3f8ba50db4ba97e8c8b0b">SH</a>}});</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;InterruptVector&gt;::vals</a></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;(<span class="stringliteral">&quot;interrupt_vector&quot;</span>, 0x060, 2630, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;PAWatchpoint&gt;::vals</a></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;(<span class="stringliteral">&quot;PA_watchpoint&quot;</span>, 0x061, 1209, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;VAWatchpoint&gt;::vals</a></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;(<span class="stringliteral">&quot;VA_watchpoint&quot;</span>, 0x062, 1120, {{P, P, <a class="code" href="namespaceX86ISA.html#a603eb3b39ce3f8ba50db4ba97e8c8b0b">SH</a>}});</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;FastInstructionAccessMMUMiss&gt;::vals</a></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;(<span class="stringliteral">&quot;fast_instruction_access_MMU_miss&quot;</span>, 0x064, 208, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a603eb3b39ce3f8ba50db4ba97e8c8b0b">SH</a>}});</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;FastDataAccessMMUMiss&gt;::vals</a></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;(<span class="stringliteral">&quot;fast_data_access_MMU_miss&quot;</span>, 0x068, 1203, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;FastDataAccessProtection&gt;::vals</a></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;(<span class="stringliteral">&quot;fast_data_access_protection&quot;</span>, 0x06C, 1207, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;InstructionBreakpoint&gt;::vals</a></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;(<span class="stringliteral">&quot;instruction_break&quot;</span>, 0x076, 610, {{<a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>, H}});</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;CpuMondo&gt;::vals</a></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;(<span class="stringliteral">&quot;cpu_mondo&quot;</span>, 0x07C, 1608, {{P, P, <a class="code" href="namespaceX86ISA.html#a603eb3b39ce3f8ba50db4ba97e8c8b0b">SH</a>}});</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;DevMondo&gt;::vals</a></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;(<span class="stringliteral">&quot;dev_mondo&quot;</span>, 0x07D, 1611, {{P, P, <a class="code" href="namespaceX86ISA.html#a603eb3b39ce3f8ba50db4ba97e8c8b0b">SH</a>}});</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;ResumableError&gt;::vals</a></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;(<span class="stringliteral">&quot;resume_error&quot;</span>, 0x07E, 3330, {{P, P, <a class="code" href="namespaceX86ISA.html#a603eb3b39ce3f8ba50db4ba97e8c8b0b">SH</a>}});</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;SpillNNormal&gt;::vals</a></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;(<span class="stringliteral">&quot;spill_n_normal&quot;</span>, 0x080, 900, {{P, P, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>}});</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;SpillNOther&gt;::vals</a></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;(<span class="stringliteral">&quot;spill_n_other&quot;</span>, 0x0A0, 900, {{P, P, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>}});</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;FillNNormal&gt;::vals</a></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;(<span class="stringliteral">&quot;fill_n_normal&quot;</span>, 0x0C0, 900, {{P, P, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>}});</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;FillNOther&gt;::vals</a></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;(<span class="stringliteral">&quot;fill_n_other&quot;</span>, 0x0E0, 900, {{P, P, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>}});</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="keyword">template</span>&lt;&gt; <a class="code" href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">SparcFaultBase::FaultVals</a></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcFault&lt;TrapInstruction&gt;::vals</a></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;(<span class="stringliteral">&quot;trap_instruction&quot;</span>, 0x100, 1602, {{P, P, <a class="code" href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">H</a>}});</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="namespaceSparcISA.html#af2f2f6bfdbf1044d410d1279e48da330">  282</a></span>&#160;<a class="code" href="namespaceSparcISA.html#af2f2f6bfdbf1044d410d1279e48da330">enterREDState</a>(<a class="code" href="classThreadContext.html">ThreadContext</a> *tc)</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;{</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="comment">//@todo Disable the mmu?</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">//@todo Disable watchpoints?</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    HPSTATE hpstate= tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13ac3a79e26cba695cda645d876adae85b6">MISCREG_HPSTATE</a>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    hpstate.red = 1;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    hpstate.hpriv = 1;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#a23a64a50403b3a89e3ea71d4899a4363">setMiscReg</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13ac3a79e26cba695cda645d876adae85b6">MISCREG_HPSTATE</a>, hpstate);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// PSTATE.priv is set to 1 here. The manual says it should be 0, but</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">// Legion sets it to 1.</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    PSTATE pstate = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13aefa8cc4d142456a03053100c3dc5253c">MISCREG_PSTATE</a>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    pstate.priv = 1;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#a23a64a50403b3a89e3ea71d4899a4363">setMiscReg</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13aefa8cc4d142456a03053100c3dc5253c">MISCREG_PSTATE</a>, pstate);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;}</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="namespaceSparcISA.html#a58fc619784a41843b1c16671e19a6398">  303</a></span>&#160;<a class="code" href="namespaceSparcISA.html#a58fc619784a41843b1c16671e19a6398">doREDFault</a>(<a class="code" href="classThreadContext.html">ThreadContext</a> *tc, <a class="code" href="namespaceSparcISA.html#ac159a9cf41ee39d2823ad3429bb6d964">TrapType</a> tt)</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> TL = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a887fa687abdf25daa896add5f5d7be4d">MISCREG_TL</a>);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> TSTATE = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a33bbe55d0a91f4c0eb22fafb3d1362c1">MISCREG_TSTATE</a>);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    PSTATE pstate = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13aefa8cc4d142456a03053100c3dc5253c">MISCREG_PSTATE</a>);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    HPSTATE hpstate = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13ac3a79e26cba695cda645d876adae85b6">MISCREG_HPSTATE</a>);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> CCR = tc-&gt;<a class="code" href="classThreadContext.html#aaa39c3080c92b37f7f740e264338c4a4">readIntReg</a>(<a class="code" href="namespaceAlphaISA.html#a42171e938f795c2342186e8b4c5b63d0">NumIntArchRegs</a> + 2);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> <a class="code" href="namespaceSparcISA.html#a4d3cd350a67d8e63007de11cfc00d398">ASI</a> = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a831a392f415b647f33b4be99e14fd733">MISCREG_ASI</a>);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> CWP = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a8d40d476faf25b4ffeeecdfba72dfca2">MISCREG_CWP</a>);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> CANSAVE = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceAlphaISA.html#a42171e938f795c2342186e8b4c5b63d0">NumIntArchRegs</a> + 3);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> GL = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a54349a00e362e6edb382d8e0d3f78250">MISCREG_GL</a>);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="classGenericISA_1_1DelaySlotUPCState.html">PCState</a> <a class="code" href="namespaceMipsISA.html#a4f7ed975e7137b5c369214789649451f">pc</a> = tc-&gt;<a class="code" href="classThreadContext.html#ae23e31fe8b229b8fa7c246539a530a4b">pcState</a>();</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    TL++;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> pcMask = pstate.am ? <a class="code" href="namespaceArmISA.html#aedf8742bbf65a60cf102a4b3f9ba3d68">mask</a>(32) : <a class="code" href="namespaceArmISA.html#aedf8742bbf65a60cf102a4b3f9ba3d68">mask</a>(64);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="comment">// set TSTATE.gl to gl</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <a class="code" href="bitfield_8hh.html#a30dba2ad0c639652769dd990b20f6350">replaceBits</a>(TSTATE, 42, 40, GL);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">// set TSTATE.ccr to ccr</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <a class="code" href="bitfield_8hh.html#a30dba2ad0c639652769dd990b20f6350">replaceBits</a>(TSTATE, 39, 32, CCR);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">// set TSTATE.asi to asi</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="bitfield_8hh.html#a30dba2ad0c639652769dd990b20f6350">replaceBits</a>(TSTATE, 31, 24, ASI);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">// set TSTATE.pstate to pstate</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="bitfield_8hh.html#a30dba2ad0c639652769dd990b20f6350">replaceBits</a>(TSTATE, 20, 8, pstate);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="comment">// set TSTATE.cwp to cwp</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="bitfield_8hh.html#a30dba2ad0c639652769dd990b20f6350">replaceBits</a>(TSTATE, 4, 0, CWP);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="comment">// Write back TSTATE</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a33bbe55d0a91f4c0eb22fafb3d1362c1">MISCREG_TSTATE</a>, TSTATE);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="comment">// set TPC to PC</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13ad377926386bb44a61780494c84920c17">MISCREG_TPC</a>, pc.<a class="code" href="classGenericISA_1_1SimplePCState.html#a227b993ac419e080ec54dee0dcb1626b">pc</a>() &amp; pcMask);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">// set TNPC to NPC</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13ac802ace407551710595a031c51ae4882">MISCREG_TNPC</a>, pc.<a class="code" href="classGenericISA_1_1SimplePCState.html#a27933143813a79b65b4183ff1360909b">npc</a>() &amp; pcMask);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="comment">// set HTSTATE.hpstate to hpstate</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a42166e6309b7c6c82e117d9c6166c18f">MISCREG_HTSTATE</a>, hpstate);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="comment">// TT = trap type;</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a63a761355f53711c5e097f14d0384a46">MISCREG_TT</a>, tt);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">// Update GL</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#a23a64a50403b3a89e3ea71d4899a4363">setMiscReg</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a54349a00e362e6edb382d8e0d3f78250">MISCREG_GL</a>, min&lt;int&gt;(GL+1, <a class="code" href="namespaceSparcISA.html#ae6ced686e0d9533199167842193cd2e6">MaxGL</a>));</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="namespaceSparcISA.html#a34273645d18f22e3cadbb67f1a08673e">priv</a> = pstate.priv; <span class="comment">// just save the priv bit</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    pstate = 0;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    pstate.priv = <a class="code" href="namespaceSparcISA.html#a34273645d18f22e3cadbb67f1a08673e">priv</a>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    pstate.pef = 1;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13aefa8cc4d142456a03053100c3dc5253c">MISCREG_PSTATE</a>, pstate);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    hpstate.red = 1;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    hpstate.hpriv = 1;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    hpstate.ibe = 0;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    hpstate.tlz = 0;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13ac3a79e26cba695cda645d876adae85b6">MISCREG_HPSTATE</a>, hpstate);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordtype">bool</span> changedCWP = <span class="keyword">true</span>;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">if</span> (tt == 0x24)</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        CWP++;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (0x80 &lt;= tt &amp;&amp; tt &lt;= 0xbf)</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        CWP += (CANSAVE + 2);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (0xc0 &lt;= tt &amp;&amp; tt &lt;= 0xff)</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        CWP--;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        changedCWP = <span class="keyword">false</span>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">if</span> (changedCWP) {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        CWP = (CWP + <a class="code" href="namespaceSparcISA.html#a2eb6858d8ba11fb2871968be98d28d60">NWindows</a>) % <a class="code" href="namespaceSparcISA.html#a2eb6858d8ba11fb2871968be98d28d60">NWindows</a>;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        tc-&gt;<a class="code" href="classThreadContext.html#a23a64a50403b3a89e3ea71d4899a4363">setMiscReg</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a8d40d476faf25b4ffeeecdfba72dfca2">MISCREG_CWP</a>, CWP);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    }</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;}</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00382"></a><span class="lineno"><a class="line" href="namespaceSparcISA.html#aed5c708b3be9708cc31e8e622aa680df">  382</a></span>&#160;<a class="code" href="namespaceSparcISA.html#aed5c708b3be9708cc31e8e622aa680df">doNormalFault</a>(<a class="code" href="classThreadContext.html">ThreadContext</a> *tc, <a class="code" href="namespaceSparcISA.html#ac159a9cf41ee39d2823ad3429bb6d964">TrapType</a> tt, <span class="keywordtype">bool</span> gotoHpriv)</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;{</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> TL = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a887fa687abdf25daa896add5f5d7be4d">MISCREG_TL</a>);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> TSTATE = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a33bbe55d0a91f4c0eb22fafb3d1362c1">MISCREG_TSTATE</a>);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    PSTATE pstate = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13aefa8cc4d142456a03053100c3dc5253c">MISCREG_PSTATE</a>);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    HPSTATE hpstate = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13ac3a79e26cba695cda645d876adae85b6">MISCREG_HPSTATE</a>);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> CCR = tc-&gt;<a class="code" href="classThreadContext.html#aaa39c3080c92b37f7f740e264338c4a4">readIntReg</a>(<a class="code" href="namespaceAlphaISA.html#a42171e938f795c2342186e8b4c5b63d0">NumIntArchRegs</a> + 2);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> <a class="code" href="namespaceSparcISA.html#a4d3cd350a67d8e63007de11cfc00d398">ASI</a> = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a831a392f415b647f33b4be99e14fd733">MISCREG_ASI</a>);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> CWP = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a8d40d476faf25b4ffeeecdfba72dfca2">MISCREG_CWP</a>);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> CANSAVE = tc-&gt;<a class="code" href="classThreadContext.html#aaa39c3080c92b37f7f740e264338c4a4">readIntReg</a>(<a class="code" href="namespaceAlphaISA.html#a42171e938f795c2342186e8b4c5b63d0">NumIntArchRegs</a> + 3);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> GL = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a54349a00e362e6edb382d8e0d3f78250">MISCREG_GL</a>);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <a class="code" href="classGenericISA_1_1DelaySlotUPCState.html">PCState</a> <a class="code" href="namespaceMipsISA.html#a4f7ed975e7137b5c369214789649451f">pc</a> = tc-&gt;<a class="code" href="classThreadContext.html#ae23e31fe8b229b8fa7c246539a530a4b">pcState</a>();</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="comment">// Increment the trap level</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    TL++;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a887fa687abdf25daa896add5f5d7be4d">MISCREG_TL</a>, TL);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> pcMask = pstate.am ? <a class="code" href="namespaceArmISA.html#aedf8742bbf65a60cf102a4b3f9ba3d68">mask</a>(32) : <a class="code" href="namespaceArmISA.html#aedf8742bbf65a60cf102a4b3f9ba3d68">mask</a>(64);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="comment">// Save off state</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">// set TSTATE.gl to gl</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="bitfield_8hh.html#a30dba2ad0c639652769dd990b20f6350">replaceBits</a>(TSTATE, 42, 40, GL);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="comment">// set TSTATE.ccr to ccr</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="bitfield_8hh.html#a30dba2ad0c639652769dd990b20f6350">replaceBits</a>(TSTATE, 39, 32, CCR);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="comment">// set TSTATE.asi to asi</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="bitfield_8hh.html#a30dba2ad0c639652769dd990b20f6350">replaceBits</a>(TSTATE, 31, 24, ASI);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="comment">// set TSTATE.pstate to pstate</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="bitfield_8hh.html#a30dba2ad0c639652769dd990b20f6350">replaceBits</a>(TSTATE, 20, 8, pstate);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="comment">// set TSTATE.cwp to cwp</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="bitfield_8hh.html#a30dba2ad0c639652769dd990b20f6350">replaceBits</a>(TSTATE, 4, 0, CWP);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="comment">// Write back TSTATE</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a33bbe55d0a91f4c0eb22fafb3d1362c1">MISCREG_TSTATE</a>, TSTATE);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="comment">// set TPC to PC</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13ad377926386bb44a61780494c84920c17">MISCREG_TPC</a>, pc.<a class="code" href="classGenericISA_1_1SimplePCState.html#a227b993ac419e080ec54dee0dcb1626b">pc</a>() &amp; pcMask);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="comment">// set TNPC to NPC</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13ac802ace407551710595a031c51ae4882">MISCREG_TNPC</a>, pc.<a class="code" href="classGenericISA_1_1SimplePCState.html#a27933143813a79b65b4183ff1360909b">npc</a>() &amp; pcMask);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">// set HTSTATE.hpstate to hpstate</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a42166e6309b7c6c82e117d9c6166c18f">MISCREG_HTSTATE</a>, hpstate);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="comment">// TT = trap type;</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a63a761355f53711c5e097f14d0384a46">MISCREG_TT</a>, tt);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">// Update the global register level</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">if</span> (!gotoHpriv)</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        tc-&gt;<a class="code" href="classThreadContext.html#a23a64a50403b3a89e3ea71d4899a4363">setMiscReg</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a54349a00e362e6edb382d8e0d3f78250">MISCREG_GL</a>, min&lt;int&gt;(GL + 1, <a class="code" href="namespaceSparcISA.html#a9b4ee042d8c4a0e83e819ff55d98dfee">MaxPGL</a>));</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        tc-&gt;<a class="code" href="classThreadContext.html#a23a64a50403b3a89e3ea71d4899a4363">setMiscReg</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a54349a00e362e6edb382d8e0d3f78250">MISCREG_GL</a>, min&lt;int&gt;(GL + 1, <a class="code" href="namespaceSparcISA.html#ae6ced686e0d9533199167842193cd2e6">MaxGL</a>));</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="comment">// pstate.mm is unchanged</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    pstate.pef = 1; <span class="comment">// PSTATE.pef = whether or not an fpu is present</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    pstate.am = 0;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    pstate.ie = 0;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="comment">// pstate.tle is unchanged</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="comment">// pstate.tct = 0</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">if</span> (gotoHpriv) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        pstate.cle = 0;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="comment">// The manual says PSTATE.priv should be 0, but Legion leaves it alone</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        hpstate.red = 0;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        hpstate.hpriv = 1;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        hpstate.ibe = 0;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="comment">// hpstate.tlz is unchanged</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13ac3a79e26cba695cda645d876adae85b6">MISCREG_HPSTATE</a>, hpstate);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">// we are going to priv</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        pstate.priv = 1;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        pstate.cle = pstate.tle;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    }</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13aefa8cc4d142456a03053100c3dc5253c">MISCREG_PSTATE</a>, pstate);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordtype">bool</span> changedCWP = <span class="keyword">true</span>;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">if</span> (tt == 0x24)</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        CWP++;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (0x80 &lt;= tt &amp;&amp; tt &lt;= 0xbf)</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        CWP += (CANSAVE + 2);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (0xc0 &lt;= tt &amp;&amp; tt &lt;= 0xff)</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        CWP--;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        changedCWP = <span class="keyword">false</span>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">if</span> (changedCWP) {</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        CWP = (CWP + <a class="code" href="namespaceSparcISA.html#a2eb6858d8ba11fb2871968be98d28d60">NWindows</a>) % <a class="code" href="namespaceSparcISA.html#a2eb6858d8ba11fb2871968be98d28d60">NWindows</a>;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        tc-&gt;<a class="code" href="classThreadContext.html#a23a64a50403b3a89e3ea71d4899a4363">setMiscReg</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a8d40d476faf25b4ffeeecdfba72dfca2">MISCREG_CWP</a>, CWP);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    }</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00473"></a><span class="lineno"><a class="line" href="namespaceSparcISA.html#a1bc29809077f31bf3ff90f5f4de3dd80">  473</a></span>&#160;<a class="code" href="namespaceSparcISA.html#a1bc29809077f31bf3ff90f5f4de3dd80">getREDVector</a>(<a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> TT, <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> &amp;PC, <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> &amp;NPC)</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;{</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="comment">//XXX The following constant might belong in a header file.</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keyword">const</span> <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> RSTVAddr = 0xFFF0000000<a class="code" href="base_2types_8hh.html#adcc3cf526a71c0dfaae020d432c78b83">ULL</a>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    PC = RSTVAddr | ((TT &lt;&lt; 5) &amp; 0xFF);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    NPC = PC + <span class="keyword">sizeof</span>(<a class="code" href="namespaceAlphaISA.html#a63693d656cc2bf4bdd0de3e493eabe66">MachInst</a>);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00482"></a><span class="lineno"><a class="line" href="namespaceSparcISA.html#a997d312ab9d43c1572483f8747c973c8">  482</a></span>&#160;<a class="code" href="namespaceSparcISA.html#a997d312ab9d43c1572483f8747c973c8">getHyperVector</a>(<a class="code" href="classThreadContext.html">ThreadContext</a> * tc, <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> &amp;PC, <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> &amp;NPC, <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> TT)</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;{</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> HTBA = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13ae7329ab09f518edab8c7ef18048c65ec">MISCREG_HTBA</a>);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    PC = (HTBA &amp; ~<a class="code" href="namespaceArmISA.html#aedf8742bbf65a60cf102a4b3f9ba3d68">mask</a>(14)) | ((TT &lt;&lt; 5) &amp; <a class="code" href="namespaceArmISA.html#aedf8742bbf65a60cf102a4b3f9ba3d68">mask</a>(14));</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    NPC = PC + <span class="keyword">sizeof</span>(<a class="code" href="namespaceAlphaISA.html#a63693d656cc2bf4bdd0de3e493eabe66">MachInst</a>);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="namespaceSparcISA.html#af8f35d59676c11f06bbdc56650ebf951">  490</a></span>&#160;<a class="code" href="namespaceSparcISA.html#af8f35d59676c11f06bbdc56650ebf951">getPrivVector</a>(<a class="code" href="classThreadContext.html">ThreadContext</a> *tc, <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> &amp;PC, <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> &amp;NPC, <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> TT, <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> TL)</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;{</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> TBA = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a3984433dc2a46ca0e8c067951e80cbb2">MISCREG_TBA</a>);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    PC = (TBA &amp; ~<a class="code" href="namespaceArmISA.html#aedf8742bbf65a60cf102a4b3f9ba3d68">mask</a>(15)) |</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        (TL &gt; 1 ? (1 &lt;&lt; 14) : 0) |</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        ((TT &lt;&lt; 5) &amp; <a class="code" href="namespaceArmISA.html#aedf8742bbf65a60cf102a4b3f9ba3d68">mask</a>(14));</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    NPC = PC + <span class="keyword">sizeof</span>(<a class="code" href="namespaceAlphaISA.html#a63693d656cc2bf4bdd0de3e493eabe66">MachInst</a>);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;}</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="classSparcISA_1_1SparcFaultBase.html#a65676cdac24fa53f22f03ff416b06393">  500</a></span>&#160;SparcFaultBase::invoke(<a class="code" href="classThreadContext.html">ThreadContext</a> * tc, <span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">StaticInstPtr</a> &amp;inst)</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;{</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <a class="code" href="classFaultBase.html#abc0bfc0aefe9dbfd0393c010b9273e72">FaultBase::invoke</a>(tc);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="full__system_8hh.html#af929576af6f85c8849704b66d04b8370">FullSystem</a>)</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    countStat()++;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="comment">// We can refer to this to see what the trap level -was-, but something</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="comment">// in the middle could change it in the regfile out from under us.</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> <a class="code" href="namespaceMipsISA.html#a02c1eec4d905c95a4614e86e0a933741">tl</a> = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a887fa687abdf25daa896add5f5d7be4d">MISCREG_TL</a>);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> tt = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a63a761355f53711c5e097f14d0384a46">MISCREG_TT</a>);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    PSTATE pstate = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13aefa8cc4d142456a03053100c3dc5253c">MISCREG_PSTATE</a>);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    HPSTATE hpstate = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13ac3a79e26cba695cda645d876adae85b6">MISCREG_HPSTATE</a>);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> PC, NPC;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFaultBase.html#a459ebc7c34ad6a34f704ef5be57870d8">PrivilegeLevel</a> current;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">if</span> (hpstate.hpriv)</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        current = Hyperprivileged;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pstate.priv)</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        current = Privileged;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        current = User;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="classSparcISA_1_1SparcFaultBase.html#a459ebc7c34ad6a34f704ef5be57870d8">PrivilegeLevel</a> <a class="code" href="namespaceX86ISA.html#acabdf99084eaf74c35035a9175ec3aee">level</a> = getNextLevel(current);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">if</span> (hpstate.red || (tl == <a class="code" href="namespaceSparcISA.html#a7fc70925d9b55ea5a531967d5994a283">MaxTL</a> - 1)) {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <a class="code" href="namespaceSparcISA.html#a1bc29809077f31bf3ff90f5f4de3dd80">getREDVector</a>(5, PC, NPC);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <a class="code" href="namespaceSparcISA.html#a58fc619784a41843b1c16671e19a6398">doREDFault</a>(tc, tt);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="comment">// This changes the hpstate and pstate, so we need to make sure we</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="comment">// save the old version on the trap stack in doREDFault.</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <a class="code" href="namespaceSparcISA.html#af2f2f6bfdbf1044d410d1279e48da330">enterREDState</a>(tc);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tl == <a class="code" href="namespaceSparcISA.html#a7fc70925d9b55ea5a531967d5994a283">MaxTL</a>) {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <a class="code" href="logging_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Should go to error state here.. crap\n&quot;</span>);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="comment">// Do error_state somehow?</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <span class="comment">// Probably inject a WDR fault using the interrupt mechanism.</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="comment">// What should the PC and NPC be set to?</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tl &gt; <a class="code" href="namespaceSparcISA.html#a4bcfceef9184f0e771a558ba5b2cc024">MaxPTL</a> &amp;&amp; level == Privileged) {</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="comment">// guest_watchdog fault</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <a class="code" href="namespaceSparcISA.html#aed5c708b3be9708cc31e8e622aa680df">doNormalFault</a>(tc, trapType(), <span class="keyword">true</span>);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <a class="code" href="namespaceSparcISA.html#a997d312ab9d43c1572483f8747c973c8">getHyperVector</a>(tc, PC, NPC, 2);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (level == Hyperprivileged ||</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;               (level == Privileged &amp;&amp; trapType() &gt;= 384)) {</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <a class="code" href="namespaceSparcISA.html#aed5c708b3be9708cc31e8e622aa680df">doNormalFault</a>(tc, trapType(), <span class="keyword">true</span>);</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <a class="code" href="namespaceSparcISA.html#a997d312ab9d43c1572483f8747c973c8">getHyperVector</a>(tc, PC, NPC, trapType());</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <a class="code" href="namespaceSparcISA.html#aed5c708b3be9708cc31e8e622aa680df">doNormalFault</a>(tc, trapType(), <span class="keyword">false</span>);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <a class="code" href="namespaceSparcISA.html#af8f35d59676c11f06bbdc56650ebf951">getPrivVector</a>(tc, PC, NPC, trapType(), tl + 1);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    }</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="classGenericISA_1_1DelaySlotUPCState.html">PCState</a> <a class="code" href="namespaceMipsISA.html#a4f7ed975e7137b5c369214789649451f">pc</a>;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    pc.<a class="code" href="classGenericISA_1_1SimplePCState.html#a227b993ac419e080ec54dee0dcb1626b">pc</a>(PC);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    pc.<a class="code" href="classGenericISA_1_1SimplePCState.html#a27933143813a79b65b4183ff1360909b">npc</a>(NPC);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    pc.<a class="code" href="classGenericISA_1_1DelaySlotPCState.html#aa6acdfa9b78912cad8949560a1d46f79">nnpc</a>(NPC + <span class="keyword">sizeof</span>(<a class="code" href="namespaceSparcISA.html#a1651b2405ef642b8feeb7a37dd43a969">MachInst</a>));</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    pc.<a class="code" href="classGenericISA_1_1DelaySlotUPCState.html#a578e01246023c270547cbf937dfdabea">upc</a>(0);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    pc.<a class="code" href="classGenericISA_1_1DelaySlotUPCState.html#a2d95152548236e5261eb66763b69afb5">nupc</a>(1);</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#ae23e31fe8b229b8fa7c246539a530a4b">pcState</a>(pc);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;}</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00561"></a><span class="lineno"><a class="line" href="classSparcISA_1_1PowerOnReset.html#a7cf7fe76cd13b2d848b75482ab57822d">  561</a></span>&#160;PowerOnReset::invoke(<a class="code" href="classThreadContext.html">ThreadContext</a> *tc, <span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">StaticInstPtr</a> &amp;inst)</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;{</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="comment">// For SPARC, when a system is first started, there is a power</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="comment">// on reset Trap which sets the processor into the following state.</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="comment">// Bits that aren&#39;t set aren&#39;t defined on startup.</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a887fa687abdf25daa896add5f5d7be4d">MISCREG_TL</a>, <a class="code" href="namespaceSparcISA.html#a7fc70925d9b55ea5a531967d5994a283">MaxTL</a>);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a63a761355f53711c5e097f14d0384a46">MISCREG_TT</a>, trapType());</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#a23a64a50403b3a89e3ea71d4899a4363">setMiscReg</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a54349a00e362e6edb382d8e0d3f78250">MISCREG_GL</a>, <a class="code" href="namespaceSparcISA.html#ae6ced686e0d9533199167842193cd2e6">MaxGL</a>);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    PSTATE pstate = 0;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    pstate.pef = 1;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    pstate.priv = 1;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13aefa8cc4d142456a03053100c3dc5253c">MISCREG_PSTATE</a>, pstate);</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="comment">// Turn on red and hpriv, set everything else to 0</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    HPSTATE hpstate = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13ac3a79e26cba695cda645d876adae85b6">MISCREG_HPSTATE</a>);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    hpstate.red = 1;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    hpstate.hpriv = 1;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    hpstate.ibe = 0;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    hpstate.tlz = 0;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13ac3a79e26cba695cda645d876adae85b6">MISCREG_HPSTATE</a>, hpstate);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="comment">// The tick register is unreadable by nonprivileged software</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">setMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a2999dadfecb3d82725e6c0e3e8fa3017">MISCREG_TICK</a>, 1<a class="code" href="base_2types_8hh.html#adcc3cf526a71c0dfaae020d432c78b83">ULL</a> &lt;&lt; 63);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="comment">// Enter RED state. We do this last so that the actual state preserved in</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="comment">// the trap stack is the state from before this fault.</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="namespaceSparcISA.html#af2f2f6bfdbf1044d410d1279e48da330">enterREDState</a>(tc);</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> PC, NPC;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="namespaceSparcISA.html#a1bc29809077f31bf3ff90f5f4de3dd80">getREDVector</a>(trapType(), PC, NPC);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <a class="code" href="classGenericISA_1_1DelaySlotUPCState.html">PCState</a> <a class="code" href="namespaceMipsISA.html#a4f7ed975e7137b5c369214789649451f">pc</a>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    pc.<a class="code" href="classGenericISA_1_1SimplePCState.html#a227b993ac419e080ec54dee0dcb1626b">pc</a>(PC);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    pc.<a class="code" href="classGenericISA_1_1SimplePCState.html#a27933143813a79b65b4183ff1360909b">npc</a>(NPC);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    pc.<a class="code" href="classGenericISA_1_1DelaySlotPCState.html#aa6acdfa9b78912cad8949560a1d46f79">nnpc</a>(NPC + <span class="keyword">sizeof</span>(<a class="code" href="namespaceSparcISA.html#a1651b2405ef642b8feeb7a37dd43a969">MachInst</a>));</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    pc.<a class="code" href="classGenericISA_1_1DelaySlotUPCState.html#a578e01246023c270547cbf937dfdabea">upc</a>(0);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    pc.<a class="code" href="classGenericISA_1_1DelaySlotUPCState.html#a2d95152548236e5261eb66763b69afb5">nupc</a>(1);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#ae23e31fe8b229b8fa7c246539a530a4b">pcState</a>(pc);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="comment">// These registers are specified as &quot;undefined&quot; after a POR, and they</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="comment">// should have reasonable values after the miscregfile is reset</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">    // Clear all the soft interrupt bits</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment">    softint = 0;</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">    // disable timer compare interrupts, reset tick_cmpr</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">    tc-&gt;setMiscRegNoEffect(MISCREG_</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment">    tick_cmprFields.int_dis = 1;</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment">    tick_cmprFields.tick_cmpr = 0; // Reset to 0 for pretty printing</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">    stickFields.npt = 1; // The TICK register is unreadable by by !priv</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">    stick_cmprFields.int_dis = 1; // disable timer compare interrupts</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">    stick_cmprFields.tick_cmpr = 0; // Reset to 0 for pretty printing</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment">    tt[tl] = _trapType;</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">    hintp = 0; // no interrupts pending</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">    hstick_cmprFields.int_dis = 1; // disable timer compare interrupts</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment">    hstick_cmprFields.tick_cmpr = 0; // Reset to 0 for pretty printing</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;}</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="classSparcISA_1_1FastInstructionAccessMMUMiss.html#a32626691c8eb2be7805876265ada9259">  624</a></span>&#160;FastInstructionAccessMMUMiss::invoke(<a class="code" href="classThreadContext.html">ThreadContext</a> *tc,</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">StaticInstPtr</a> &amp;inst)</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;{</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="full__system_8hh.html#af929576af6f85c8849704b66d04b8370">FullSystem</a>) {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        SparcFaultBase::invoke(tc, inst);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    }</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <a class="code" href="classProcess.html">Process</a> *<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a> = tc-&gt;<a class="code" href="classThreadContext.html#a578034e4f174170011007e9908ca666d">getProcessPtr</a>();</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keyword">const</span> <a class="code" href="structEmulationPageTable_1_1Entry.html">EmulationPageTable::Entry</a> *pte = p-&gt;<a class="code" href="classProcess.html#aeb1f0636e741b206059ffdbbc72bcf01">pTable</a>-&gt;<a class="code" href="classEmulationPageTable.html#a692ce97e35ba203ca11d981c61b60716">lookup</a>(<a class="code" href="namespaceMipsISA.html#a9bab751e4fa25d88bf84ee970a01a641">vaddr</a>);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <a class="code" href="logging_8hh.html#af5c59b879d6a32dc657018ab3d30198f">panic_if</a>(!pte, <span class="stringliteral">&quot;Tried to execute unmapped address %#x.\n&quot;</span>, <a class="code" href="namespaceMipsISA.html#a9bab751e4fa25d88bf84ee970a01a641">vaddr</a>);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> alignedvaddr = p-&gt;<a class="code" href="classProcess.html#aeb1f0636e741b206059ffdbbc72bcf01">pTable</a>-&gt;<a class="code" href="classEmulationPageTable.html#af1317b22ec0ea20f5e7ad09c94c32ecd">pageAlign</a>(<a class="code" href="namespaceMipsISA.html#a9bab751e4fa25d88bf84ee970a01a641">vaddr</a>);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="comment">// Grab fields used during instruction translation to figure out</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="comment">// which context to use.</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    uint64_t tlbdata = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a9a2e01f3342df4c0e02de3d7cac95cc9">MISCREG_TLB_DATA</a>);</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="comment">// Inside a VM, a real address is the address that guest OS would</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="comment">// interpret to be a physical address. To map to the physical address,</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="comment">// it still needs to undergo a translation. The instruction</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="comment">// translation code in the SPARC ITLB code assumes that the context is</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="comment">// zero (kernel-level) if real addressing is being used.</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordtype">bool</span> is_real_address = !<a class="code" href="bitfield_8hh.html#a037aa50d964c15b87b49ca219fd62d85">bits</a>(tlbdata, 4);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="comment">// The SPARC ITLB code assumes that traps are executed in context</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="comment">// zero so we carry that assumption through here.</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordtype">bool</span> trapped = <a class="code" href="bitfield_8hh.html#a037aa50d964c15b87b49ca219fd62d85">bits</a>(tlbdata, 18, 16) &gt; 0;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="comment">// The primary context acts as a PASID. It allows the MMU to</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">// distinguish between virtual addresses that would alias to the</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="comment">// same physical address (if two or more processes shared the same</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="comment">// virtual address mapping).</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordtype">int</span> primary_context = <a class="code" href="bitfield_8hh.html#a037aa50d964c15b87b49ca219fd62d85">bits</a>(tlbdata, 47, 32);</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="comment">// The partition id distinguishes between virtualized environments.</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordtype">int</span> <span class="keyword">const</span> partition_id = 0;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="comment">// Given the assumptions in the translateInst code in the SPARC ITLB,</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="comment">// the logic works out to the following for the context.</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordtype">int</span> context_id = (is_real_address || trapped) ? 0 : primary_context;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <a class="code" href="structSparcISA_1_1TlbEntry.html">TlbEntry</a> entry(p-&gt;<a class="code" href="classProcess.html#aeb1f0636e741b206059ffdbbc72bcf01">pTable</a>-&gt;<a class="code" href="classEmulationPageTable.html#a75c658349f05abcdecc96458b51725d1">pid</a>(), alignedvaddr, pte-&gt;<a class="code" href="structEmulationPageTable_1_1Entry.html#a6c1866a41d576b70e84527523d09dcba">paddr</a>,</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                   pte-&gt;<a class="code" href="structEmulationPageTable_1_1Entry.html#ab0274018c841d59ef66c60d66d652538">flags</a> &amp; <a class="code" href="classEmulationPageTable.html#ad28e4377007e2ccda8ec52a7ec19f8c4ad83776af07a54b44632edb06f86479e6">EmulationPageTable::Uncacheable</a>,</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                   pte-&gt;<a class="code" href="structEmulationPageTable_1_1Entry.html#ab0274018c841d59ef66c60d66d652538">flags</a> &amp; <a class="code" href="classEmulationPageTable.html#ad28e4377007e2ccda8ec52a7ec19f8c4a80fd9e3e8d61504ef3b30327b089f2d7">EmulationPageTable::ReadOnly</a>);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="comment">// Insert the TLB entry.</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="comment">// The entry specifying whether the address is &quot;real&quot; is set to</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="comment">// false for syscall emulation mode regardless of whether the</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="comment">// address is real in preceding code. Not sure sure that this is</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="comment">// correct, but also not sure if it matters at all.</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classSparcISA_1_1TLB.html">TLB</a> *<span class="keyword">&gt;</span>(tc-&gt;<a class="code" href="classThreadContext.html#a2a9e2f3b0b81225d34ce2e840dbc43eb">getITBPtr</a>())-&gt;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        insert(alignedvaddr, partition_id, context_id, <span class="keyword">false</span>, entry.pte);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;}</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00680"></a><span class="lineno"><a class="line" href="classSparcISA_1_1FastDataAccessMMUMiss.html#a482ea26521a8af5c62504e58b21d2c24">  680</a></span>&#160;FastDataAccessMMUMiss::invoke(<a class="code" href="classThreadContext.html">ThreadContext</a> *tc, <span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">StaticInstPtr</a> &amp;inst)</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;{</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="full__system_8hh.html#af929576af6f85c8849704b66d04b8370">FullSystem</a>) {</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        SparcFaultBase::invoke(tc, inst);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    }</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <a class="code" href="classProcess.html">Process</a> *<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a> = tc-&gt;<a class="code" href="classThreadContext.html#a578034e4f174170011007e9908ca666d">getProcessPtr</a>();</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keyword">const</span> <a class="code" href="structEmulationPageTable_1_1Entry.html">EmulationPageTable::Entry</a> *pte = p-&gt;<a class="code" href="classProcess.html#aeb1f0636e741b206059ffdbbc72bcf01">pTable</a>-&gt;<a class="code" href="classEmulationPageTable.html#a692ce97e35ba203ca11d981c61b60716">lookup</a>(<a class="code" href="namespaceMipsISA.html#a9bab751e4fa25d88bf84ee970a01a641">vaddr</a>);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">if</span> (!pte &amp;&amp; p-&gt;<a class="code" href="classProcess.html#aeafd0a9f4f332dab45ff954f8857e82f">fixupStackFault</a>(<a class="code" href="namespaceMipsISA.html#a9bab751e4fa25d88bf84ee970a01a641">vaddr</a>))</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        pte = p-&gt;<a class="code" href="classProcess.html#aeb1f0636e741b206059ffdbbc72bcf01">pTable</a>-&gt;<a class="code" href="classEmulationPageTable.html#a692ce97e35ba203ca11d981c61b60716">lookup</a>(<a class="code" href="namespaceMipsISA.html#a9bab751e4fa25d88bf84ee970a01a641">vaddr</a>);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <a class="code" href="logging_8hh.html#af5c59b879d6a32dc657018ab3d30198f">panic_if</a>(!pte, <span class="stringliteral">&quot;Tried to access unmapped address %#x.\n&quot;</span>, <a class="code" href="namespaceMipsISA.html#a9bab751e4fa25d88bf84ee970a01a641">vaddr</a>);</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> alignedvaddr = p-&gt;<a class="code" href="classProcess.html#aeb1f0636e741b206059ffdbbc72bcf01">pTable</a>-&gt;<a class="code" href="classEmulationPageTable.html#af1317b22ec0ea20f5e7ad09c94c32ecd">pageAlign</a>(<a class="code" href="namespaceMipsISA.html#a9bab751e4fa25d88bf84ee970a01a641">vaddr</a>);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="comment">// Grab fields used during data translation to figure out</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="comment">// which context to use.</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    uint64_t tlbdata = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a9a2e01f3342df4c0e02de3d7cac95cc9">MISCREG_TLB_DATA</a>);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="comment">// The primary context acts as a PASID. It allows the MMU to</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="comment">// distinguish between virtual addresses that would alias to the</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="comment">// same physical address (if two or more processes shared the same</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="comment">// virtual address mapping). There&#39;s a secondary context used in the</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="comment">// DTLB translation code, but it should __probably__ be zero for</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="comment">// syscall emulation code. (The secondary context is used by Solaris</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="comment">// to allow kernel privilege code to access user space code:</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="comment">// [ISBN 0-13-022496-0]:PG199.)</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keywordtype">int</span> primary_context = <a class="code" href="bitfield_8hh.html#a037aa50d964c15b87b49ca219fd62d85">bits</a>(tlbdata, 47, 32);</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="comment">// &quot;Hyper-Privileged Mode&quot; is in use. There are three main modes of</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="comment">// operation for Sparc: Hyper-Privileged Mode, Privileged Mode, and</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="comment">// User Mode.</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespaceSparcISA.html#a1755f601d15a1eeef87d0cf55b011f88">hpriv</a> = <a class="code" href="bitfield_8hh.html#a037aa50d964c15b87b49ca219fd62d85">bits</a>(tlbdata, 0);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="comment">// Reset, Error and Debug state is in use. Something horrible has</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="comment">// happened or the system is operating in Reset Mode.</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespaceSparcISA.html#a7db8630fe6f6535da774c423f76a4e75">red</a> = <a class="code" href="bitfield_8hh.html#a037aa50d964c15b87b49ca219fd62d85">bits</a>(tlbdata, 1);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="comment">// Inside a VM, a real address is the address that guest OS would</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="comment">// interpret to be a physical address. To map to the physical address,</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="comment">// it still needs to undergo a translation. The instruction</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="comment">// translation code in the SPARC ITLB code assumes that the context is</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="comment">// zero (kernel-level) if real addressing is being used.</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordtype">int</span> is_real_address = !<a class="code" href="bitfield_8hh.html#a037aa50d964c15b87b49ca219fd62d85">bits</a>(tlbdata, 5);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="comment">// Grab the address space identifier register from the thread context.</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="comment">// XXX: Inspecting how setMiscReg and setMiscRegNoEffect behave for</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="comment">// MISCREG_ASI causes me to think that the ASI register implementation</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="comment">// might be bugged. The NoEffect variant changes the ASI register</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="comment">// value in the architectural state while the normal variant changes</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="comment">// the context field in the thread context&#39;s currently decoded request</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="comment">// but does not directly affect the ASI register value in the</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="comment">// architectural state. The ASI values and the context field in the</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="comment">// request packet seem to have completely different uses.</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <a class="code" href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a> reg_asi = tc-&gt;<a class="code" href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">readMiscRegNoEffect</a>(<a class="code" href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a831a392f415b647f33b4be99e14fd733">MISCREG_ASI</a>);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <a class="code" href="namespaceSparcISA.html#a4d3cd350a67d8e63007de11cfc00d398">ASI</a> asi = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceSparcISA.html#a4d3cd350a67d8e63007de11cfc00d398">ASI</a><span class="keyword">&gt;</span>(reg_asi);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="comment">// The SPARC DTLB code assumes that traps are executed in context</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="comment">// zero if the asi value is ASI_IMPLICIT (which is 0x0). There&#39;s also</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="comment">// an assumption that the nucleus address space is being used, but</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="comment">// the context is the relevant issue since we need to pass it to TLB.</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keywordtype">bool</span> trapped = <a class="code" href="bitfield_8hh.html#a037aa50d964c15b87b49ca219fd62d85">bits</a>(tlbdata, 18, 16) &gt; 0;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="comment">// Given the assumptions in the translateData code in the SPARC DTLB,</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="comment">// the logic works out to the following for the context.</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordtype">int</span> context_id = ((!hpriv &amp;&amp; !red &amp;&amp; is_real_address) ||</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                      <a class="code" href="namespaceSparcISA.html#a6716e751af61f4aefc5557d85cc2b151">asiIsReal</a>(asi) ||</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                      (trapped &amp;&amp; asi == <a class="code" href="namespaceSparcISA.html#a4d3cd350a67d8e63007de11cfc00d398afcf0659ee6dc67b4c0ca8980a1a65a2c">ASI_IMPLICIT</a>))</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                     ? 0 : primary_context;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="comment">// The partition id distinguishes between virtualized environments.</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordtype">int</span> <span class="keyword">const</span> partition_id = 0;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <a class="code" href="structSparcISA_1_1TlbEntry.html">TlbEntry</a> entry(p-&gt;<a class="code" href="classProcess.html#aeb1f0636e741b206059ffdbbc72bcf01">pTable</a>-&gt;<a class="code" href="classEmulationPageTable.html#a75c658349f05abcdecc96458b51725d1">pid</a>(), alignedvaddr, pte-&gt;<a class="code" href="structEmulationPageTable_1_1Entry.html#a6c1866a41d576b70e84527523d09dcba">paddr</a>,</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                   pte-&gt;<a class="code" href="structEmulationPageTable_1_1Entry.html#ab0274018c841d59ef66c60d66d652538">flags</a> &amp; <a class="code" href="classEmulationPageTable.html#ad28e4377007e2ccda8ec52a7ec19f8c4ad83776af07a54b44632edb06f86479e6">EmulationPageTable::Uncacheable</a>,</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                   pte-&gt;<a class="code" href="structEmulationPageTable_1_1Entry.html#ab0274018c841d59ef66c60d66d652538">flags</a> &amp; <a class="code" href="classEmulationPageTable.html#ad28e4377007e2ccda8ec52a7ec19f8c4a80fd9e3e8d61504ef3b30327b089f2d7">EmulationPageTable::ReadOnly</a>);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="comment">// Insert the TLB entry.</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="comment">// The entry specifying whether the address is &quot;real&quot; is set to</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="comment">// false for syscall emulation mode regardless of whether the</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="comment">// address is real in preceding code. Not sure sure that this is</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="comment">// correct, but also not sure if it matters at all.</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classSparcISA_1_1TLB.html">TLB</a> *<span class="keyword">&gt;</span>(tc-&gt;<a class="code" href="classThreadContext.html#a53bfdd465a582069be1d45a0e5ecf3c8">getDTBPtr</a>())-&gt;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        insert(alignedvaddr, partition_id, context_id, <span class="keyword">false</span>, entry.pte);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;}</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00767"></a><span class="lineno"><a class="line" href="classSparcISA_1_1SpillNNormal.html#a89b07c7fa907ca3a1a0b746a6561c862">  767</a></span>&#160;SpillNNormal::invoke(<a class="code" href="classThreadContext.html">ThreadContext</a> *tc, <span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">StaticInstPtr</a> &amp;inst)</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;{</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="full__system_8hh.html#af929576af6f85c8849704b66d04b8370">FullSystem</a>) {</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        SparcFaultBase::invoke(tc, inst);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    }</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <a class="code" href="namespaceSparcISA.html#aed5c708b3be9708cc31e8e622aa680df">doNormalFault</a>(tc, trapType(), <span class="keyword">false</span>);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <a class="code" href="classProcess.html">Process</a> *<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a> = tc-&gt;<a class="code" href="classThreadContext.html#a578034e4f174170011007e9908ca666d">getProcessPtr</a>();</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <a class="code" href="classSparcProcess.html">SparcProcess</a> *<a class="code" href="namespaceArmISA.html#a374fc69ddc2f21b9b13d2dcdcad3531f">sp</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classSparcProcess.html">SparcProcess</a> *<span class="keyword">&gt;</span>(<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a>);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    assert(sp);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="comment">// Then adjust the PC and NPC</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#ae23e31fe8b229b8fa7c246539a530a4b">pcState</a>(sp-&gt;<a class="code" href="classSparcProcess.html#a928f520ee8cce194e16e92ab818108a7">readSpillStart</a>());</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;}</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00786"></a><span class="lineno"><a class="line" href="classSparcISA_1_1FillNNormal.html#a454a67a28f959c97fe72a908e3c7b992">  786</a></span>&#160;FillNNormal::invoke(<a class="code" href="classThreadContext.html">ThreadContext</a> *tc, <span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">StaticInstPtr</a> &amp;inst)</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;{</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="full__system_8hh.html#af929576af6f85c8849704b66d04b8370">FullSystem</a>) {</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        SparcFaultBase::invoke(tc, inst);</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    }</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <a class="code" href="namespaceSparcISA.html#aed5c708b3be9708cc31e8e622aa680df">doNormalFault</a>(tc, trapType(), <span class="keyword">false</span>);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <a class="code" href="classProcess.html">Process</a> *<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a> = tc-&gt;<a class="code" href="classThreadContext.html#a578034e4f174170011007e9908ca666d">getProcessPtr</a>();</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <a class="code" href="classSparcProcess.html">SparcProcess</a> *<a class="code" href="namespaceArmISA.html#a374fc69ddc2f21b9b13d2dcdcad3531f">sp</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classSparcProcess.html">SparcProcess</a> *<span class="keyword">&gt;</span>(<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a>);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    assert(sp);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="comment">// Then adjust the PC and NPC</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#ae23e31fe8b229b8fa7c246539a530a4b">pcState</a>(sp-&gt;<a class="code" href="classSparcProcess.html#ad238497b3d84e6bc8b7e80c9d2e9f2ed">readFillStart</a>());</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;}</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00805"></a><span class="lineno"><a class="line" href="classSparcISA_1_1TrapInstruction.html#a0877f284e751982d14c15ed79121419c">  805</a></span>&#160;TrapInstruction::invoke(<a class="code" href="classThreadContext.html">ThreadContext</a> *tc, <span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">StaticInstPtr</a> &amp;inst)</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;{</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="full__system_8hh.html#af929576af6f85c8849704b66d04b8370">FullSystem</a>) {</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        SparcFaultBase::invoke(tc, inst);</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    }</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="comment">// In SE, this mechanism is how the process requests a service from</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="comment">// the operating system. We&#39;ll get the process object from the thread</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="comment">// context and let it service the request.</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <a class="code" href="classProcess.html">Process</a> *<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a> = tc-&gt;<a class="code" href="classThreadContext.html#a578034e4f174170011007e9908ca666d">getProcessPtr</a>();</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <a class="code" href="classSparcProcess.html">SparcProcess</a> *<a class="code" href="namespaceArmISA.html#a374fc69ddc2f21b9b13d2dcdcad3531f">sp</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classSparcProcess.html">SparcProcess</a> *<span class="keyword">&gt;</span>(<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a>);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    assert(sp);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <a class="code" href="base_2types_8hh.html#afbdce43497ec3a10ccb2d2141fb1def1">Fault</a> fault;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    sp-&gt;<a class="code" href="classSparcProcess.html#a5ece6d322ea45318d8f7afa6979f9125">handleTrap</a>(_n, tc, &amp;fault);</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="comment">// We need to explicitly advance the pc, since that&#39;s not done for us</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="comment">// on a faulting instruction</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <a class="code" href="classGenericISA_1_1DelaySlotUPCState.html">PCState</a> <a class="code" href="namespaceMipsISA.html#a4f7ed975e7137b5c369214789649451f">pc</a> = tc-&gt;<a class="code" href="classThreadContext.html#ae23e31fe8b229b8fa7c246539a530a4b">pcState</a>();</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    pc.<a class="code" href="classGenericISA_1_1DelaySlotPCState.html#af46e566f8d4812dbde3e22f134c787fe">advance</a>();</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    tc-&gt;<a class="code" href="classThreadContext.html#ae23e31fe8b229b8fa7c246539a530a4b">pcState</a>(pc);</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;}</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;} <span class="comment">// namespace SparcISA</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div><div class="ttc" id="logging_8hh_html_a1445e207e36c97ff84c54b47288cea19"><div class="ttname"><a href="logging_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a></div><div class="ttdeci">#define panic(...)</div><div class="ttdoc">This implements a cprintf based panic() function. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8hh_source.html#l00167">logging.hh:167</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a6716e751af61f4aefc5557d85cc2b151"><div class="ttname"><a href="namespaceSparcISA.html#a6716e751af61f4aefc5557d85cc2b151">SparcISA::asiIsReal</a></div><div class="ttdeci">bool asiIsReal(ASI asi)</div><div class="ttdef"><b>Definition:</b> <a href="asi_8cc_source.html#l00142">asi.cc:142</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a1bc29809077f31bf3ff90f5f4de3dd80"><div class="ttname"><a href="namespaceSparcISA.html#a1bc29809077f31bf3ff90f5f4de3dd80">SparcISA::getREDVector</a></div><div class="ttdeci">void getREDVector(RegVal TT, Addr &amp;PC, Addr &amp;NPC)</div><div class="ttdef"><b>Definition:</b> <a href="arch_2sparc_2faults_8cc_source.html#l00473">faults.cc:473</a></div></div>
<div class="ttc" id="classThreadContext_html_a23a64a50403b3a89e3ea71d4899a4363"><div class="ttname"><a href="classThreadContext.html#a23a64a50403b3a89e3ea71d4899a4363">ThreadContext::setMiscReg</a></div><div class="ttdeci">virtual void setMiscReg(RegIndex misc_reg, RegVal val)=0</div></div>
<div class="ttc" id="namespaceSparcISA_html_a8b399c7e98e2a68710f85cbf58cc5e13a2999dadfecb3d82725e6c0e3e8fa3017"><div class="ttname"><a href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a2999dadfecb3d82725e6c0e3e8fa3017">SparcISA::MISCREG_TICK</a></div><div class="ttdef"><b>Definition:</b> <a href="sparc_2miscregs_8hh_source.html#l00046">miscregs.hh:46</a></div></div>
<div class="ttc" id="structSparcISA_1_1TlbEntry_html"><div class="ttname"><a href="structSparcISA_1_1TlbEntry.html">SparcISA::TlbEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="sparc_2pagetable_8hh_source.html#l00228">pagetable.hh:228</a></div></div>
<div class="ttc" id="arch_2sparc_2types_8hh_html"><div class="ttname"><a href="arch_2sparc_2types_8hh.html">types.hh</a></div></div>
<div class="ttc" id="classThreadContext_html_a53bfdd465a582069be1d45a0e5ecf3c8"><div class="ttname"><a href="classThreadContext.html#a53bfdd465a582069be1d45a0e5ecf3c8">ThreadContext::getDTBPtr</a></div><div class="ttdeci">virtual BaseTLB * getDTBPtr()=0</div></div>
<div class="ttc" id="structEmulationPageTable_1_1Entry_html_a6c1866a41d576b70e84527523d09dcba"><div class="ttname"><a href="structEmulationPageTable_1_1Entry.html#a6c1866a41d576b70e84527523d09dcba">EmulationPageTable::Entry::paddr</a></div><div class="ttdeci">Addr paddr</div><div class="ttdef"><b>Definition:</b> <a href="page__table_8hh_source.html#l00055">page_table.hh:55</a></div></div>
<div class="ttc" id="classThreadContext_html_ae23e31fe8b229b8fa7c246539a530a4b"><div class="ttname"><a href="classThreadContext.html#ae23e31fe8b229b8fa7c246539a530a4b">ThreadContext::pcState</a></div><div class="ttdeci">virtual TheISA::PCState pcState() const =0</div></div>
<div class="ttc" id="classThreadContext_html_aaa39c3080c92b37f7f740e264338c4a4"><div class="ttname"><a href="classThreadContext.html#aaa39c3080c92b37f7f740e264338c4a4">ThreadContext::readIntReg</a></div><div class="ttdeci">virtual RegVal readIntReg(RegIndex reg_idx) const =0</div></div>
<div class="ttc" id="namespaceSparcISA_html_a1651b2405ef642b8feeb7a37dd43a969"><div class="ttname"><a href="namespaceSparcISA.html#a1651b2405ef642b8feeb7a37dd43a969">SparcISA::MachInst</a></div><div class="ttdeci">uint32_t MachInst</div><div class="ttdef"><b>Definition:</b> <a href="arch_2sparc_2types_8hh_source.html#l00040">types.hh:40</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_ac159a9cf41ee39d2823ad3429bb6d964"><div class="ttname"><a href="namespaceSparcISA.html#ac159a9cf41ee39d2823ad3429bb6d964">SparcISA::TrapType</a></div><div class="ttdeci">uint32_t TrapType</div><div class="ttdef"><b>Definition:</b> <a href="arch_2sparc_2faults_8hh_source.html#l00043">faults.hh:43</a></div></div>
<div class="ttc" id="classThreadContext_html_acc2c70b9ee300b1b8c65d7dff1d3d7f0"><div class="ttname"><a href="classThreadContext.html#acc2c70b9ee300b1b8c65d7dff1d3d7f0">ThreadContext::setMiscRegNoEffect</a></div><div class="ttdeci">virtual void setMiscRegNoEffect(RegIndex misc_reg, RegVal val)=0</div></div>
<div class="ttc" id="namespaceSparcISA_html_ae6ced686e0d9533199167842193cd2e6"><div class="ttname"><a href="namespaceSparcISA.html#ae6ced686e0d9533199167842193cd2e6">SparcISA::MaxGL</a></div><div class="ttdeci">const int MaxGL</div><div class="ttdef"><b>Definition:</b> <a href="sparc__traits_8hh_source.html#l00039">sparc_traits.hh:39</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_aed5c708b3be9708cc31e8e622aa680df"><div class="ttname"><a href="namespaceSparcISA.html#aed5c708b3be9708cc31e8e622aa680df">SparcISA::doNormalFault</a></div><div class="ttdeci">void doNormalFault(ThreadContext *tc, TrapType tt, bool gotoHpriv)</div><div class="ttdoc">This sets everything up for a normal trap except for actually jumping to the handler. </div><div class="ttdef"><b>Definition:</b> <a href="arch_2sparc_2faults_8cc_source.html#l00382">faults.cc:382</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a4d3cd350a67d8e63007de11cfc00d398afcf0659ee6dc67b4c0ca8980a1a65a2c"><div class="ttname"><a href="namespaceSparcISA.html#a4d3cd350a67d8e63007de11cfc00d398afcf0659ee6dc67b4c0ca8980a1a65a2c">SparcISA::ASI_IMPLICIT</a></div><div class="ttdef"><b>Definition:</b> <a href="asi_8hh_source.html#l00039">asi.hh:39</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a997d312ab9d43c1572483f8747c973c8"><div class="ttname"><a href="namespaceSparcISA.html#a997d312ab9d43c1572483f8747c973c8">SparcISA::getHyperVector</a></div><div class="ttdeci">void getHyperVector(ThreadContext *tc, Addr &amp;PC, Addr &amp;NPC, RegVal TT)</div><div class="ttdef"><b>Definition:</b> <a href="arch_2sparc_2faults_8cc_source.html#l00482">faults.cc:482</a></div></div>
<div class="ttc" id="cpu_2base_8hh_html"><div class="ttname"><a href="cpu_2base_8hh.html">base.hh</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a8b399c7e98e2a68710f85cbf58cc5e13a54349a00e362e6edb382d8e0d3f78250"><div class="ttname"><a href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a54349a00e362e6edb382d8e0d3f78250">SparcISA::MISCREG_GL</a></div><div class="ttdef"><b>Definition:</b> <a href="sparc_2miscregs_8hh_source.html#l00074">miscregs.hh:74</a></div></div>
<div class="ttc" id="namespaceArmISA_html_a374fc69ddc2f21b9b13d2dcdcad3531f"><div class="ttname"><a href="namespaceArmISA.html#a374fc69ddc2f21b9b13d2dcdcad3531f">ArmISA::sp</a></div><div class="ttdeci">Bitfield&lt; 0 &gt; sp</div><div class="ttdef"><b>Definition:</b> <a href="miscregs__types_8hh_source.html#l00074">miscregs_types.hh:74</a></div></div>
<div class="ttc" id="full__system_8hh_html_af929576af6f85c8849704b66d04b8370"><div class="ttname"><a href="full__system_8hh.html#af929576af6f85c8849704b66d04b8370">FullSystem</a></div><div class="ttdeci">bool FullSystem</div><div class="ttdoc">The FullSystem variable can be used to determine the current mode of simulation. </div><div class="ttdef"><b>Definition:</b> <a href="root_8cc_source.html#l00136">root.cc:136</a></div></div>
<div class="ttc" id="namespaceX86ISA_html_a8a60415c8d6f83377a462bb924e51c3a"><div class="ttname"><a href="namespaceX86ISA.html#a8a60415c8d6f83377a462bb924e51c3a">X86ISA::H</a></div><div class="ttdeci">Bitfield&lt; 15, 8 &gt; H</div><div class="ttdef"><b>Definition:</b> <a href="int_8hh_source.html#l00057">int.hh:57</a></div></div>
<div class="ttc" id="classThreadContext_html_a578034e4f174170011007e9908ca666d"><div class="ttname"><a href="classThreadContext.html#a578034e4f174170011007e9908ca666d">ThreadContext::getProcessPtr</a></div><div class="ttdeci">virtual Process * getProcessPtr()=0</div></div>
<div class="ttc" id="base_2types_8hh_html_ae921129ca7cdba02e1a26b763caafb78"><div class="ttname"><a href="base_2types_8hh.html#ae921129ca7cdba02e1a26b763caafb78">RegVal</a></div><div class="ttdeci">uint64_t RegVal</div><div class="ttdef"><b>Definition:</b> <a href="base_2types_8hh_source.html#l00168">types.hh:168</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdoc">Overload hash function for BasicBlockRange type. </div><div class="ttdef"><b>Definition:</b> <a href="vec__reg_8hh_source.html#l00585">vec_reg.hh:585</a></div></div>
<div class="ttc" id="classEmulationPageTable_html_ad28e4377007e2ccda8ec52a7ec19f8c4ad83776af07a54b44632edb06f86479e6"><div class="ttname"><a href="classEmulationPageTable.html#ad28e4377007e2ccda8ec52a7ec19f8c4ad83776af07a54b44632edb06f86479e6">EmulationPageTable::Uncacheable</a></div><div class="ttdef"><b>Definition:</b> <a href="page__table_8hh_source.html#l00095">page_table.hh:95</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a8b399c7e98e2a68710f85cbf58cc5e13ae7329ab09f518edab8c7ef18048c65ec"><div class="ttname"><a href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13ae7329ab09f518edab8c7ef18048c65ec">SparcISA::MISCREG_HTBA</a></div><div class="ttdef"><b>Definition:</b> <a href="sparc_2miscregs_8hh_source.html#l00080">miscregs.hh:80</a></div></div>
<div class="ttc" id="classRefCountingPtr_html"><div class="ttname"><a href="classRefCountingPtr.html">RefCountingPtr&lt; StaticInst &gt;</a></div></div>
<div class="ttc" id="classThreadContext_html"><div class="ttname"><a href="classThreadContext.html">ThreadContext</a></div><div class="ttdoc">ThreadContext is the external interface to all thread state for anything outside of the CPU...</div><div class="ttdef"><b>Definition:</b> <a href="cpu_2thread__context_8hh_source.html#l00092">thread_context.hh:92</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a8b399c7e98e2a68710f85cbf58cc5e13aefa8cc4d142456a03053100c3dc5253c"><div class="ttname"><a href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13aefa8cc4d142456a03053100c3dc5253c">SparcISA::MISCREG_PSTATE</a></div><div class="ttdef"><b>Definition:</b> <a href="sparc_2miscregs_8hh_source.html#l00065">miscregs.hh:65</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a8b399c7e98e2a68710f85cbf58cc5e13a9a2e01f3342df4c0e02de3d7cac95cc9"><div class="ttname"><a href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a9a2e01f3342df4c0e02de3d7cac95cc9">SparcISA::MISCREG_TLB_DATA</a></div><div class="ttdef"><b>Definition:</b> <a href="sparc_2miscregs_8hh_source.html#l00115">miscregs.hh:115</a></div></div>
<div class="ttc" id="classGenericISA_1_1SimplePCState_html_a227b993ac419e080ec54dee0dcb1626b"><div class="ttname"><a href="classGenericISA_1_1SimplePCState.html#a227b993ac419e080ec54dee0dcb1626b">GenericISA::SimplePCState::pc</a></div><div class="ttdeci">Addr pc() const</div><div class="ttdef"><b>Definition:</b> <a href="arch_2generic_2types_8hh_source.html#l00148">types.hh:148</a></div></div>
<div class="ttc" id="base_2trace_8hh_html"><div class="ttname"><a href="base_2trace_8hh.html">trace.hh</a></div></div>
<div class="ttc" id="namespaceAlphaISA_html_a63693d656cc2bf4bdd0de3e493eabe66"><div class="ttname"><a href="namespaceAlphaISA.html#a63693d656cc2bf4bdd0de3e493eabe66">AlphaISA::MachInst</a></div><div class="ttdeci">uint32_t MachInst</div><div class="ttdef"><b>Definition:</b> <a href="arch_2alpha_2types_8hh_source.html#l00040">types.hh:40</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a8b399c7e98e2a68710f85cbf58cc5e13a887fa687abdf25daa896add5f5d7be4d"><div class="ttname"><a href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a887fa687abdf25daa896add5f5d7be4d">SparcISA::MISCREG_TL</a></div><div class="ttdef"><b>Definition:</b> <a href="sparc_2miscregs_8hh_source.html#l00066">miscregs.hh:66</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a8b399c7e98e2a68710f85cbf58cc5e13a42166e6309b7c6c82e117d9c6166c18f"><div class="ttname"><a href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a42166e6309b7c6c82e117d9c6166c18f">SparcISA::MISCREG_HTSTATE</a></div><div class="ttdef"><b>Definition:</b> <a href="sparc_2miscregs_8hh_source.html#l00078">miscregs.hh:78</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a1755f601d15a1eeef87d0cf55b011f88"><div class="ttname"><a href="namespaceSparcISA.html#a1755f601d15a1eeef87d0cf55b011f88">SparcISA::hpriv</a></div><div class="ttdeci">Bitfield&lt; 2 &gt; hpriv</div><div class="ttdef"><b>Definition:</b> <a href="sparc_2miscregs_8hh_source.html#l00121">miscregs.hh:121</a></div></div>
<div class="ttc" id="classGenericISA_1_1DelaySlotUPCState_html_a578e01246023c270547cbf937dfdabea"><div class="ttname"><a href="classGenericISA_1_1DelaySlotUPCState.html#a578e01246023c270547cbf937dfdabea">GenericISA::DelaySlotUPCState::upc</a></div><div class="ttdeci">MicroPC upc() const</div><div class="ttdef"><b>Definition:</b> <a href="arch_2generic_2types_8hh_source.html#l00383">types.hh:383</a></div></div>
<div class="ttc" id="arch_2sparc_2process_8hh_html"><div class="ttname"><a href="arch_2sparc_2process_8hh.html">process.hh</a></div></div>
<div class="ttc" id="classSparcProcess_html"><div class="ttname"><a href="classSparcProcess.html">SparcProcess</a></div><div class="ttdef"><b>Definition:</b> <a href="arch_2sparc_2process_8hh_source.html#l00045">process.hh:45</a></div></div>
<div class="ttc" id="sim_2process_8hh_html"><div class="ttname"><a href="sim_2process_8hh.html">process.hh</a></div></div>
<div class="ttc" id="namespaceMipsISA_html_a02c1eec4d905c95a4614e86e0a933741"><div class="ttname"><a href="namespaceMipsISA.html#a02c1eec4d905c95a4614e86e0a933741">MipsISA::tl</a></div><div class="ttdeci">Bitfield&lt; 23, 20 &gt; tl</div><div class="ttdef"><b>Definition:</b> <a href="mips_2pra__constants_8hh_source.html#l00253">pra_constants.hh:253</a></div></div>
<div class="ttc" id="classEmulationPageTable_html_af1317b22ec0ea20f5e7ad09c94c32ecd"><div class="ttname"><a href="classEmulationPageTable.html#af1317b22ec0ea20f5e7ad09c94c32ecd">EmulationPageTable::pageAlign</a></div><div class="ttdeci">Addr pageAlign(Addr a)</div><div class="ttdef"><b>Definition:</b> <a href="page__table_8hh_source.html#l00107">page_table.hh:107</a></div></div>
<div class="ttc" id="namespaceMipsISA_html_a4f7ed975e7137b5c369214789649451f"><div class="ttname"><a href="namespaceMipsISA.html#a4f7ed975e7137b5c369214789649451f">MipsISA::pc</a></div><div class="ttdeci">Bitfield&lt; 4 &gt; pc</div><div class="ttdef"><b>Definition:</b> <a href="mips_2pra__constants_8hh_source.html#l00242">pra_constants.hh:242</a></div></div>
<div class="ttc" id="classSparcISA_1_1SparcFaultBase_html_a459ebc7c34ad6a34f704ef5be57870d8"><div class="ttname"><a href="classSparcISA_1_1SparcFaultBase.html#a459ebc7c34ad6a34f704ef5be57870d8">SparcISA::SparcFaultBase::PrivilegeLevel</a></div><div class="ttdeci">PrivilegeLevel</div><div class="ttdef"><b>Definition:</b> <a href="arch_2sparc_2faults_8hh_source.html#l00051">faults.hh:51</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a8b399c7e98e2a68710f85cbf58cc5e13ac3a79e26cba695cda645d876adae85b6"><div class="ttname"><a href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13ac3a79e26cba695cda645d876adae85b6">SparcISA::MISCREG_HPSTATE</a></div><div class="ttdoc">Hyper privileged registers. </div><div class="ttdef"><b>Definition:</b> <a href="sparc_2miscregs_8hh_source.html#l00077">miscregs.hh:77</a></div></div>
<div class="ttc" id="bitfield_8hh_html_a30dba2ad0c639652769dd990b20f6350"><div class="ttname"><a href="bitfield_8hh.html#a30dba2ad0c639652769dd990b20f6350">replaceBits</a></div><div class="ttdeci">void replaceBits(T &amp;val, int first, int last, B bit_val)</div><div class="ttdoc">A convenience function to replace bits first to last of val with bit_val in place. </div><div class="ttdef"><b>Definition:</b> <a href="bitfield_8hh_source.html#l00157">bitfield.hh:157</a></div></div>
<div class="ttc" id="classSparcISA_1_1SparcFault_html_a0f232aeab581f9655c176e4b5b4ab7df"><div class="ttname"><a href="classSparcISA_1_1SparcFault.html#a0f232aeab581f9655c176e4b5b4ab7df">SparcISA::SparcFault&lt; PowerOnReset &gt;::vals</a></div><div class="ttdeci">SparcFaultBase::FaultVals vals</div><div class="ttdef"><b>Definition:</b> <a href="arch_2sparc_2faults_8hh_source.html#l00290">faults.hh:290</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a8b399c7e98e2a68710f85cbf58cc5e13a8d40d476faf25b4ffeeecdfba72dfca2"><div class="ttname"><a href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a8d40d476faf25b4ffeeecdfba72dfca2">SparcISA::MISCREG_CWP</a></div><div class="ttdef"><b>Definition:</b> <a href="sparc_2miscregs_8hh_source.html#l00068">miscregs.hh:68</a></div></div>
<div class="ttc" id="bitfield_8hh_html"><div class="ttname"><a href="bitfield_8hh.html">bitfield.hh</a></div></div>
<div class="ttc" id="namespaceMipsISA_html_a9bab751e4fa25d88bf84ee970a01a641"><div class="ttname"><a href="namespaceMipsISA.html#a9bab751e4fa25d88bf84ee970a01a641">MipsISA::vaddr</a></div><div class="ttdeci">vaddr</div><div class="ttdef"><b>Definition:</b> <a href="mips_2pra__constants_8hh_source.html#l00277">pra_constants.hh:277</a></div></div>
<div class="ttc" id="classGenericISA_1_1DelaySlotUPCState_html_a2d95152548236e5261eb66763b69afb5"><div class="ttname"><a href="classGenericISA_1_1DelaySlotUPCState.html#a2d95152548236e5261eb66763b69afb5">GenericISA::DelaySlotUPCState::nupc</a></div><div class="ttdeci">MicroPC nupc() const</div><div class="ttdef"><b>Definition:</b> <a href="arch_2generic_2types_8hh_source.html#l00386">types.hh:386</a></div></div>
<div class="ttc" id="structEmulationPageTable_1_1Entry_html"><div class="ttname"><a href="structEmulationPageTable_1_1Entry.html">EmulationPageTable::Entry</a></div><div class="ttdef"><b>Definition:</b> <a href="page__table_8hh_source.html#l00053">page_table.hh:53</a></div></div>
<div class="ttc" id="classThreadContext_html_a2a9e2f3b0b81225d34ce2e840dbc43eb"><div class="ttname"><a href="classThreadContext.html#a2a9e2f3b0b81225d34ce2e840dbc43eb">ThreadContext::getITBPtr</a></div><div class="ttdeci">virtual BaseTLB * getITBPtr()=0</div></div>
<div class="ttc" id="sparc_2isa__traits_8hh_html"><div class="ttname"><a href="sparc_2isa__traits_8hh.html">isa_traits.hh</a></div></div>
<div class="ttc" id="classSparcProcess_html_a928f520ee8cce194e16e92ab818108a7"><div class="ttname"><a href="classSparcProcess.html#a928f520ee8cce194e16e92ab818108a7">SparcProcess::readSpillStart</a></div><div class="ttdeci">Addr readSpillStart()</div><div class="ttdef"><b>Definition:</b> <a href="arch_2sparc_2process_8hh_source.html#l00068">process.hh:68</a></div></div>
<div class="ttc" id="arch_2sparc_2faults_8hh_html"><div class="ttname"><a href="arch_2sparc_2faults_8hh.html">faults.hh</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_af2f2f6bfdbf1044d410d1279e48da330"><div class="ttname"><a href="namespaceSparcISA.html#af2f2f6bfdbf1044d410d1279e48da330">SparcISA::enterREDState</a></div><div class="ttdeci">void enterREDState(ThreadContext *tc)</div><div class="ttdoc">This causes the thread context to enter RED state. </div><div class="ttdef"><b>Definition:</b> <a href="arch_2sparc_2faults_8cc_source.html#l00282">faults.cc:282</a></div></div>
<div class="ttc" id="classEmulationPageTable_html_ad28e4377007e2ccda8ec52a7ec19f8c4a80fd9e3e8d61504ef3b30327b089f2d7"><div class="ttname"><a href="classEmulationPageTable.html#ad28e4377007e2ccda8ec52a7ec19f8c4a80fd9e3e8d61504ef3b30327b089f2d7">EmulationPageTable::ReadOnly</a></div><div class="ttdef"><b>Definition:</b> <a href="page__table_8hh_source.html#l00096">page_table.hh:96</a></div></div>
<div class="ttc" id="base_2types_8hh_html_af1bb03d6a4ee096394a6749f0a169232"><div class="ttname"><a href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a></div><div class="ttdeci">uint64_t Addr</div><div class="ttdoc">Address type This will probably be moved somewhere else in the near future. </div><div class="ttdef"><b>Definition:</b> <a href="base_2types_8hh_source.html#l00142">types.hh:142</a></div></div>
<div class="ttc" id="base_2types_8hh_html_adcc3cf526a71c0dfaae020d432c78b83"><div class="ttname"><a href="base_2types_8hh.html#adcc3cf526a71c0dfaae020d432c78b83">ULL</a></div><div class="ttdeci">#define ULL(N)</div><div class="ttdoc">uint64_t constant </div><div class="ttdef"><b>Definition:</b> <a href="base_2types_8hh_source.html#l00050">types.hh:50</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a8b399c7e98e2a68710f85cbf58cc5e13ac802ace407551710595a031c51ae4882"><div class="ttname"><a href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13ac802ace407551710595a031c51ae4882">SparcISA::MISCREG_TNPC</a></div><div class="ttdef"><b>Definition:</b> <a href="sparc_2miscregs_8hh_source.html#l00060">miscregs.hh:60</a></div></div>
<div class="ttc" id="classGenericISA_1_1SimplePCState_html_a27933143813a79b65b4183ff1360909b"><div class="ttname"><a href="classGenericISA_1_1SimplePCState.html#a27933143813a79b65b4183ff1360909b">GenericISA::SimplePCState::npc</a></div><div class="ttdeci">Addr npc() const</div><div class="ttdef"><b>Definition:</b> <a href="arch_2generic_2types_8hh_source.html#l00151">types.hh:151</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a8b399c7e98e2a68710f85cbf58cc5e13a831a392f415b647f33b4be99e14fd733"><div class="ttname"><a href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a831a392f415b647f33b4be99e14fd733">SparcISA::MISCREG_ASI</a></div><div class="ttdoc">Ancillary State Registers. </div><div class="ttdef"><b>Definition:</b> <a href="sparc_2miscregs_8hh_source.html#l00045">miscregs.hh:45</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a9b4ee042d8c4a0e83e819ff55d98dfee"><div class="ttname"><a href="namespaceSparcISA.html#a9b4ee042d8c4a0e83e819ff55d98dfee">SparcISA::MaxPGL</a></div><div class="ttdeci">const int MaxPGL</div><div class="ttdef"><b>Definition:</b> <a href="sparc__traits_8hh_source.html#l00040">sparc_traits.hh:40</a></div></div>
<div class="ttc" id="namespaceX86ISA_html_acabdf99084eaf74c35035a9175ec3aee"><div class="ttname"><a href="namespaceX86ISA.html#acabdf99084eaf74c35035a9175ec3aee">X86ISA::level</a></div><div class="ttdeci">Bitfield&lt; 20 &gt; level</div><div class="ttdef"><b>Definition:</b> <a href="intmessage_8hh_source.html#l00049">intmessage.hh:49</a></div></div>
<div class="ttc" id="classGenericISA_1_1DelaySlotPCState_html_aa6acdfa9b78912cad8949560a1d46f79"><div class="ttname"><a href="classGenericISA_1_1DelaySlotPCState.html#aa6acdfa9b78912cad8949560a1d46f79">GenericISA::DelaySlotPCState::nnpc</a></div><div class="ttdeci">Addr nnpc() const</div><div class="ttdef"><b>Definition:</b> <a href="arch_2generic_2types_8hh_source.html#l00303">types.hh:303</a></div></div>
<div class="ttc" id="namespaceX86ISA_html_a603eb3b39ce3f8ba50db4ba97e8c8b0b"><div class="ttname"><a href="namespaceX86ISA.html#a603eb3b39ce3f8ba50db4ba97e8c8b0b">X86ISA::SH</a></div><div class="ttdeci">SignedBitfield&lt; 15, 8 &gt; SH</div><div class="ttdef"><b>Definition:</b> <a href="int_8hh_source.html#l00058">int.hh:58</a></div></div>
<div class="ttc" id="classProcess_html_aeafd0a9f4f332dab45ff954f8857e82f"><div class="ttname"><a href="classProcess.html#aeafd0a9f4f332dab45ff954f8857e82f">Process::fixupStackFault</a></div><div class="ttdeci">bool fixupStackFault(Addr vaddr)</div><div class="ttdoc">Attempt to fix up a fault at vaddr by allocating a page on the stack. </div><div class="ttdef"><b>Definition:</b> <a href="sim_2process_8cc_source.html#l00372">process.cc:372</a></div></div>
<div class="ttc" id="cpu_2thread__context_8hh_html"><div class="ttname"><a href="cpu_2thread__context_8hh.html">thread_context.hh</a></div></div>
<div class="ttc" id="namespaceAlphaISA_html_a42171e938f795c2342186e8b4c5b63d0"><div class="ttname"><a href="namespaceAlphaISA.html#a42171e938f795c2342186e8b4c5b63d0">AlphaISA::NumIntArchRegs</a></div><div class="ttdeci">const int NumIntArchRegs</div><div class="ttdef"><b>Definition:</b> <a href="alpha_2registers_8hh_source.html#l00089">registers.hh:89</a></div></div>
<div class="ttc" id="classProcess_html_aeb1f0636e741b206059ffdbbc72bcf01"><div class="ttname"><a href="classProcess.html#aeb1f0636e741b206059ffdbbc72bcf01">Process::pTable</a></div><div class="ttdeci">EmulationPageTable * pTable</div><div class="ttdef"><b>Definition:</b> <a href="sim_2process_8hh_source.html#l00182">process.hh:182</a></div></div>
<div class="ttc" id="classThreadContext_html_aca903e46048a5e7a9cce0f8be315660d"><div class="ttname"><a href="classThreadContext.html#aca903e46048a5e7a9cce0f8be315660d">ThreadContext::readMiscRegNoEffect</a></div><div class="ttdeci">virtual RegVal readMiscRegNoEffect(RegIndex misc_reg) const =0</div></div>
<div class="ttc" id="page__table_8hh_html"><div class="ttname"><a href="page__table_8hh.html">page_table.hh</a></div><div class="ttdoc">Declarations of a non-full system Page Table. </div></div>
<div class="ttc" id="namespaceSparcISA_html_a7fc70925d9b55ea5a531967d5994a283"><div class="ttname"><a href="namespaceSparcISA.html#a7fc70925d9b55ea5a531967d5994a283">SparcISA::MaxTL</a></div><div class="ttdeci">const int MaxTL</div><div class="ttdef"><b>Definition:</b> <a href="sparc__traits_8hh_source.html#l00038">sparc_traits.hh:38</a></div></div>
<div class="ttc" id="classGenericISA_1_1DelaySlotUPCState_html"><div class="ttname"><a href="classGenericISA_1_1DelaySlotUPCState.html">GenericISA::DelaySlotUPCState</a></div><div class="ttdef"><b>Definition:</b> <a href="arch_2generic_2types_8hh_source.html#l00373">types.hh:373</a></div></div>
<div class="ttc" id="namespaceSparcISA_html"><div class="ttname"><a href="namespaceSparcISA.html">SparcISA</a></div><div class="ttdef"><b>Definition:</b> <a href="asi_8cc_source.html#l00034">asi.cc:34</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a8b399c7e98e2a68710f85cbf58cc5e13ad377926386bb44a61780494c84920c17"><div class="ttname"><a href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13ad377926386bb44a61780494c84920c17">SparcISA::MISCREG_TPC</a></div><div class="ttdoc">Privilged Registers. </div><div class="ttdef"><b>Definition:</b> <a href="sparc_2miscregs_8hh_source.html#l00059">miscregs.hh:59</a></div></div>
<div class="ttc" id="namespaceMipsISA_html_a7edb5fe30d2ca7633281814301bb2bbd"><div class="ttname"><a href="namespaceMipsISA.html#a7edb5fe30d2ca7633281814301bb2bbd">MipsISA::FaultVals</a></div><div class="ttdeci">MipsFaultBase::FaultVals FaultVals</div><div class="ttdef"><b>Definition:</b> <a href="arch_2mips_2faults_8cc_source.html#l00049">faults.cc:49</a></div></div>
<div class="ttc" id="classSparcProcess_html_a5ece6d322ea45318d8f7afa6979f9125"><div class="ttname"><a href="classSparcProcess.html#a5ece6d322ea45318d8f7afa6979f9125">SparcProcess::handleTrap</a></div><div class="ttdeci">virtual void handleTrap(int trapNum, ThreadContext *tc, Fault *fault)</div><div class="ttdef"><b>Definition:</b> <a href="arch_2sparc_2process_8cc_source.html#l00071">process.cc:71</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a2eb6858d8ba11fb2871968be98d28d60"><div class="ttname"><a href="namespaceSparcISA.html#a2eb6858d8ba11fb2871968be98d28d60">SparcISA::NWindows</a></div><div class="ttdeci">const int NWindows</div><div class="ttdef"><b>Definition:</b> <a href="sparc__traits_8hh_source.html#l00043">sparc_traits.hh:43</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a58fc619784a41843b1c16671e19a6398"><div class="ttname"><a href="namespaceSparcISA.html#a58fc619784a41843b1c16671e19a6398">SparcISA::doREDFault</a></div><div class="ttdeci">void doREDFault(ThreadContext *tc, TrapType tt)</div><div class="ttdoc">This sets everything up for a RED state trap except for actually jumping to the handler. </div><div class="ttdef"><b>Definition:</b> <a href="arch_2sparc_2faults_8cc_source.html#l00303">faults.cc:303</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a7db8630fe6f6535da774c423f76a4e75"><div class="ttname"><a href="namespaceSparcISA.html#a7db8630fe6f6535da774c423f76a4e75">SparcISA::red</a></div><div class="ttdeci">Bitfield&lt; 5 &gt; red</div><div class="ttdef"><b>Definition:</b> <a href="sparc_2miscregs_8hh_source.html#l00122">miscregs.hh:122</a></div></div>
<div class="ttc" id="sparc_2tlb_8hh_html"><div class="ttname"><a href="sparc_2tlb_8hh.html">tlb.hh</a></div></div>
<div class="ttc" id="classEmulationPageTable_html_a692ce97e35ba203ca11d981c61b60716"><div class="ttname"><a href="classEmulationPageTable.html#a692ce97e35ba203ca11d981c61b60716">EmulationPageTable::lookup</a></div><div class="ttdeci">const Entry * lookup(Addr vaddr)</div><div class="ttdoc">Lookup function. </div><div class="ttdef"><b>Definition:</b> <a href="page__table_8cc_source.html#l00134">page_table.cc:134</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a8b399c7e98e2a68710f85cbf58cc5e13a3984433dc2a46ca0e8c067951e80cbb2"><div class="ttname"><a href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a3984433dc2a46ca0e8c067951e80cbb2">SparcISA::MISCREG_TBA</a></div><div class="ttdef"><b>Definition:</b> <a href="sparc_2miscregs_8hh_source.html#l00064">miscregs.hh:64</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a34273645d18f22e3cadbb67f1a08673e"><div class="ttname"><a href="namespaceSparcISA.html#a34273645d18f22e3cadbb67f1a08673e">SparcISA::priv</a></div><div class="ttdeci">Bitfield&lt; 2 &gt; priv</div><div class="ttdef"><b>Definition:</b> <a href="sparc_2miscregs_8hh_source.html#l00129">miscregs.hh:129</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a4bcfceef9184f0e771a558ba5b2cc024"><div class="ttname"><a href="namespaceSparcISA.html#a4bcfceef9184f0e771a558ba5b2cc024">SparcISA::MaxPTL</a></div><div class="ttdeci">const int MaxPTL</div><div class="ttdef"><b>Definition:</b> <a href="sparc__traits_8hh_source.html#l00037">sparc_traits.hh:37</a></div></div>
<div class="ttc" id="classProcess_html"><div class="ttname"><a href="classProcess.html">Process</a></div><div class="ttdef"><b>Definition:</b> <a href="sim_2process_8hh_source.html#l00064">process.hh:64</a></div></div>
<div class="ttc" id="namespaceArmISA_html_aedf8742bbf65a60cf102a4b3f9ba3d68"><div class="ttname"><a href="namespaceArmISA.html#aedf8742bbf65a60cf102a4b3f9ba3d68">ArmISA::mask</a></div><div class="ttdeci">Bitfield&lt; 3, 0 &gt; mask</div><div class="ttdef"><b>Definition:</b> <a href="arch_2arm_2types_8hh_source.html#l00064">types.hh:64</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a8b399c7e98e2a68710f85cbf58cc5e13a63a761355f53711c5e097f14d0384a46"><div class="ttname"><a href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a63a761355f53711c5e097f14d0384a46">SparcISA::MISCREG_TT</a></div><div class="ttdef"><b>Definition:</b> <a href="sparc_2miscregs_8hh_source.html#l00062">miscregs.hh:62</a></div></div>
<div class="ttc" id="bitfield_8hh_html_a037aa50d964c15b87b49ca219fd62d85"><div class="ttname"><a href="bitfield_8hh.html#a037aa50d964c15b87b49ca219fd62d85">bits</a></div><div class="ttdeci">T bits(T val, int first, int last)</div><div class="ttdoc">Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive) from &amp;#39;val&amp;#39; and right justify it...</div><div class="ttdef"><b>Definition:</b> <a href="bitfield_8hh_source.html#l00072">bitfield.hh:72</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_af8f35d59676c11f06bbdc56650ebf951"><div class="ttname"><a href="namespaceSparcISA.html#af8f35d59676c11f06bbdc56650ebf951">SparcISA::getPrivVector</a></div><div class="ttdeci">void getPrivVector(ThreadContext *tc, Addr &amp;PC, Addr &amp;NPC, RegVal TT, RegVal TL)</div><div class="ttdef"><b>Definition:</b> <a href="arch_2sparc_2faults_8cc_source.html#l00490">faults.cc:490</a></div></div>
<div class="ttc" id="classGenericISA_1_1DelaySlotPCState_html_af46e566f8d4812dbde3e22f134c787fe"><div class="ttname"><a href="classGenericISA_1_1DelaySlotPCState.html#af46e566f8d4812dbde3e22f134c787fe">GenericISA::DelaySlotPCState::advance</a></div><div class="ttdeci">void advance()</div><div class="ttdef"><b>Definition:</b> <a href="arch_2generic_2types_8hh_source.html#l00326">types.hh:326</a></div></div>
<div class="ttc" id="namespaceMipsISA_html_ae12ae9e12fab22594609e2fefce7f7c2"><div class="ttname"><a href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">MipsISA::p</a></div><div class="ttdeci">Bitfield&lt; 0 &gt; p</div><div class="ttdef"><b>Definition:</b> <a href="mips_2pra__constants_8hh_source.html#l00325">pra_constants.hh:325</a></div></div>
<div class="ttc" id="logging_8hh_html_af5c59b879d6a32dc657018ab3d30198f"><div class="ttname"><a href="logging_8hh.html#af5c59b879d6a32dc657018ab3d30198f">panic_if</a></div><div class="ttdeci">#define panic_if(cond,...)</div><div class="ttdoc">Conditional panic macro that checks the supplied condition and only panics if the condition is true a...</div><div class="ttdef"><b>Definition:</b> <a href="logging_8hh_source.html#l00185">logging.hh:185</a></div></div>
<div class="ttc" id="structEmulationPageTable_1_1Entry_html_ab0274018c841d59ef66c60d66d652538"><div class="ttname"><a href="structEmulationPageTable_1_1Entry.html#ab0274018c841d59ef66c60d66d652538">EmulationPageTable::Entry::flags</a></div><div class="ttdeci">uint64_t flags</div><div class="ttdef"><b>Definition:</b> <a href="page__table_8hh_source.html#l00056">page_table.hh:56</a></div></div>
<div class="ttc" id="base_2types_8hh_html_afbdce43497ec3a10ccb2d2141fb1def1"><div class="ttname"><a href="base_2types_8hh.html#afbdce43497ec3a10ccb2d2141fb1def1">Fault</a></div><div class="ttdeci">std::shared_ptr&lt; FaultBase &gt; Fault</div><div class="ttdef"><b>Definition:</b> <a href="base_2types_8hh_source.html#l00240">types.hh:240</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a8b399c7e98e2a68710f85cbf58cc5e13a33bbe55d0a91f4c0eb22fafb3d1362c1"><div class="ttname"><a href="namespaceSparcISA.html#a8b399c7e98e2a68710f85cbf58cc5e13a33bbe55d0a91f4c0eb22fafb3d1362c1">SparcISA::MISCREG_TSTATE</a></div><div class="ttdef"><b>Definition:</b> <a href="sparc_2miscregs_8hh_source.html#l00061">miscregs.hh:61</a></div></div>
<div class="ttc" id="classEmulationPageTable_html_a75c658349f05abcdecc96458b51725d1"><div class="ttname"><a href="classEmulationPageTable.html#a75c658349f05abcdecc96458b51725d1">EmulationPageTable::pid</a></div><div class="ttdeci">uint64_t pid() const</div><div class="ttdef"><b>Definition:</b> <a href="page__table_8hh_source.html#l00083">page_table.hh:83</a></div></div>
<div class="ttc" id="classSparcISA_1_1TLB_html"><div class="ttname"><a href="classSparcISA_1_1TLB.html">SparcISA::TLB</a></div><div class="ttdef"><b>Definition:</b> <a href="sparc_2tlb_8hh_source.html#l00052">tlb.hh:52</a></div></div>
<div class="ttc" id="full__system_8hh_html"><div class="ttname"><a href="full__system_8hh.html">full_system.hh</a></div></div>
<div class="ttc" id="namespaceSparcISA_html_a4d3cd350a67d8e63007de11cfc00d398"><div class="ttname"><a href="namespaceSparcISA.html#a4d3cd350a67d8e63007de11cfc00d398">SparcISA::ASI</a></div><div class="ttdeci">ASI</div><div class="ttdef"><b>Definition:</b> <a href="asi_8hh_source.html#l00038">asi.hh:38</a></div></div>
<div class="ttc" id="classFaultBase_html_abc0bfc0aefe9dbfd0393c010b9273e72"><div class="ttname"><a href="classFaultBase.html#abc0bfc0aefe9dbfd0393c010b9273e72">FaultBase::invoke</a></div><div class="ttdeci">virtual void invoke(ThreadContext *tc, const StaticInstPtr &amp;inst=StaticInst::nullStaticInstPtr)</div><div class="ttdef"><b>Definition:</b> <a href="sim_2faults_8cc_source.html#l00043">faults.cc:43</a></div></div>
<div class="ttc" id="classSparcProcess_html_ad238497b3d84e6bc8b7e80c9d2e9f2ed"><div class="ttname"><a href="classSparcProcess.html#ad238497b3d84e6bc8b7e80c9d2e9f2ed">SparcProcess::readFillStart</a></div><div class="ttdeci">Addr readFillStart()</div><div class="ttdef"><b>Definition:</b> <a href="arch_2sparc_2process_8hh_source.html#l00067">process.hh:67</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<hr size="1"><address style="align: right;"><small>
Generated on Mon Nov 25 2019 12:52:04 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.8.13</small></address>
</body>
</html>
