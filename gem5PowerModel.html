<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gem5: Gem5 Power &amp; Thermal model</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">gem5
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Gem5 Power &amp; Thermal model </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#gem5_PM_CD">Class overview</a></li>
<li class="level1"><a href="#gem5_thermal">Thermal model</a></li>
<li class="level1"><a href="#gem5_power">Power model</a></li>
</ul>
</div>
<div class="textblock"><p>This document gives an overview of the power and thermal modelling infrastructure in Gem5.</p>
<p>The purpose is to give a high level view of all the pieces involved and how they interact with each other and the simulator.</p>
<h1><a class="anchor" id="gem5_PM_CD"></a>
Class overview</h1>
<p>Classes involved in the power model are:</p>
<ul>
<li><a class="el" href="classPowerModel.html">PowerModel</a>: Represents a power model for a hardware component.</li>
<li><a class="el" href="classPowerModelState.html" title="A PowerModelState is an abstract class used as interface to get power figures out of SimObjects...">PowerModelState</a>: Represents a power model for a hardware component in a certain power state. It is an abstract class that defines an interface that must be implemented for each model.</li>
<li><a class="el" href="classMathExprPowerModel.html" title="A Equation power model. ">MathExprPowerModel</a>: Simple implementation of <a class="el" href="classPowerModelState.html" title="A PowerModelState is an abstract class used as interface to get power figures out of SimObjects...">PowerModelState</a> that assumes that power can be modeled using a simple power</li>
</ul>
<p>Classes involved in the thermal model are:</p>
<ul>
<li><a class="el" href="classThermalModel.html">ThermalModel</a>: Contains the system thermal model logic and state. It performs the power query and temperature update. It also enables gem5 to query for temperature (for OS reporting).</li>
<li><a class="el" href="classThermalDomain.html" title="A ThermalDomain is used to group objects under that operate under the same temperature. ">ThermalDomain</a>: Represents an entity that generates heat. It's essentially a group of SimObjects grouped under a <a class="el" href="classSubSystem.html" title="The SubSystem simobject does nothing, it is just a container for other simobjects used by the configu...">SubSystem</a> component that have its own thermal behaviour.</li>
<li><a class="el" href="classThermalNode.html" title="A ThermalNode is used to connect thermal entities, such as resistors, capacitors, references and doma...">ThermalNode</a>: Represents a node in the thermal circuital equivalent. The node has a temperature and interacts with other nodes through connections (thermal resistors and capacitors).</li>
<li><a class="el" href="classThermalReference.html" title="A ThermalReference is a thermal domain with fixed temperature. ">ThermalReference</a>: Temperature reference for the thermal model (essentially a thermal node with a fixed temperature), can be used to model air or any other constant temperature domains.</li>
<li><a class="el" href="classThermalEntity.html" title="An abstract class that represents any thermal entity which is used in the circuital thermal equivalen...">ThermalEntity</a>: A thermal component that connects two thermal nodes and models a thermal impedance between them. This class is just an abstract interface.</li>
<li><a class="el" href="classThermalResistor.html" title="A ThermalResistor is used to model a thermal resistance between two thermal domains. ">ThermalResistor</a>: Implements <a class="el" href="classThermalEntity.html" title="An abstract class that represents any thermal entity which is used in the circuital thermal equivalen...">ThermalEntity</a> to model a thermal resistance between the two nodes it connects. Thermal resistances model the capacity of a material to transfer heat (units in K/W).</li>
<li><a class="el" href="classThermalCapacitor.html" title="A ThermalCapacitor is used to model a thermal capacitance between two thermal domains. ">ThermalCapacitor</a>. Implements <a class="el" href="classThermalEntity.html" title="An abstract class that represents any thermal entity which is used in the circuital thermal equivalen...">ThermalEntity</a> to model a thermal capacitance. Thermal capacitors are used to model material's thermal capacitance, this is, the ability to change a certain material temperature (units in J/K).</li>
</ul>
<h1><a class="anchor" id="gem5_thermal"></a>
Thermal model</h1>
<p>The thermal model works by creating a circuital equivalent of the simulated platform. Each node in the circuit has a temperature (as voltage equivalent) and power flows between nodes (as current in a circuit).</p>
<p>To build this equivalent temperature model the platform is required to group the power actors (any component that has a power model) under SubSystems and attach ThermalDomains to those subsystems. Other components might also be created (like ThermalReferences) and connected all together by creating thermal entities (capacitors and resistors).</p>
<p>Last step to conclude the thermal model is to create the <a class="el" href="classThermalModel.html">ThermalModel</a> instance itself and attach all the instances used to it, so it can properly update them at runtime. Only one thermal model instance is supported right now and it will automatically report temperature when appropriate (ie. platform sensor devices).</p>
<h1><a class="anchor" id="gem5_power"></a>
Power model</h1>
<p>Every <a class="el" href="classClockedObject.html" title="The ClockedObject class extends the SimObject with a clock and accessor functions to relate ticks to ...">ClockedObject</a> has a power model associated. If this power model is non-null power will be calculated at every stats dump (although it might be possible to force power evaluation at any other point, if the power model uses the stats, it is a good idea to keep both events in sync). The definition of a power model is quite vague in the sense that it is as flexible as users want it to be. The only enforced contraints so far is the fact that a power model has several power state models, one for each possible power state for that hardware block. When it comes to compute power consumption the power is just the weighted average of each power model.</p>
<p>A power state model is essentially an interface that allows us to define two power functions for dynamic and static. As an example implementation a class called <a class="el" href="classMathExprPowerModel.html" title="A Equation power model. ">MathExprPowerModel</a> has been provided. This implementation allows the user to define a power model as an equation involving several statistics. There's also some automatic (or "magic") variables such as "temp", which reports temperature. </p>
</div></div><!-- contents -->
<hr size="1"><address style="align: right;"><small>
Generated on Mon Nov 25 2019 12:52:13 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.8.13</small></address>
</body>
</html>
