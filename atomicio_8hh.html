<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gem5: base/atomicio.hh File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">gem5
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e914ee4d4a44400f1fdb170cb4ead18a.html">base</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">atomicio.hh File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;unistd.h&gt;</code><br />
</div>
<p><a href="atomicio_8hh_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab3fda79971540904011c2b6e208caf0a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="atomicio_8hh.html#ab3fda79971540904011c2b6e208caf0a">STATIC_MSG</a>(fd,  m)</td></tr>
<tr class="memdesc:ab3fda79971540904011c2b6e208caf0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Statically allocate a string and write it to a file descriptor.  <a href="#ab3fda79971540904011c2b6e208caf0a">More...</a><br /></td></tr>
<tr class="separator:ab3fda79971540904011c2b6e208caf0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52de31e960ab0e6bad5ee244c2a8de7f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="atomicio_8hh.html#a52de31e960ab0e6bad5ee244c2a8de7f">STATIC_ERR</a>(m)&#160;&#160;&#160;<a class="el" href="atomicio_8hh.html#ab3fda79971540904011c2b6e208caf0a">STATIC_MSG</a>(STDERR_FILENO, m)</td></tr>
<tr class="memdesc:a52de31e960ab0e6bad5ee244c2a8de7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Statically allocate a string and write it to STDERR.  <a href="#a52de31e960ab0e6bad5ee244c2a8de7f">More...</a><br /></td></tr>
<tr class="separator:a52de31e960ab0e6bad5ee244c2a8de7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a09f17b802426457c2389d892357e50f7"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="atomicio_8hh.html#a09f17b802426457c2389d892357e50f7">atomic_read</a> (int fd, void *s, size_t n)</td></tr>
<tr class="separator:a09f17b802426457c2389d892357e50f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a301f476c6c8d75d54f43aea6ad1ff740"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="atomicio_8hh.html#a301f476c6c8d75d54f43aea6ad1ff740">atomic_write</a> (int fd, const void *s, size_t n)</td></tr>
<tr class="separator:a301f476c6c8d75d54f43aea6ad1ff740"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a52de31e960ab0e6bad5ee244c2a8de7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52de31e960ab0e6bad5ee244c2a8de7f">&#9670;&nbsp;</a></span>STATIC_ERR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATIC_ERR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">m</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="atomicio_8hh.html#ab3fda79971540904011c2b6e208caf0a">STATIC_MSG</a>(STDERR_FILENO, m)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Statically allocate a string and write it to STDERR. </p>
<dl class="section warning"><dt>Warning</dt><dd>The return value will from atomic_write will be ignored which means that errors will be ignored. This is normally fine as this macro is intended to be used in fatal signal handlers where error handling might not be feasible. </dd></dl>

<p class="definition">Definition at line <a class="el" href="atomicio_8hh_source.html#l00066">66</a> of file <a class="el" href="atomicio_8hh_source.html">atomicio.hh</a>.</p>

<p class="reference">Referenced by <a class="el" href="init__signals_8cc_source.html#l00147">abortHandler()</a>, <a class="el" href="backtrace__glibc_8cc_source.html#l00053">print_backtrace()</a>, <a class="el" href="init__signals_8cc_source.html#l00102">raiseFatalSignal()</a>, and <a class="el" href="init__signals_8cc_source.html#l00162">segvHandler()</a>.</p>

</div>
</div>
<a id="ab3fda79971540904011c2b6e208caf0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3fda79971540904011c2b6e208caf0a">&#9670;&nbsp;</a></span>STATIC_MSG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATIC_MSG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fd, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">m&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                                        \</div><div class="line">        static <span class="keyword">const</span> <span class="keywordtype">char</span> msg[] = <a class="code" href="namespaceArmISA.html#ab3b9e641a2a1f7851dbd51bd3af42069">m</a>;                            \</div><div class="line">        atomic_write(<a class="code" href="namespaceArmISA.html#a6bb1dd177dcfe2a8a54a396f8942a098">fd</a>, msg, <span class="keyword">sizeof</span>(msg) - 1);                 \</div><div class="line">    } <span class="keywordflow">while</span> (0)</div><div class="ttc" id="namespaceArmISA_html_ab3b9e641a2a1f7851dbd51bd3af42069"><div class="ttname"><a href="namespaceArmISA.html#ab3b9e641a2a1f7851dbd51bd3af42069">ArmISA::m</a></div><div class="ttdeci">Bitfield&lt; 0 &gt; m</div><div class="ttdef"><b>Definition:</b> <a href="miscregs__types_8hh_source.html#l00368">miscregs_types.hh:368</a></div></div>
<div class="ttc" id="namespaceArmISA_html_a6bb1dd177dcfe2a8a54a396f8942a098"><div class="ttname"><a href="namespaceArmISA.html#a6bb1dd177dcfe2a8a54a396f8942a098">ArmISA::fd</a></div><div class="ttdeci">Bitfield&lt; 14, 12 &gt; fd</div><div class="ttdef"><b>Definition:</b> <a href="arch_2arm_2types_8hh_source.html#l00160">types.hh:160</a></div></div>
</div><!-- fragment -->
<p>Statically allocate a string and write it to a file descriptor. </p>
<dl class="section warning"><dt>Warning</dt><dd>The return value will from atomic_write will be ignored which means that errors will be ignored. This is normally fine as this macro is intended to be used in fatal signal handlers where error handling might not be feasible. </dd></dl>

<p class="definition">Definition at line <a class="el" href="atomicio_8hh_source.html#l00052">52</a> of file <a class="el" href="atomicio_8hh_source.html">atomicio.hh</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a09f17b802426457c2389d892357e50f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09f17b802426457c2389d892357e50f7">&#9670;&nbsp;</a></span>atomic_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t atomic_read </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atomicio_8cc_source.html#l00037">37</a> of file <a class="el" href="atomicio_8cc_source.html">atomicio.cc</a>.</p>

<p class="reference">References <a class="el" href="mips_2pra__constants_8hh_source.html#l00325">MipsISA::p</a>, and <a class="el" href="miscregs__types_8hh_source.html#l00532">ArmISA::s</a>.</p>

<p class="reference">Referenced by <a class="el" href="atomicio_8test_8cc_source.html#l00051">TEST()</a>.</p>

</div>
</div>
<a id="a301f476c6c8d75d54f43aea6ad1ff740"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a301f476c6c8d75d54f43aea6ad1ff740">&#9670;&nbsp;</a></span>atomic_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t atomic_write </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atomicio_8cc_source.html#l00066">66</a> of file <a class="el" href="atomicio_8cc_source.html">atomicio.cc</a>.</p>

<p class="reference">References <a class="el" href="mips_2pra__constants_8hh_source.html#l00325">MipsISA::p</a>, and <a class="el" href="miscregs__types_8hh_source.html#l00532">ArmISA::s</a>.</p>

<p class="reference">Referenced by <a class="el" href="terminal_8cc_source.html#l00192">Terminal::accept()</a>, <a class="el" href="vncserver_8cc_source.html#l00186">VncServer::accept()</a>, <a class="el" href="atomicio_8test_8cc_source.html#l00104">TEST()</a>, <a class="el" href="terminal_8cc_source.html#l00280">Terminal::write()</a>, and <a class="el" href="vncserver_8cc_source.html#l00320">VncServer::write()</a>.</p>

</div>
</div>
</div><!-- contents -->
<hr size="1"><address style="align: right;"><small>
Generated on Mon Nov 25 2019 12:52:12 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.8.13</small></address>
</body>
</html>
