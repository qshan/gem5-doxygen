<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gem5: BaseKvmTimer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">gem5
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classBaseKvmTimer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">BaseKvmTimer Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Timer functions to interrupt VM execution after a number of simulation ticks.  
 <a href="classBaseKvmTimer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="timer_8hh_source.html">timer.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for BaseKvmTimer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classBaseKvmTimer.png" usemap="#BaseKvmTimer_map" alt=""/>
  <map id="BaseKvmTimer_map" name="BaseKvmTimer_map">
<area href="classPerfKvmTimer.html" title="PerfEvent based timer using the host&#39;s CPU cycle counter. " alt="PerfKvmTimer" shape="rect" coords="0,56,97,80"/>
<area href="classPosixKvmTimer.html" title="Timer based on standard POSIX timers. " alt="PosixKvmTimer" shape="rect" coords="107,56,204,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0cd835098602faf69700e6b6bffe499e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseKvmTimer.html#a0cd835098602faf69700e6b6bffe499e">BaseKvmTimer</a> (int <a class="el" href="classBaseKvmTimer.html#a68a12b576cb2937b4824aecf44207012">signo</a>, float <a class="el" href="classBaseKvmTimer.html#aa6e7c5319a3c9d089739b0eab79b9cf5">hostFactor</a>, <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="el" href="classBaseKvmTimer.html#a365cf18ff970e93c6eec07d42216daae">hostFreq</a>)</td></tr>
<tr class="memdesc:a0cd835098602faf69700e6b6bffe499e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup basic timer functionality shared by all timer implementations.  <a href="#a0cd835098602faf69700e6b6bffe499e">More...</a><br /></td></tr>
<tr class="separator:a0cd835098602faf69700e6b6bffe499e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dc98921cbf8f0f3659281c7dc7e7d85"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseKvmTimer.html#a3dc98921cbf8f0f3659281c7dc7e7d85">~BaseKvmTimer</a> ()</td></tr>
<tr class="separator:a3dc98921cbf8f0f3659281c7dc7e7d85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af791d30c62301e0f2bb64b742b2becbd"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseKvmTimer.html#af791d30c62301e0f2bb64b742b2becbd">arm</a> (<a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> ticks)=0</td></tr>
<tr class="memdesc:af791d30c62301e0f2bb64b742b2becbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arm the timer so that it fires after a certain number of ticks.  <a href="#af791d30c62301e0f2bb64b742b2becbd">More...</a><br /></td></tr>
<tr class="separator:af791d30c62301e0f2bb64b742b2becbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17687d3e409ee964c562abe4d897e312"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseKvmTimer.html#a17687d3e409ee964c562abe4d897e312">disarm</a> ()=0</td></tr>
<tr class="memdesc:a17687d3e409ee964c562abe4d897e312"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disarm the timer.  <a href="#a17687d3e409ee964c562abe4d897e312">More...</a><br /></td></tr>
<tr class="separator:a17687d3e409ee964c562abe4d897e312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79a9f4d9d2bc3cbdd4af33c8ae4bc0f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseKvmTimer.html#a79a9f4d9d2bc3cbdd4af33c8ae4bc0f7">resolution</a> ()</td></tr>
<tr class="memdesc:a79a9f4d9d2bc3cbdd4af33c8ae4bc0f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the resolution of the timer in ticks.  <a href="#a79a9f4d9d2bc3cbdd4af33c8ae4bc0f7">More...</a><br /></td></tr>
<tr class="separator:a79a9f4d9d2bc3cbdd4af33c8ae4bc0f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a4227efd2d3a41d01e74284289d7fa9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseKvmTimer.html#a8a4227efd2d3a41d01e74284289d7fa9">ticksFromHostCycles</a> (uint64_t cycles)</td></tr>
<tr class="memdesc:a8a4227efd2d3a41d01e74284289d7fa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert cycles executed on the host into Ticks executed in the simulator.  <a href="#a8a4227efd2d3a41d01e74284289d7fa9">More...</a><br /></td></tr>
<tr class="separator:a8a4227efd2d3a41d01e74284289d7fa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada6b1eb08b29599c7403a3d63760addc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseKvmTimer.html#ada6b1eb08b29599c7403a3d63760addc">ticksFromHostNs</a> (uint64_t ns)</td></tr>
<tr class="memdesc:ada6b1eb08b29599c7403a3d63760addc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert nanoseconds executed on the host into Ticks executed in the simulator.  <a href="#ada6b1eb08b29599c7403a3d63760addc">More...</a><br /></td></tr>
<tr class="separator:ada6b1eb08b29599c7403a3d63760addc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a5cec09f97d6148d8648129ec609b27ed"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseKvmTimer.html#a5cec09f97d6148d8648129ec609b27ed">calcResolution</a> ()=0</td></tr>
<tr class="memdesc:a5cec09f97d6148d8648129ec609b27ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the timer resolution, used by <a class="el" href="classBaseKvmTimer.html#a79a9f4d9d2bc3cbdd4af33c8ae4bc0f7" title="Determine the resolution of the timer in ticks. ">resolution()</a> which caches the result.  <a href="#a5cec09f97d6148d8648129ec609b27ed">More...</a><br /></td></tr>
<tr class="separator:a5cec09f97d6148d8648129ec609b27ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdef94df963a1a075dde0f197e8066ac"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseKvmTimer.html#acdef94df963a1a075dde0f197e8066ac">hostNs</a> (<a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> ticks)</td></tr>
<tr class="memdesc:acdef94df963a1a075dde0f197e8066ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a time in simulator ticks to host nanoseconds.  <a href="#acdef94df963a1a075dde0f197e8066ac">More...</a><br /></td></tr>
<tr class="separator:acdef94df963a1a075dde0f197e8066ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad500ed0418b0ad2f03cf54bb68af206f"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseKvmTimer.html#ad500ed0418b0ad2f03cf54bb68af206f">hostCycles</a> (<a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> ticks)</td></tr>
<tr class="memdesc:ad500ed0418b0ad2f03cf54bb68af206f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a time in simulator ticks to host cycles.  <a href="#ad500ed0418b0ad2f03cf54bb68af206f">More...</a><br /></td></tr>
<tr class="separator:ad500ed0418b0ad2f03cf54bb68af206f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a68a12b576cb2937b4824aecf44207012"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseKvmTimer.html#a68a12b576cb2937b4824aecf44207012">signo</a></td></tr>
<tr class="memdesc:a68a12b576cb2937b4824aecf44207012"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal to deliver when the timer times out.  <a href="#a68a12b576cb2937b4824aecf44207012">More...</a><br /></td></tr>
<tr class="separator:a68a12b576cb2937b4824aecf44207012"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ac49834ed3e2c3cca48e792355613c3f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseKvmTimer.html#ac49834ed3e2c3cca48e792355613c3f9">_resolution</a></td></tr>
<tr class="memdesc:ac49834ed3e2c3cca48e792355613c3f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cached resolution.  <a href="#ac49834ed3e2c3cca48e792355613c3f9">More...</a><br /></td></tr>
<tr class="separator:ac49834ed3e2c3cca48e792355613c3f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e7c5319a3c9d089739b0eab79b9cf5"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseKvmTimer.html#aa6e7c5319a3c9d089739b0eab79b9cf5">hostFactor</a></td></tr>
<tr class="memdesc:aa6e7c5319a3c9d089739b0eab79b9cf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performance scaling factor.  <a href="#aa6e7c5319a3c9d089739b0eab79b9cf5">More...</a><br /></td></tr>
<tr class="separator:aa6e7c5319a3c9d089739b0eab79b9cf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a365cf18ff970e93c6eec07d42216daae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseKvmTimer.html#a365cf18ff970e93c6eec07d42216daae">hostFreq</a></td></tr>
<tr class="memdesc:a365cf18ff970e93c6eec07d42216daae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Host frequency.  <a href="#a365cf18ff970e93c6eec07d42216daae">More...</a><br /></td></tr>
<tr class="separator:a365cf18ff970e93c6eec07d42216daae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Timer functions to interrupt VM execution after a number of simulation ticks. </p>
<p>The timer allows scaling of the host time to take performance differences between the simulated and real CPU into account.</p>
<p>The performance scaling factor is ratio between the target's CPI and the host's CPI. It is larger than 1 if the host is faster than the target and lower than 1 if it is slower.</p>
<p>When the timer times out, it sends a signal to the thread that started the timer. The signal forces KVM to drop out of the system call that started the guest and hands control to gem5. </p>

<p class="definition">Definition at line <a class="el" href="timer_8hh_source.html#l00062">62</a> of file <a class="el" href="timer_8hh_source.html">timer.hh</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0cd835098602faf69700e6b6bffe499e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cd835098602faf69700e6b6bffe499e">&#9670;&nbsp;</a></span>BaseKvmTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BaseKvmTimer::BaseKvmTimer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>hostFactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&#160;</td>
          <td class="paramname"><em>hostFreq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setup basic timer functionality shared by all timer implementations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signo</td><td>Signal to deliver </td></tr>
    <tr><td class="paramname">hostFactor</td><td>Performance scaling factor </td></tr>
    <tr><td class="paramname">hostFreq</td><td>Clock frequency of the host </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="timer_8hh_source.html#l00073">73</a> of file <a class="el" href="timer_8hh_source.html">timer.hh</a>.</p>

</div>
</div>
<a id="a3dc98921cbf8f0f3659281c7dc7e7d85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dc98921cbf8f0f3659281c7dc7e7d85">&#9670;&nbsp;</a></span>~BaseKvmTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual BaseKvmTimer::~BaseKvmTimer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="timer_8hh_source.html#l00076">76</a> of file <a class="el" href="timer_8hh_source.html">timer.hh</a>.</p>

<p class="reference">References <a class="el" href="classBaseKvmTimer.html#af791d30c62301e0f2bb64b742b2becbd">arm()</a>, and <a class="el" href="classBaseKvmTimer.html#a17687d3e409ee964c562abe4d897e312">disarm()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af791d30c62301e0f2bb64b742b2becbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af791d30c62301e0f2bb64b742b2becbd">&#9670;&nbsp;</a></span>arm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BaseKvmTimer::arm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&#160;</td>
          <td class="paramname"><em>ticks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Arm the timer so that it fires after a certain number of ticks. </p>
<dl class="section note"><dt>Note</dt><dd>A timer implementation is free to convert between simulation ticks and virtualized time using any method it chooses. The accuracy of the timer therefore depends on what it measures, an accurate timer implementation should measure the number of cycles or instructions executed in the guest. If such counters are unavailable, it may fallback to wall clock time.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ticks</td><td>Number of ticks until the timer fires </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classPerfKvmTimer.html#abf1e6acdbc4e32d35fedb178405c9988">PerfKvmTimer</a>, and <a class="el" href="classPosixKvmTimer.html#a1588afaec4787ada3fbcfdb9175ff9ba">PosixKvmTimer</a>.</p>

<p class="reference">Referenced by <a class="el" href="timer_8hh_source.html#l00076">~BaseKvmTimer()</a>.</p>

</div>
</div>
<a id="a5cec09f97d6148d8648129ec609b27ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cec09f97d6148d8648129ec609b27ed">&#9670;&nbsp;</a></span>calcResolution()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> BaseKvmTimer::calcResolution </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the timer resolution, used by <a class="el" href="classBaseKvmTimer.html#a79a9f4d9d2bc3cbdd4af33c8ae4bc0f7" title="Determine the resolution of the timer in ticks. ">resolution()</a> which caches the result. </p>
<dl class="section return"><dt>Returns</dt><dd>Minimum number of ticks the timer can resolve </dd></dl>

<p>Implemented in <a class="el" href="classPerfKvmTimer.html#acbb1bd72ab6e6b509137d21aa61ec616">PerfKvmTimer</a>, and <a class="el" href="classPosixKvmTimer.html#a70f1b70097d289f4df8e30a6db9a11d1">PosixKvmTimer</a>.</p>

<p class="reference">Referenced by <a class="el" href="timer_8hh_source.html#l00106">resolution()</a>, and <a class="el" href="timer_8hh_source.html#l00130">ticksFromHostNs()</a>.</p>

</div>
</div>
<a id="a17687d3e409ee964c562abe4d897e312"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17687d3e409ee964c562abe4d897e312">&#9670;&nbsp;</a></span>disarm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BaseKvmTimer::disarm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disarm the timer. </p>
<p>When this method has returned, the timer may no longer deliver signals upon timeout. </p>

<p>Implemented in <a class="el" href="classPerfKvmTimer.html#a2398ac400bf11cda20005f2f150475ab">PerfKvmTimer</a>, and <a class="el" href="classPosixKvmTimer.html#a79274bda5dbdea42d823f8f959e922ba">PosixKvmTimer</a>.</p>

<p class="reference">Referenced by <a class="el" href="timer_8hh_source.html#l00076">~BaseKvmTimer()</a>.</p>

</div>
</div>
<a id="ad500ed0418b0ad2f03cf54bb68af206f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad500ed0418b0ad2f03cf54bb68af206f">&#9670;&nbsp;</a></span>hostCycles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t BaseKvmTimer::hostCycles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&#160;</td>
          <td class="paramname"><em>ticks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a time in simulator ticks to host cycles. </p>
<dl class="section return"><dt>Returns</dt><dd>Simulation ticks converted into CPU cycles on the host </dd></dl>

<p class="definition">Definition at line <a class="el" href="timer_8hh_source.html#l00158">158</a> of file <a class="el" href="timer_8hh_source.html">timer.hh</a>.</p>

<p class="reference">References <a class="el" href="timer_8hh_source.html#l00170">hostFactor</a>, and <a class="el" href="timer_8hh_source.html#l00172">hostFreq</a>.</p>

<p class="reference">Referenced by <a class="el" href="timer_8cc_source.html#l00174">PerfKvmTimer::arm()</a>.</p>

</div>
</div>
<a id="acdef94df963a1a075dde0f197e8066ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdef94df963a1a075dde0f197e8066ac">&#9670;&nbsp;</a></span>hostNs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t BaseKvmTimer::hostNs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&#160;</td>
          <td class="paramname"><em>ticks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a time in simulator ticks to host nanoseconds. </p>
<dl class="section return"><dt>Returns</dt><dd>Simulation ticks converted into nanoseconds on the host </dd></dl>

<p class="definition">Definition at line <a class="el" href="timer_8hh_source.html#l00148">148</a> of file <a class="el" href="timer_8hh_source.html">timer.hh</a>.</p>

<p class="reference">References <a class="el" href="timer_8hh_source.html#l00170">hostFactor</a>, and <a class="el" href="sim_2core_8cc_source.html#l00055">SimClock::Float::ns</a>.</p>

<p class="reference">Referenced by <a class="el" href="timer_8cc_source.html#l00102">PosixKvmTimer::arm()</a>.</p>

</div>
</div>
<a id="a79a9f4d9d2bc3cbdd4af33c8ae4bc0f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79a9f4d9d2bc3cbdd4af33c8ae4bc0f7">&#9670;&nbsp;</a></span>resolution()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> BaseKvmTimer::resolution </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine the resolution of the timer in ticks. </p>
<p>This method is mainly used to determine the smallest number of ticks the timer can wait before triggering a signal.</p>
<dl class="section return"><dt>Returns</dt><dd>Minimum number of ticks the timer can resolve </dd></dl>

<p class="definition">Definition at line <a class="el" href="timer_8hh_source.html#l00106">106</a> of file <a class="el" href="timer_8hh_source.html">timer.hh</a>.</p>

<p class="reference">References <a class="el" href="timer_8hh_source.html#l00167">_resolution</a>, and <a class="el" href="classBaseKvmTimer.html#a5cec09f97d6148d8648129ec609b27ed">calcResolution()</a>.</p>

<p class="reference">Referenced by <a class="el" href="timer_8cc_source.html#l00134">PosixKvmTimer::calcResolution()</a>.</p>

</div>
</div>
<a id="a8a4227efd2d3a41d01e74284289d7fa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a4227efd2d3a41d01e74284289d7fa9">&#9670;&nbsp;</a></span>ticksFromHostCycles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> BaseKvmTimer::ticksFromHostCycles </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>cycles</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert cycles executed on the host into Ticks executed in the simulator. </p>
<p>Scales the results using the hostFactor to take CPU performance differences into account.</p>
<dl class="section return"><dt>Returns</dt><dd>Host cycles executed in VM converted to simulation ticks </dd></dl>

<p class="definition">Definition at line <a class="el" href="timer_8hh_source.html#l00119">119</a> of file <a class="el" href="timer_8hh_source.html">timer.hh</a>.</p>

<p class="reference">References <a class="el" href="timer_8hh_source.html#l00170">hostFactor</a>, and <a class="el" href="timer_8hh_source.html#l00172">hostFreq</a>.</p>

<p class="reference">Referenced by <a class="el" href="timer_8cc_source.html#l00134">PosixKvmTimer::calcResolution()</a>, and <a class="el" href="timer_8cc_source.html#l00187">PerfKvmTimer::calcResolution()</a>.</p>

</div>
</div>
<a id="ada6b1eb08b29599c7403a3d63760addc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada6b1eb08b29599c7403a3d63760addc">&#9670;&nbsp;</a></span>ticksFromHostNs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> BaseKvmTimer::ticksFromHostNs </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>ns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert nanoseconds executed on the host into Ticks executed in the simulator. </p>
<p>Scales the results using the hostFactor to take CPU performance differences into account.</p>
<dl class="section return"><dt>Returns</dt><dd>Nanoseconds executed in VM converted to simulation ticks </dd></dl>

<p class="definition">Definition at line <a class="el" href="timer_8hh_source.html#l00130">130</a> of file <a class="el" href="timer_8hh_source.html">timer.hh</a>.</p>

<p class="reference">References <a class="el" href="classBaseKvmTimer.html#a5cec09f97d6148d8648129ec609b27ed">calcResolution()</a>, <a class="el" href="timer_8hh_source.html#l00170">hostFactor</a>, and <a class="el" href="sim_2core_8cc_source.html#l00055">SimClock::Float::ns</a>.</p>

<p class="reference">Referenced by <a class="el" href="timer_8cc_source.html#l00134">PosixKvmTimer::calcResolution()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac49834ed3e2c3cca48e792355613c3f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac49834ed3e2c3cca48e792355613c3f9">&#9670;&nbsp;</a></span>_resolution</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> BaseKvmTimer::_resolution</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cached resolution. </p>

<p class="definition">Definition at line <a class="el" href="timer_8hh_source.html#l00167">167</a> of file <a class="el" href="timer_8hh_source.html">timer.hh</a>.</p>

<p class="reference">Referenced by <a class="el" href="timer_8hh_source.html#l00106">resolution()</a>.</p>

</div>
</div>
<a id="aa6e7c5319a3c9d089739b0eab79b9cf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6e7c5319a3c9d089739b0eab79b9cf5">&#9670;&nbsp;</a></span>hostFactor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float BaseKvmTimer::hostFactor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performance scaling factor. </p>

<p class="definition">Definition at line <a class="el" href="timer_8hh_source.html#l00170">170</a> of file <a class="el" href="timer_8hh_source.html">timer.hh</a>.</p>

<p class="reference">Referenced by <a class="el" href="timer_8hh_source.html#l00158">hostCycles()</a>, <a class="el" href="timer_8hh_source.html#l00148">hostNs()</a>, <a class="el" href="timer_8hh_source.html#l00119">ticksFromHostCycles()</a>, and <a class="el" href="timer_8hh_source.html#l00130">ticksFromHostNs()</a>.</p>

</div>
</div>
<a id="a365cf18ff970e93c6eec07d42216daae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a365cf18ff970e93c6eec07d42216daae">&#9670;&nbsp;</a></span>hostFreq</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> BaseKvmTimer::hostFreq</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Host frequency. </p>

<p class="definition">Definition at line <a class="el" href="timer_8hh_source.html#l00172">172</a> of file <a class="el" href="timer_8hh_source.html">timer.hh</a>.</p>

<p class="reference">Referenced by <a class="el" href="timer_8hh_source.html#l00158">hostCycles()</a>, and <a class="el" href="timer_8hh_source.html#l00119">ticksFromHostCycles()</a>.</p>

</div>
</div>
<a id="a68a12b576cb2937b4824aecf44207012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68a12b576cb2937b4824aecf44207012">&#9670;&nbsp;</a></span>signo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int BaseKvmTimer::signo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Signal to deliver when the timer times out. </p>

<p class="definition">Definition at line <a class="el" href="timer_8hh_source.html#l00163">163</a> of file <a class="el" href="timer_8hh_source.html">timer.hh</a>.</p>

<p class="reference">Referenced by <a class="el" href="timer_8cc_source.html#l00078">PosixKvmTimer::PosixKvmTimer()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>cpu/kvm/<a class="el" href="timer_8hh_source.html">timer.hh</a></li>
</ul>
</div><!-- contents -->
<hr size="1"><address style="align: right;"><small>
Generated on Mon Nov 25 2019 12:52:14 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.8.13</small></address>
</body>
</html>
