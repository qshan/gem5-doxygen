<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gem5: FreeBSD::UDelayEvent Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">gem5
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceFreeBSD.html">FreeBSD</a></li><li class="navelem"><a class="el" href="classFreeBSD_1_1UDelayEvent.html">UDelayEvent</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classFreeBSD_1_1UDelayEvent-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">FreeBSD::UDelayEvent Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A class to skip udelay() and related calls in the kernel.  
 <a href="classFreeBSD_1_1UDelayEvent.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="freebsd_2events_8hh_source.html">events.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for FreeBSD::UDelayEvent:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classFreeBSD_1_1UDelayEvent.png" usemap="#FreeBSD::UDelayEvent_map" alt=""/>
  <map id="FreeBSD::UDelayEvent_map" name="FreeBSD::UDelayEvent_map">
<area href="classSkipFuncEvent.html" alt="SkipFuncEvent" shape="rect" coords="0,56,143,80"/>
<area href="classPCEvent.html" alt="PCEvent" shape="rect" coords="0,0,143,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3eeab1b27b7648056f431fd3f88ef4c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFreeBSD_1_1UDelayEvent.html#a3eeab1b27b7648056f431fd3f88ef4c5">UDelayEvent</a> (<a class="el" href="classPCEventScope.html">PCEventScope</a> *s, const std::string &amp;desc, <a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="inet_8hh.html#ae32b25ff633168fbdecd8d24293034cd">addr</a>, uint64_t mult, uint64_t div)</td></tr>
<tr class="separator:a3eeab1b27b7648056f431fd3f88ef4c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22fbf56a8baa071bf747a21de4edcbc7"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFreeBSD_1_1UDelayEvent.html#a22fbf56a8baa071bf747a21de4edcbc7">process</a> (<a class="el" href="classThreadContext.html">ThreadContext</a> *xc)</td></tr>
<tr class="separator:a22fbf56a8baa071bf747a21de4edcbc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classSkipFuncEvent"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classSkipFuncEvent')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classSkipFuncEvent.html">SkipFuncEvent</a></td></tr>
<tr class="memitem:aa22bb1f7fb93ee5a06983665051c54ca inherit pub_methods_classSkipFuncEvent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSkipFuncEvent.html#aa22bb1f7fb93ee5a06983665051c54ca">SkipFuncEvent</a> (<a class="el" href="classPCEventScope.html">PCEventScope</a> *s, const std::string &amp;desc, <a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="inet_8hh.html#ae32b25ff633168fbdecd8d24293034cd">addr</a>)</td></tr>
<tr class="separator:aa22bb1f7fb93ee5a06983665051c54ca inherit pub_methods_classSkipFuncEvent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classPCEvent"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classPCEvent')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classPCEvent.html">PCEvent</a></td></tr>
<tr class="memitem:a78103c09a7dd4539899c5c0ed4aa0e42 inherit pub_methods_classPCEvent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPCEvent.html#a78103c09a7dd4539899c5c0ed4aa0e42">PCEvent</a> (<a class="el" href="classPCEventScope.html">PCEventScope</a> *q, const std::string &amp;desc, <a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classPCEvent.html#a51fd94e1488e36c56d671f196a62ea14">pc</a>)</td></tr>
<tr class="separator:a78103c09a7dd4539899c5c0ed4aa0e42 inherit pub_methods_classPCEvent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabb0f86fb2cda89cd9e7217c387c04e1 inherit pub_methods_classPCEvent"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPCEvent.html#aabb0f86fb2cda89cd9e7217c387c04e1">~PCEvent</a> ()</td></tr>
<tr class="separator:aabb0f86fb2cda89cd9e7217c387c04e1 inherit pub_methods_classPCEvent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0acd7b591d6d000782f350637d736d39 inherit pub_methods_classPCEvent"><td class="memItemLeft" align="right" valign="top">virtual const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPCEvent.html#a0acd7b591d6d000782f350637d736d39">name</a> () const</td></tr>
<tr class="separator:a0acd7b591d6d000782f350637d736d39 inherit pub_methods_classPCEvent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e0b62f2efe1a27d765931a0ac9cee89 inherit pub_methods_classPCEvent"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPCEvent.html#a4e0b62f2efe1a27d765931a0ac9cee89">descr</a> () const</td></tr>
<tr class="separator:a4e0b62f2efe1a27d765931a0ac9cee89 inherit pub_methods_classPCEvent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51fd94e1488e36c56d671f196a62ea14 inherit pub_methods_classPCEvent"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPCEvent.html#a51fd94e1488e36c56d671f196a62ea14">pc</a> () const</td></tr>
<tr class="separator:a51fd94e1488e36c56d671f196a62ea14 inherit pub_methods_classPCEvent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7716931c83eff927ee3f03edd452866 inherit pub_methods_classPCEvent"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPCEvent.html#ac7716931c83eff927ee3f03edd452866">remove</a> ()</td></tr>
<tr class="separator:ac7716931c83eff927ee3f03edd452866 inherit pub_methods_classPCEvent"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:adfaf73f265af9ed769df2610094fb111"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFreeBSD_1_1UDelayEvent.html#adfaf73f265af9ed769df2610094fb111">argDivToNs</a></td></tr>
<tr class="memdesc:adfaf73f265af9ed769df2610094fb111"><td class="mdescLeft">&#160;</td><td class="mdescRight">value to divide arg by to create ns.  <a href="#adfaf73f265af9ed769df2610094fb111">More...</a><br /></td></tr>
<tr class="separator:adfaf73f265af9ed769df2610094fb111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f123d883ed27e8a955fddf024ed44e2"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFreeBSD_1_1UDelayEvent.html#a3f123d883ed27e8a955fddf024ed44e2">argMultToNs</a></td></tr>
<tr class="memdesc:a3f123d883ed27e8a955fddf024ed44e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">value to multiple arg by to create ns.  <a href="#a3f123d883ed27e8a955fddf024ed44e2">More...</a><br /></td></tr>
<tr class="separator:a3f123d883ed27e8a955fddf024ed44e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classPCEvent"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classPCEvent')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classPCEvent.html">PCEvent</a></td></tr>
<tr class="memitem:a355a43a2b91547018eaff0351cdf930b inherit pro_attribs_classPCEvent"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPCEvent.html#a355a43a2b91547018eaff0351cdf930b">description</a></td></tr>
<tr class="separator:a355a43a2b91547018eaff0351cdf930b inherit pro_attribs_classPCEvent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef40def0d34969ed4738b533b19a010d inherit pro_attribs_classPCEvent"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPCEventScope.html">PCEventScope</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPCEvent.html#aef40def0d34969ed4738b533b19a010d">scope</a></td></tr>
<tr class="separator:aef40def0d34969ed4738b533b19a010d inherit pro_attribs_classPCEvent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcc7befc6bc8b417081225b19ac50beb inherit pro_attribs_classPCEvent"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPCEvent.html#afcc7befc6bc8b417081225b19ac50beb">evpc</a></td></tr>
<tr class="separator:afcc7befc6bc8b417081225b19ac50beb inherit pro_attribs_classPCEvent"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class to skip udelay() and related calls in the kernel. </p>
<p>This class has two additional parameters that take the argument to udelay and manipulated it to come up with ns and eventually ticks to quiesce for. See descriptions of argDivToNs and argMultToNs below. </p>

<p class="definition">Definition at line <a class="el" href="freebsd_2events_8hh_source.html#l00045">45</a> of file <a class="el" href="freebsd_2events_8hh_source.html">events.hh</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3eeab1b27b7648056f431fd3f88ef4c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eeab1b27b7648056f431fd3f88ef4c5">&#9670;&nbsp;</a></span>UDelayEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FreeBSD::UDelayEvent::UDelayEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPCEventScope.html">PCEventScope</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>mult</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>div</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="freebsd_2events_8hh_source.html#l00060">60</a> of file <a class="el" href="freebsd_2events_8hh_source.html">events.hh</a>.</p>

<p class="reference">References <a class="el" href="freebsd_2events_8cc_source.html#l00049">process()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a22fbf56a8baa071bf747a21de4edcbc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22fbf56a8baa071bf747a21de4edcbc7">&#9670;&nbsp;</a></span>process()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FreeBSD::UDelayEvent::process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classThreadContext.html">ThreadContext</a> *&#160;</td>
          <td class="paramname"><em>xc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classSkipFuncEvent.html#ad1edb1268b2aca0ec02112d28ada85a1">SkipFuncEvent</a>.</p>

<p class="definition">Definition at line <a class="el" href="freebsd_2events_8cc_source.html#l00049">49</a> of file <a class="el" href="freebsd_2events_8cc_source.html">events.cc</a>.</p>

<p class="reference">References <a class="el" href="freebsd_2events_8hh_source.html#l00052">argDivToNs</a>, <a class="el" href="freebsd_2events_8hh_source.html#l00057">argMultToNs</a>, <a class="el" href="alpha_2utility_8cc_source.html#l00041">AlphaISA::getArgument()</a>, <a class="el" href="system__events_8cc_source.html#l00044">SkipFuncEvent::process()</a>, and <a class="el" href="sim_2pseudo__inst_8cc_source.html#l00256">PseudoInst::quiesceNs()</a>.</p>

<p class="reference">Referenced by <a class="el" href="freebsd_2events_8hh_source.html#l00060">UDelayEvent()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="adfaf73f265af9ed769df2610094fb111"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfaf73f265af9ed769df2610094fb111">&#9670;&nbsp;</a></span>argDivToNs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t FreeBSD::UDelayEvent::argDivToNs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>value to divide arg by to create ns. </p>
<p>This is present beacues the linux kernel code sometime precomputes the first multiply that is done in udelay() if the parameter is a constant. We need to undo it so here is how. </p>

<p class="definition">Definition at line <a class="el" href="freebsd_2events_8hh_source.html#l00052">52</a> of file <a class="el" href="freebsd_2events_8hh_source.html">events.hh</a>.</p>

<p class="reference">Referenced by <a class="el" href="freebsd_2events_8cc_source.html#l00049">process()</a>.</p>

</div>
</div>
<a id="a3f123d883ed27e8a955fddf024ed44e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f123d883ed27e8a955fddf024ed44e2">&#9670;&nbsp;</a></span>argMultToNs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t FreeBSD::UDelayEvent::argMultToNs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>value to multiple arg by to create ns. </p>
<p>Nominally, this is 1000 to convert us to ns, but since linux can do some preprocessing of constant values something else might be required. </p>

<p class="definition">Definition at line <a class="el" href="freebsd_2events_8hh_source.html#l00057">57</a> of file <a class="el" href="freebsd_2events_8hh_source.html">events.hh</a>.</p>

<p class="reference">Referenced by <a class="el" href="freebsd_2events_8cc_source.html#l00049">process()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>kern/freebsd/<a class="el" href="freebsd_2events_8hh_source.html">events.hh</a></li>
<li>kern/freebsd/<a class="el" href="freebsd_2events_8cc_source.html">events.cc</a></li>
</ul>
</div><!-- contents -->
<hr size="1"><address style="align: right;"><small>
Generated on Mon Nov 25 2019 12:52:25 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.8.13</small></address>
</body>
</html>
